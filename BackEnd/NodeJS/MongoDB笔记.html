<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>ZerDocs</title>
    <meta name="description" content="Front-end learning document collection.">
    <meta name="generator" content="VitePress v1.2.3">
    <link rel="preload stylesheet" href="/zerdocs/assets/style.ugWpp3Z3.css" as="style">
    
    <script type="module" src="/zerdocs/assets/app.DIb6Y08k.js"></script>
    <link rel="preload" href="/zerdocs/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/zerdocs/assets/chunks/framework.CeDYptgm.js">
    <link rel="modulepreload" href="/zerdocs/assets/chunks/theme.BYtwAZAs.js">
    <link rel="modulepreload" href="/zerdocs/assets/BackEnd_NodeJS_MongoDB笔记.md.CchnyCSI.lean.js">
    <link rel="icon" href="/zerdocs/favicon.ico">
    <link rel="icon" type="image/svg+xml" href="/zerdocs/logo.svg">
    <link rel="apple-touch-icon" href="/zerdocs/logo.svg">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-76079ab5><!--[--><!--]--><!--[--><span tabindex="-1" data-v-2db2caa8></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-2db2caa8> Skip to content </a><!--]--><!----><header class="VPNav" data-v-76079ab5 data-v-8cec0322><div class="VPNavBar has-sidebar top" data-v-8cec0322 data-v-521c5ae6><div class="wrapper" data-v-521c5ae6><div class="container" data-v-521c5ae6><div class="title" data-v-521c5ae6><div class="VPNavBarTitle has-sidebar" data-v-521c5ae6 data-v-76cc1f30><a class="title" href="/zerdocs/" data-v-76cc1f30><!--[--><!--]--><!--[--><img class="VPImage logo" src="/zerdocs/logo.svg" alt data-v-2adaed93><!--]--><span data-v-76cc1f30>ZerDocs</span><!--[--><!--]--></a></div></div><div class="content" data-v-521c5ae6><div class="content-body" data-v-521c5ae6><!--[--><!--]--><div class="VPNavBarSearch search" data-v-521c5ae6><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><span class="vp-icon DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-521c5ae6 data-v-16c7a63a><span id="main-nav-aria-label" class="visually-hidden" data-v-16c7a63a>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/zerdocs/FrontEnd/Git/Terminal%E7%BB%88%E7%AB%AF%E7%BE%8E%E5%8C%96" tabindex="0" data-v-16c7a63a data-v-73848baf><!--[--><span data-v-73848baf>🎨 FrontEnd</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/zerdocs/BackEnd/NodeJS/Node%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0" tabindex="0" data-v-16c7a63a data-v-73848baf><!--[--><span data-v-73848baf>🗃️ BackEnd</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/zerdocs/Framework/Vue/%E5%88%97%E8%A1%A8%E6%9C%80%E5%90%8E%E4%B8%80%E6%9D%A1%E6%95%B0%E6%8D%AE%E5%88%A0%E9%99%A4%E5%A4%84%E7%90%86" tabindex="0" data-v-16c7a63a data-v-73848baf><!--[--><span data-v-73848baf>🚚 Framework</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/zerdocs/Problem/" tabindex="0" data-v-16c7a63a data-v-73848baf><!--[--><span data-v-73848baf>📝 Problem</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/zerdocs/Interview/" tabindex="0" data-v-16c7a63a data-v-73848baf><!--[--><span data-v-73848baf>🧑‍💻 Interview</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/zerdocs/GoodTool/" tabindex="0" data-v-16c7a63a data-v-73848baf><!--[--><span data-v-73848baf>🛠 GoodTool</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-521c5ae6 data-v-93e67d45><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to dark theme" aria-checked="false" data-v-93e67d45 data-v-6ff8927a data-v-124ccac4><span class="check" data-v-124ccac4><span class="icon" data-v-124ccac4><!--[--><span class="vpi-sun sun" data-v-6ff8927a></span><span class="vpi-moon moon" data-v-6ff8927a></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-521c5ae6 data-v-eae01a05 data-v-bd9f82c1><!--[--><a class="VPSocialLink no-icon" href="https://github.com/fxzer/zerdocs" aria-label="github" target="_blank" rel="noopener" data-v-bd9f82c1 data-v-ddcbd227><span class="vpi-social-github" /></a><a class="VPSocialLink no-icon" href="https://gitee.com/fxzer/zerdocs" aria-label target="_blank" rel="noopener" data-v-bd9f82c1 data-v-ddcbd227><svg t="1677484943818" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3905" width="200" height="200"><path d="M512 1024C230.4 1024 0 793.6 0 512S230.4 0 512 0s512 230.4 512 512-230.4 512-512 512z m259.2-569.6H480c-12.8 0-25.6 12.8-25.6 25.6v64c0 12.8 12.8 25.6 25.6 25.6h176c12.8 0 25.6 12.8 25.6 25.6v12.8c0 41.6-35.2 76.8-76.8 76.8h-240c-12.8 0-25.6-12.8-25.6-25.6V416c0-41.6 35.2-76.8 76.8-76.8h355.2c12.8 0 25.6-12.8 25.6-25.6v-64c0-12.8-12.8-25.6-25.6-25.6H416c-105.6 0-188.8 86.4-188.8 188.8V768c0 12.8 12.8 25.6 25.6 25.6h374.4c92.8 0 169.6-76.8 169.6-169.6v-144c0-12.8-12.8-25.6-25.6-25.6z" fill="#888888" p-id="3906"></path></svg></a><a class="VPSocialLink no-icon" href="https://juejin.cn/user/3642028720663127/posts" aria-label target="_blank" rel="noopener" data-v-bd9f82c1 data-v-ddcbd227><svg t="1675304957957" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1427" width="280" height="280"><path d="M462.06826667 138.4448c-24.49813333 19.34933333-47.28 37.4496-50.5568 40.25813333l-6.24106667 4.992 11.7024 9.20746667c6.39786667 5.1488 12.64 10.14186667 13.888 11.23413333 1.248 1.09226667 19.19253333 15.29173333 39.63306667 31.67573334l37.2928 29.648 5.61813333-4.21333334c3.12-2.34026667 24.8096-19.6608 48.3712-38.38506666 23.40586667-18.72533333 44.0032-34.95253333 45.56373333-35.88906667 1.71626667-1.09226667 2.96426667-2.34026667 2.96426667-2.96533333 0-0.4672-10.29866667-9.20533333-22.9376-19.03573334-12.79466667-9.9872-24.1856-19.0368-25.43466667-20.12906666-17.008-13.888-53.0528-41.66293333-54.144-41.66293334-0.62506667 0.1568-21.2224 15.9168-45.71946666 35.26506667z m248.88 192.39466667C507.16266667 492.02666667 508.7232 490.77866667 504.97813333 488.4384c-3.2768-2.0288-12.3264-9.05066667-68.34453333-53.36533333-9.67466667-7.64586667-19.81653333-15.76-22.78186667-17.94453334-2.96533333-2.34026667-9.36213333-7.33333333-14.19946666-11.23413333-4.992-3.9008-11.39093333-8.89493333-14.19946667-11.2352-14.04266667-10.92266667-75.83466667-59.76213333-108.91413333-85.8208-6.24213333-4.99306667-12.17066667-9.05066667-12.95146667-9.05066667-0.77973333 0-11.7024 8.27093333-24.1856 18.25706667-12.4832 10.14186667-24.1856 19.50506667-25.90293333 20.75306667-1.872 1.248-5.46133333 4.21333333-7.95733334 6.5536-2.496 2.496-5.14986667 4.36906667-5.77386666 4.36906666-3.2768 0-0.77973333 3.2768 6.86613333 9.36213334 4.36906667 3.43253333 9.36213333 7.33333333 10.76693333 8.5824 1.40373333 1.09226667 10.92266667 8.58133333 21.06453334 16.53973333s24.81066667 19.50506667 32.45653333 25.58933333c20.59733333 16.22933333 34.016 26.9952 136.37653333 107.82293334 51.02506667 40.25813333 94.71573333 74.43093333 96.90026667 75.83466666 3.9008 2.6528 4.21333333 2.6528 7.95733333-0.31146666a1110.848 1110.848 0 0 0 17.1648-13.57546667c7.33333333-5.77386667 15.76-12.4832 18.72426667-14.82346667 32.144-25.27893333 85.35253333-67.25333333 87.2256-68.8128 1.248-1.09226667 13.26293333-10.45546667 26.52586667-20.90986666s40.41386667-31.67573333 60.07466666-47.27893334c19.8176-15.60426667 49.3088-38.85333333 65.84853334-51.8048 16.53973333-12.95146667 29.64693333-24.02986667 29.33546666-24.81066666-0.93653333-1.248-61.47946667-50.24426667-63.97653333-51.49226667-0.77973333-0.46826667-19.81653333 13.57546667-42.13013333 31.20746667z" fill="#515151" p-id="1428"></path><path d="M27.65866667 487.8144c-16.22933333 13.1072-30.4288 24.96533333-31.6768 26.2144-2.496 2.34026667-5.7728-0.46933333 85.35253333 71.3088 35.4208 27.93066667 34.7968 27.46346667 61.47946667 48.528 11.0784 8.73813333 38.6976 30.58346667 61.6352 48.528 40.72533333 32.144 47.904 37.76106667 56.17386666 44.31466667 2.18453333 1.87306667 24.49813333 19.34933333 49.46346667 39.01013333 24.81066667 19.6608 79.11146667 62.41493333 120.46186667 95.0272 41.50613333 32.6112 75.83466667 59.4496 76.6144 59.76213333 0.7808 0.31253333 7.95733333-4.6816 15.91573333-11.0784 23.25013333-18.10133333 96.27626667-75.67893333 108.2912-85.1968 6.08533333-4.83733333 13.7312-10.92266667 17.008-13.41866666 3.2768-2.65386667 6.86506667-5.46133333 7.8016-6.24213334 0.93653333-0.93653333 12.64-10.14293333 25.90186667-20.59733333 22.15786667-17.16373333 63.04-49.30773333 68.65706666-53.98933333 1.248-1.09226667 5.46133333-4.36906667 9.36213334-7.33333334 3.9008-2.96533333 8.42666667-6.70933333 10.14293333-8.11413333 1.71626667-1.4048 15.76-12.4832 31.20746667-24.65386667 31.05066667-24.34133333 45.09546667-35.4208 94.4032-74.27413333 18.4128-14.512 34.64-27.15093333 35.88906666-28.2432 2.65173333-2.18453333 33.54773333-26.52693333 47.59146667-37.60533333 5.1488-3.9008 9.67466667-7.64586667 10.14186667-8.11413334 0.46933333-0.624 6.39786667-5.1488 13.264-10.45333333 6.86506667-5.14986667 14.04266667-10.92266667 16.07146666-12.64l3.58933334-3.12106667-10.6112-8.26986666c-5.7728-4.68053333-10.92266667-8.73813333-11.39093334-9.20533334-1.248-1.4048-23.87306667-19.66186667-32.144-25.90293333-4.21333333-3.2768-7.8016-6.39786667-8.11306666-7.17866667-1.4048-3.27573333-7.17866667 0.1568-31.20853334 19.1936-14.3552 11.23413333-27.4624 21.5328-29.17866666 22.9376-1.71733333 1.56053333-11.2352 8.89386667-21.0656 16.69546667-9.8304 7.64586667-18.256 14.35626667-18.72426667 14.82453333-0.46826667 0.4672-7.02186667 5.7728-14.82346667 11.7024-7.64586667 5.9296-16.22826667 12.4832-18.88 14.66666667-5.3056 4.37013333-5.77386667 4.68266667-21.6896 17.3216-5.93066667 4.68053333-12.01493333 9.36213333-13.264 10.45333333-1.248 1.09333333-21.68853333 17.1648-45.25013333 35.5776-23.56266667 18.56853333-44.31573333 34.95253333-46.032 36.35626667-1.71626667 1.56053333-15.44746667 12.32746667-30.42666667 24.02986667s-43.53493333 34.1728-63.50826666 49.9328c-19.81653333 15.76-45.0944 35.57653333-56.01706667 44.15893333s-24.81066667 19.504-30.896 24.34133333l-11.0784 8.89493334-4.6816-3.2768c-2.496-1.87306667-4.992-3.74506667-5.46133333-4.21333334-0.46826667-0.46826667-5.30453333-4.36906667-10.92266667-8.5824-12.63893333-9.8304-15.44746667-12.01493333-17.78773333-14.04373333-0.93653333-0.93546667-4.52586667-3.744-7.95733334-6.24106667-3.43466667-2.6528-6.55466667-4.99306667-7.02293333-5.46133333-0.46826667-0.46826667-7.33333333-6.08533333-15.44746667-12.4832-8.11413333-6.24106667-15.91573333-12.3264-17.16373333-13.41866667-1.4048-1.248-18.25706667-14.512-37.60533333-29.648-19.19253333-15.136-37.4496-29.4912-40.57066667-31.83146666-6.08533333-4.99306667-35.73226667-28.39893333-133.41226667-105.32586667-36.82453333-29.02293333-77.55093333-61.16693333-90.5024-71.3088-53.0528-42.1312-58.82666667-46.50026667-60.69866666-46.34346667-0.93546667 0-14.9792 10.92266667-31.20746667 24.02986667z" fill="#515151" p-id="1429"></path></svg></a><a class="VPSocialLink no-icon" href="https://space.bilibili.com/228134791" aria-label target="_blank" rel="noopener" data-v-bd9f82c1 data-v-ddcbd227><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" width="20" height="20"  viewBox="0 0 512 512" >
    <path fill="currentColor" d="M488.6 104.1c16.7 18.1 24.4 39.7 23.3 65.7v202.4c-.4 26.4-9.2 48.1-26.5 65.1c-17.2 17-39.1 25.9-65.5 26.7H92.02c-26.45-.8-48.21-9.8-65.28-27.2C9.682 419.4.767 396.5 0 368.2V169.8c.767-26 9.682-47.6 26.74-65.7C43.81 87.75 65.57 78.77 92.02 78h29.38L96.05 52.19c-5.75-5.73-8.63-13-8.63-21.79c0-8.8 2.88-16.06 8.63-21.797C101.8 2.868 109.1 0 117.9 0s16.1 2.868 21.9 8.603L213.1 78h88l74.5-69.397C381.7 2.868 389.2 0 398 0c8.8 0 16.1 2.868 21.9 8.603c5.7 5.737 8.6 12.997 8.6 21.797c0 8.79-2.9 16.06-8.6 21.79L394.6 78h29.3c26.4.77 48 9.75 64.7 26.1zm-38.8 69.7c-.4-9.6-3.7-17.4-10.7-23.5c-5.2-6.1-14-9.4-22.7-9.8H96.05c-9.59.4-17.45 3.7-23.58 9.8c-6.14 6.1-9.4 13.9-9.78 23.5v194.4c0 9.2 3.26 17 9.78 23.5s14.38 9.8 23.58 9.8H416.4c9.2 0 17-3.3 23.3-9.8c6.3-6.5 9.7-14.3 10.1-23.5V173.8zm-264.3 42.7c6.3 6.3 9.7 14.1 10.1 23.2V273c-.4 9.2-3.7 16.9-9.8 23.2c-6.2 6.3-14 9.5-23.6 9.5c-9.6 0-17.5-3.2-23.6-9.5c-6.1-6.3-9.4-14-9.8-23.2v-33.3c.4-9.1 3.8-16.9 10.1-23.2c6.3-6.3 13.2-9.6 23.3-10c9.2.4 17 3.7 23.3 10zm191.5 0c6.3 6.3 9.7 14.1 10.1 23.2V273c-.4 9.2-3.7 16.9-9.8 23.2c-6.1 6.3-14 9.5-23.6 9.5c-9.6 0-17.4-3.2-23.6-9.5c-7-6.3-9.4-14-9.7-23.2v-33.3c.3-9.1 3.7-16.9 10-23.2c6.3-6.3 14.1-9.6 23.3-10c9.2.4 17 3.7 23.3 10z"></path>
  </svg></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-521c5ae6 data-v-d3e3d078 data-v-f1703979><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-f1703979><span class="vpi-more-horizontal icon" data-v-f1703979></span></button><div class="menu" data-v-f1703979><div class="VPMenu" data-v-f1703979 data-v-51bc2a09><!----><!--[--><!--[--><!----><div class="group" data-v-d3e3d078><div class="item appearance" data-v-d3e3d078><p class="label" data-v-d3e3d078>主题切换</p><div class="appearance-action" data-v-d3e3d078><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to dark theme" aria-checked="false" data-v-d3e3d078 data-v-6ff8927a data-v-124ccac4><span class="check" data-v-124ccac4><span class="icon" data-v-124ccac4><!--[--><span class="vpi-sun sun" data-v-6ff8927a></span><span class="vpi-moon moon" data-v-6ff8927a></span><!--]--></span></span></button></div></div></div><div class="group" data-v-d3e3d078><div class="item social-links" data-v-d3e3d078><div class="VPSocialLinks social-links-list" data-v-d3e3d078 data-v-bd9f82c1><!--[--><a class="VPSocialLink no-icon" href="https://github.com/fxzer/zerdocs" aria-label="github" target="_blank" rel="noopener" data-v-bd9f82c1 data-v-ddcbd227><span class="vpi-social-github" /></a><a class="VPSocialLink no-icon" href="https://gitee.com/fxzer/zerdocs" aria-label target="_blank" rel="noopener" data-v-bd9f82c1 data-v-ddcbd227><svg t="1677484943818" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3905" width="200" height="200"><path d="M512 1024C230.4 1024 0 793.6 0 512S230.4 0 512 0s512 230.4 512 512-230.4 512-512 512z m259.2-569.6H480c-12.8 0-25.6 12.8-25.6 25.6v64c0 12.8 12.8 25.6 25.6 25.6h176c12.8 0 25.6 12.8 25.6 25.6v12.8c0 41.6-35.2 76.8-76.8 76.8h-240c-12.8 0-25.6-12.8-25.6-25.6V416c0-41.6 35.2-76.8 76.8-76.8h355.2c12.8 0 25.6-12.8 25.6-25.6v-64c0-12.8-12.8-25.6-25.6-25.6H416c-105.6 0-188.8 86.4-188.8 188.8V768c0 12.8 12.8 25.6 25.6 25.6h374.4c92.8 0 169.6-76.8 169.6-169.6v-144c0-12.8-12.8-25.6-25.6-25.6z" fill="#888888" p-id="3906"></path></svg></a><a class="VPSocialLink no-icon" href="https://juejin.cn/user/3642028720663127/posts" aria-label target="_blank" rel="noopener" data-v-bd9f82c1 data-v-ddcbd227><svg t="1675304957957" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1427" width="280" height="280"><path d="M462.06826667 138.4448c-24.49813333 19.34933333-47.28 37.4496-50.5568 40.25813333l-6.24106667 4.992 11.7024 9.20746667c6.39786667 5.1488 12.64 10.14186667 13.888 11.23413333 1.248 1.09226667 19.19253333 15.29173333 39.63306667 31.67573334l37.2928 29.648 5.61813333-4.21333334c3.12-2.34026667 24.8096-19.6608 48.3712-38.38506666 23.40586667-18.72533333 44.0032-34.95253333 45.56373333-35.88906667 1.71626667-1.09226667 2.96426667-2.34026667 2.96426667-2.96533333 0-0.4672-10.29866667-9.20533333-22.9376-19.03573334-12.79466667-9.9872-24.1856-19.0368-25.43466667-20.12906666-17.008-13.888-53.0528-41.66293333-54.144-41.66293334-0.62506667 0.1568-21.2224 15.9168-45.71946666 35.26506667z m248.88 192.39466667C507.16266667 492.02666667 508.7232 490.77866667 504.97813333 488.4384c-3.2768-2.0288-12.3264-9.05066667-68.34453333-53.36533333-9.67466667-7.64586667-19.81653333-15.76-22.78186667-17.94453334-2.96533333-2.34026667-9.36213333-7.33333333-14.19946666-11.23413333-4.992-3.9008-11.39093333-8.89493333-14.19946667-11.2352-14.04266667-10.92266667-75.83466667-59.76213333-108.91413333-85.8208-6.24213333-4.99306667-12.17066667-9.05066667-12.95146667-9.05066667-0.77973333 0-11.7024 8.27093333-24.1856 18.25706667-12.4832 10.14186667-24.1856 19.50506667-25.90293333 20.75306667-1.872 1.248-5.46133333 4.21333333-7.95733334 6.5536-2.496 2.496-5.14986667 4.36906667-5.77386666 4.36906666-3.2768 0-0.77973333 3.2768 6.86613333 9.36213334 4.36906667 3.43253333 9.36213333 7.33333333 10.76693333 8.5824 1.40373333 1.09226667 10.92266667 8.58133333 21.06453334 16.53973333s24.81066667 19.50506667 32.45653333 25.58933333c20.59733333 16.22933333 34.016 26.9952 136.37653333 107.82293334 51.02506667 40.25813333 94.71573333 74.43093333 96.90026667 75.83466666 3.9008 2.6528 4.21333333 2.6528 7.95733333-0.31146666a1110.848 1110.848 0 0 0 17.1648-13.57546667c7.33333333-5.77386667 15.76-12.4832 18.72426667-14.82346667 32.144-25.27893333 85.35253333-67.25333333 87.2256-68.8128 1.248-1.09226667 13.26293333-10.45546667 26.52586667-20.90986666s40.41386667-31.67573333 60.07466666-47.27893334c19.8176-15.60426667 49.3088-38.85333333 65.84853334-51.8048 16.53973333-12.95146667 29.64693333-24.02986667 29.33546666-24.81066666-0.93653333-1.248-61.47946667-50.24426667-63.97653333-51.49226667-0.77973333-0.46826667-19.81653333 13.57546667-42.13013333 31.20746667z" fill="#515151" p-id="1428"></path><path d="M27.65866667 487.8144c-16.22933333 13.1072-30.4288 24.96533333-31.6768 26.2144-2.496 2.34026667-5.7728-0.46933333 85.35253333 71.3088 35.4208 27.93066667 34.7968 27.46346667 61.47946667 48.528 11.0784 8.73813333 38.6976 30.58346667 61.6352 48.528 40.72533333 32.144 47.904 37.76106667 56.17386666 44.31466667 2.18453333 1.87306667 24.49813333 19.34933333 49.46346667 39.01013333 24.81066667 19.6608 79.11146667 62.41493333 120.46186667 95.0272 41.50613333 32.6112 75.83466667 59.4496 76.6144 59.76213333 0.7808 0.31253333 7.95733333-4.6816 15.91573333-11.0784 23.25013333-18.10133333 96.27626667-75.67893333 108.2912-85.1968 6.08533333-4.83733333 13.7312-10.92266667 17.008-13.41866666 3.2768-2.65386667 6.86506667-5.46133333 7.8016-6.24213334 0.93653333-0.93653333 12.64-10.14293333 25.90186667-20.59733333 22.15786667-17.16373333 63.04-49.30773333 68.65706666-53.98933333 1.248-1.09226667 5.46133333-4.36906667 9.36213334-7.33333334 3.9008-2.96533333 8.42666667-6.70933333 10.14293333-8.11413333 1.71626667-1.4048 15.76-12.4832 31.20746667-24.65386667 31.05066667-24.34133333 45.09546667-35.4208 94.4032-74.27413333 18.4128-14.512 34.64-27.15093333 35.88906666-28.2432 2.65173333-2.18453333 33.54773333-26.52693333 47.59146667-37.60533333 5.1488-3.9008 9.67466667-7.64586667 10.14186667-8.11413334 0.46933333-0.624 6.39786667-5.1488 13.264-10.45333333 6.86506667-5.14986667 14.04266667-10.92266667 16.07146666-12.64l3.58933334-3.12106667-10.6112-8.26986666c-5.7728-4.68053333-10.92266667-8.73813333-11.39093334-9.20533334-1.248-1.4048-23.87306667-19.66186667-32.144-25.90293333-4.21333333-3.2768-7.8016-6.39786667-8.11306666-7.17866667-1.4048-3.27573333-7.17866667 0.1568-31.20853334 19.1936-14.3552 11.23413333-27.4624 21.5328-29.17866666 22.9376-1.71733333 1.56053333-11.2352 8.89386667-21.0656 16.69546667-9.8304 7.64586667-18.256 14.35626667-18.72426667 14.82453333-0.46826667 0.4672-7.02186667 5.7728-14.82346667 11.7024-7.64586667 5.9296-16.22826667 12.4832-18.88 14.66666667-5.3056 4.37013333-5.77386667 4.68266667-21.6896 17.3216-5.93066667 4.68053333-12.01493333 9.36213333-13.264 10.45333333-1.248 1.09333333-21.68853333 17.1648-45.25013333 35.5776-23.56266667 18.56853333-44.31573333 34.95253333-46.032 36.35626667-1.71626667 1.56053333-15.44746667 12.32746667-30.42666667 24.02986667s-43.53493333 34.1728-63.50826666 49.9328c-19.81653333 15.76-45.0944 35.57653333-56.01706667 44.15893333s-24.81066667 19.504-30.896 24.34133333l-11.0784 8.89493334-4.6816-3.2768c-2.496-1.87306667-4.992-3.74506667-5.46133333-4.21333334-0.46826667-0.46826667-5.30453333-4.36906667-10.92266667-8.5824-12.63893333-9.8304-15.44746667-12.01493333-17.78773333-14.04373333-0.93653333-0.93546667-4.52586667-3.744-7.95733334-6.24106667-3.43466667-2.6528-6.55466667-4.99306667-7.02293333-5.46133333-0.46826667-0.46826667-7.33333333-6.08533333-15.44746667-12.4832-8.11413333-6.24106667-15.91573333-12.3264-17.16373333-13.41866667-1.4048-1.248-18.25706667-14.512-37.60533333-29.648-19.19253333-15.136-37.4496-29.4912-40.57066667-31.83146666-6.08533333-4.99306667-35.73226667-28.39893333-133.41226667-105.32586667-36.82453333-29.02293333-77.55093333-61.16693333-90.5024-71.3088-53.0528-42.1312-58.82666667-46.50026667-60.69866666-46.34346667-0.93546667 0-14.9792 10.92266667-31.20746667 24.02986667z" fill="#515151" p-id="1429"></path></svg></a><a class="VPSocialLink no-icon" href="https://space.bilibili.com/228134791" aria-label target="_blank" rel="noopener" data-v-bd9f82c1 data-v-ddcbd227><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" width="20" height="20"  viewBox="0 0 512 512" >
    <path fill="currentColor" d="M488.6 104.1c16.7 18.1 24.4 39.7 23.3 65.7v202.4c-.4 26.4-9.2 48.1-26.5 65.1c-17.2 17-39.1 25.9-65.5 26.7H92.02c-26.45-.8-48.21-9.8-65.28-27.2C9.682 419.4.767 396.5 0 368.2V169.8c.767-26 9.682-47.6 26.74-65.7C43.81 87.75 65.57 78.77 92.02 78h29.38L96.05 52.19c-5.75-5.73-8.63-13-8.63-21.79c0-8.8 2.88-16.06 8.63-21.797C101.8 2.868 109.1 0 117.9 0s16.1 2.868 21.9 8.603L213.1 78h88l74.5-69.397C381.7 2.868 389.2 0 398 0c8.8 0 16.1 2.868 21.9 8.603c5.7 5.737 8.6 12.997 8.6 21.797c0 8.79-2.9 16.06-8.6 21.79L394.6 78h29.3c26.4.77 48 9.75 64.7 26.1zm-38.8 69.7c-.4-9.6-3.7-17.4-10.7-23.5c-5.2-6.1-14-9.4-22.7-9.8H96.05c-9.59.4-17.45 3.7-23.58 9.8c-6.14 6.1-9.4 13.9-9.78 23.5v194.4c0 9.2 3.26 17 9.78 23.5s14.38 9.8 23.58 9.8H416.4c9.2 0 17-3.3 23.3-9.8c6.3-6.5 9.7-14.3 10.1-23.5V173.8zm-264.3 42.7c6.3 6.3 9.7 14.1 10.1 23.2V273c-.4 9.2-3.7 16.9-9.8 23.2c-6.2 6.3-14 9.5-23.6 9.5c-9.6 0-17.5-3.2-23.6-9.5c-6.1-6.3-9.4-14-9.8-23.2v-33.3c.4-9.1 3.8-16.9 10.1-23.2c6.3-6.3 13.2-9.6 23.3-10c9.2.4 17 3.7 23.3 10zm191.5 0c6.3 6.3 9.7 14.1 10.1 23.2V273c-.4 9.2-3.7 16.9-9.8 23.2c-6.1 6.3-14 9.5-23.6 9.5c-9.6 0-17.4-3.2-23.6-9.5c-7-6.3-9.4-14-9.7-23.2v-33.3c.3-9.1 3.7-16.9 10-23.2c6.3-6.3 14.1-9.6 23.3-10c9.2.4 17 3.7 23.3 10z"></path>
  </svg></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-521c5ae6 data-v-e47cd7a3><span class="container" data-v-e47cd7a3><span class="top" data-v-e47cd7a3></span><span class="middle" data-v-e47cd7a3></span><span class="bottom" data-v-e47cd7a3></span></span></button></div></div></div></div><div class="divider" data-v-521c5ae6><div class="divider-line" data-v-521c5ae6></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-76079ab5 data-v-a6a8a0e3><div class="container" data-v-a6a8a0e3><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-a6a8a0e3><span class="vpi-align-left menu-icon" data-v-a6a8a0e3></span><span class="menu-text" data-v-a6a8a0e3>目录</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-a6a8a0e3 data-v-c43730cf><button data-v-c43730cf>返回顶部</button><!----></div></div></div><aside class="VPSidebar" data-v-76079ab5 data-v-8ee42bd1><div class="curtain" data-v-8ee42bd1></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-8ee42bd1><span class="visually-hidden" id="sidebar-aria-label" data-v-8ee42bd1> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-8ee42bd1><section class="VPSidebarItem level-0 has-active" data-v-8ee42bd1 data-v-d8c3ae16><!----><div class="items" data-v-d8c3ae16><!--[--><section class="VPSidebarItem level-1 collapsible has-active" data-v-d8c3ae16 data-v-d8c3ae16><div class="item" role="button" tabindex="0" data-v-d8c3ae16><div class="indicator" data-v-d8c3ae16></div><h3 class="text" data-v-d8c3ae16>NodeJS</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-d8c3ae16><span class="vpi-chevron-right caret-icon" data-v-d8c3ae16></span></div></div><div class="items" data-v-d8c3ae16><!--[--><div class="VPSidebarItem level-2 is-link" data-v-d8c3ae16 data-v-d8c3ae16><div class="item" data-v-d8c3ae16><div class="indicator" data-v-d8c3ae16></div><a class="VPLink link link" href="/zerdocs/BackEnd/NodeJS/MongoDB笔记.html" data-v-d8c3ae16><!--[--><p class="text" data-v-d8c3ae16>MongoDB笔记</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-d8c3ae16 data-v-d8c3ae16><div class="item" data-v-d8c3ae16><div class="indicator" data-v-d8c3ae16></div><a class="VPLink link link" href="/zerdocs/BackEnd/NodeJS/Node大文件上传.html" data-v-d8c3ae16><!--[--><p class="text" data-v-d8c3ae16>Node大文件上传</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-d8c3ae16 data-v-d8c3ae16><div class="item" data-v-d8c3ae16><div class="indicator" data-v-d8c3ae16></div><a class="VPLink link link" href="/zerdocs/BackEnd/NodeJS/Node学习笔记.html" data-v-d8c3ae16><!--[--><p class="text" data-v-d8c3ae16>Node学习笔记</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-d8c3ae16 data-v-d8c3ae16><div class="item" data-v-d8c3ae16><div class="indicator" data-v-d8c3ae16></div><a class="VPLink link link" href="/zerdocs/BackEnd/NodeJS/Node简单上传文件.html" data-v-d8c3ae16><!--[--><p class="text" data-v-d8c3ae16>Node简单上传文件</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1 collapsible" data-v-d8c3ae16 data-v-d8c3ae16><div class="item" role="button" tabindex="0" data-v-d8c3ae16><div class="indicator" data-v-d8c3ae16></div><h3 class="text" data-v-d8c3ae16>Server</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-d8c3ae16><span class="vpi-chevron-right caret-icon" data-v-d8c3ae16></span></div></div><div class="items" data-v-d8c3ae16><!--[--><div class="VPSidebarItem level-2 is-link" data-v-d8c3ae16 data-v-d8c3ae16><div class="item" data-v-d8c3ae16><div class="indicator" data-v-d8c3ae16></div><a class="VPLink link link" href="/zerdocs/BackEnd/Server/Docker学习笔记.html" data-v-d8c3ae16><!--[--><p class="text" data-v-d8c3ae16>Docker学习笔记</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-d8c3ae16 data-v-d8c3ae16><div class="item" data-v-d8c3ae16><div class="indicator" data-v-d8c3ae16></div><a class="VPLink link link" href="/zerdocs/BackEnd/Server/Nginx学习笔记.html" data-v-d8c3ae16><!--[--><p class="text" data-v-d8c3ae16>Nginx学习笔记</p><!--]--></a><!----></div><!----></div><!--]--></div></section><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-76079ab5 data-v-2414496a><div class="VPDoc has-sidebar has-aside" data-v-2414496a data-v-850e60ce><!--[--><!--]--><div class="container" data-v-850e60ce><div class="aside" data-v-850e60ce><div class="aside-curtain" data-v-850e60ce></div><div class="aside-container" data-v-850e60ce><div class="aside-content" data-v-850e60ce><div class="VPDocAside" data-v-850e60ce data-v-badceb2b><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-badceb2b data-v-85b54378><div class="content" data-v-85b54378><div class="outline-marker" data-v-85b54378></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-85b54378>文章目录</div><ul class="VPDocOutlineItem root" data-v-85b54378 data-v-1c1ea98c><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-badceb2b></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-850e60ce><div class="content-container" data-v-850e60ce><!--[--><!--]--><main class="main" data-v-850e60ce><div style="position:relative;" class="vp-doc _zerdocs_BackEnd_NodeJS_MongoDB%E7%AC%94%E8%AE%B0" data-v-850e60ce><div><h2 id="一、相关概念" tabindex="-1">一、相关概念 <a class="header-anchor" href="#一、相关概念" aria-label="Permalink to &quot;一、相关概念&quot;">​</a></h2><p><strong>MongoDB是文档型的NoSQL数据库</strong>。</p><p><img src="https://vnote-bucket.oss-cn-shanghai.aliyuncs.com/image-20220508194905648.png" alt="image-20220508194905648" data-zoomable=""></p><p><img src="https://vnote-bucket.oss-cn-shanghai.aliyuncs.com/image-20220507220553150.png" alt="image-20220507220553150" data-zoomable=""></p><p><strong>优点</strong>：</p><ol><li><p>高性能</p></li><li><p>高可用性</p></li><li><p>可扩展分片集群</p></li></ol><p><strong>应用场景</strong>：（数据量大、读写操作频繁、对事务要求不高）</p><h2 id="二、数据库操作" tabindex="-1">二、数据库操作 <a class="header-anchor" href="#二、数据库操作" aria-label="Permalink to &quot;二、数据库操作&quot;">​</a></h2><p><strong>查看所有数据库</strong></p><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;" tabindex="0"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">show</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> databases</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">show</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> dbs</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#连接数据库后默认在test库</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">use</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> testdb01</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">   #切换数据库</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><img src="https://vnote-bucket.oss-cn-shanghai.aliyuncs.com/image-20220507215028603.png" alt="image-20220507215028603" data-zoomable=""></p><p><strong>创建/删除数据库</strong></p><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;" tabindex="0"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">use</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 数据库名</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">   # use testdb01</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">db</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">   #查看所在数据库</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">db.dropDatabase</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">()</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">   #删除当前所在库</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="三、集合相关操作" tabindex="-1">三、集合相关操作 <a class="header-anchor" href="#三、集合相关操作" aria-label="Permalink to &quot;三、集合相关操作&quot;">​</a></h2><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;" tabindex="0"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">show</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> collections</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">   # 查看数据库集合  show tables;</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">db.createCollection(</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&#39;collectionName&#39;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">,[option]</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">)</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">   #显式创建集合</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">db.users.insert(</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">{</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">&#39;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">name</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&#39;:&#39;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">李四</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&#39;});   #隐式创建集合 往不存在的集合插入数据</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">db.users.drop();   #删除集合</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="四、文档相关操作" tabindex="-1">四、文档相关操作 <a class="header-anchor" href="#四、文档相关操作" aria-label="Permalink to &quot;四、文档相关操作&quot;">​</a></h2><h3 id="_1-查询" tabindex="-1">1.查询 <a class="header-anchor" href="#_1-查询" aria-label="Permalink to &quot;1.查询&quot;">​</a></h3><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;" tabindex="0"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">db.users.find</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">()</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">   #查询所有 SELECT * from users</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">db.getCollection(</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&#39;users&#39;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">)</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">.find</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">()</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">  #查询所有</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">db.getCollection(</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&#39;users&#39;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">)</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">.findOne</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">()</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">  #查询第一个</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">db.getCollection(</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&#39;users&#39;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">).findOne({name:&#39;zhang3&#39;})    #查询符合条件的第一个</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">db.users.find(</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> {</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> name:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 1,</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> age:</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 1</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> }</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> )   </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#SELECT _id,name,age from users</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">db.users.find(</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> {</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">  name:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 1,</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> age:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 1,</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> _id:</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 0</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> }</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> )   </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#去除id字段</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">db.users.find(</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> {</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> name:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 0,</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> age:</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 0</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> }</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> )   </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#去除特定字段</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">db.users.find</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">()</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">.pretty</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">()</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">   #格式化查询(适用于长/复杂数据)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><ul><li><strong>等值查询</strong></li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;" tabindex="0"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">db.users.find(</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> {</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> age:18}</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> )</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#  WHERE age = 18</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li><strong>AND条件</strong></li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;" tabindex="0"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">db.users.find(</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> {</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> age:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> {</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> $lt</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">:</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 30</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> }</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ,sex:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">男</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">,}</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> )</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#  WHERE sex = &quot;男&quot; AND age &lt; 30</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">db.users.find(</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> {</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> age:24,</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> age:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> {</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> $lt</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">:</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 30</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> }</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> }</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> )  </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#相同字段and查询中出现多次,以最后一个为查询条件</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#  WHERE age &lt; 30</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ul><li><strong>OR条件</strong></li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;" tabindex="0"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">db.users.find(</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> {</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> $or</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">:</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> [{</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sex:</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&#39;男&#39;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">},</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> {</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> age:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> {</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> $lt</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">:</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 30</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> }</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> }</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ]</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> }</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> )</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#  WHERE sex = &quot;男&quot; OR age &lt; 30</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li><strong>同时使用AND和OR条件</strong></li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;" tabindex="0"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">db.users.find(</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> {</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">    {</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> like:</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&#39;美女&#39;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">},</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">     $or</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">:</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> [{</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sex:</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&#39;男&#39;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">},</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> {</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> age:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> {</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> $lt</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">:</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 30</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> }</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> },{</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> name:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /^p/</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> }</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ]</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> )</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#  WHERE like = &quot;美女&quot; AND (sex = &quot;男&quot; OR age &lt; 30 OR name LIKE &quot;%p%&quot;)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ul><li><strong>查询条件中使用查询操作符</strong></li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;" tabindex="0"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">db.users.find(</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> {</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> age:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> {</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> $in</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">:</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> [ </span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">20</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">,</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">22</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ]</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> }</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> }</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> )</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li><strong>模糊查询</strong></li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;" tabindex="0"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">db.users.find(</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> {</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> name:/张/}</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> ) </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#查询名字中含有&#39;张&#39;的所有</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># WHERE name LIKE &quot;%张%</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li><strong>数组中的查询</strong></li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;" tabindex="0"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">db.users.find(likes:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">{</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">$size</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">:3}</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">)  </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#查询&#39;喜好&#39;数组大小为3</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li><strong>排序</strong></li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;" tabindex="0"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">db.users.find</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">()</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">.sort({age:-1}) # 1 升序   -1 降序 (没有这个字段的数据排在前面)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li><strong>分页</strong></li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;" tabindex="0"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">db.users.find</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">()</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">.skip(</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">40</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">).limit(</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">30</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">) </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 跳过40条数据查30条数据 (起始0,则从40开始)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li><strong>条数</strong></li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;" tabindex="0"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">db.users.find</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">()</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">.count</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">()</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li><strong>去重</strong></li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;" tabindex="0"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">db.users.find</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">()</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">.distinct(</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&#39;字段&#39;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li><strong>对比语法:</strong></li></ul><p><img src="https://vnote-bucket.oss-cn-shanghai.aliyuncs.com/image-20220507231641824.png" alt="image-20220507231641824" data-zoomable=""></p><h3 id="_2-插入" tabindex="-1">2.插入 <a class="header-anchor" href="#_2-插入" aria-label="Permalink to &quot;2.插入&quot;">​</a></h3><ul><li><strong>单条文档</strong></li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;" tabindex="0"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">db.users.insert(</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">{</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">&#39;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">name</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&#39;:&#39;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">李四</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&#39;,age:18,sex:&#39;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">男</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&#39;});  # 提示已弃用</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">db.getCollection(&#39;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">users</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&#39;).insert({&#39;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">name</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&#39;:&#39;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">李四</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&#39;,age:18,sex:&#39;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">男</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&#39;})</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">db.users.insertOne({&#39;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">name</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&#39;:&#39;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">赵六</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&#39;})</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li><strong>多条文档</strong></li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;" tabindex="0"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">db.users.insert([</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">{name:</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&#39;缘一&#39;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">},</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">{name:</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&#39;二楞&#39;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">}]</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">)</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">db.users.insertMany([</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">{name:</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&#39;缘一1&#39;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">},</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">{name:</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&#39;二楞1&#39;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">}]</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">)</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">db.getCollection(</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&#39;users&#39;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">).insertMany(</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">[</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">{name:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">zhang3</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">,age:19},{name:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">zhang4</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">,age:19}</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">]</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li><strong>脚本方式</strong></li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;" tabindex="0"><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">for</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">let</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> i</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> =</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">0</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">i</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">&lt;5</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">i++</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">{</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">  db.users.insert(</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">{id:i,name:</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&#39;zhang&#39;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">+i}</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">)</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="_3-删除" tabindex="-1">3.删除 <a class="header-anchor" href="#_3-删除" aria-label="Permalink to &quot;3.删除&quot;">​</a></h3><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;" tabindex="0"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">db.users.remove(</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">{}</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">)   </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#删除所有文档</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">db.users.remove(</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">{_id:ObjectId</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">(</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&quot;62767f841f41a9d7de748124&quot;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">)})   </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#删除某一条</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">db.users.remove(</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">{age:20}</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">)   </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#删除满足条件的数据</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">db.getCollection(</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&#39;users&#39;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">).deleteOne({name:&#39;zhang3&#39;})   #删除某一条</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">db.getCollection(</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&#39;users&#39;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">).deleteMany({age:18})   #删除满足条件的数据</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="_4-更新" tabindex="-1">4.更新 <a class="header-anchor" href="#_4-更新" aria-label="Permalink to &quot;4.更新&quot;">​</a></h3><p>语法 :</p><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;" tabindex="0"><code><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">/* db.集合名称.update(</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">  &lt;query&gt;,</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">    &lt;update&gt;,</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">    {</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">        updert:&lt;boolean&gt;,</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">        multi:&lt;boolean&gt;,</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">      writeConcern:&lt;document&gt; //抛出异常的级别</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">    }</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">) */</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;" tabindex="0"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">db.users.update(</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">{_id:ObjectId</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">(</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&#39;627686574f57a31b328b63ab&#39;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">)},{</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">$set</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">:{</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">age:24,likes:[</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&#39;代码&#39;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">,</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&#39;吃饭&#39;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">]}}</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">)  </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#指定更新</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">db.users.update(</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">{age:18}</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">,</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">{</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">$set</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">:{age:24,likes:[</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&#39;动漫&#39;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">,</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&#39;美女&#39;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">]}}</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">)  </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#更新匹配到的第一条</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">db.users.update(</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">    {</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">age:18},</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">    {</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">$set</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">:{</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">age:24,likes:[</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&#39;动漫&#39;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">,</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&#39;美女&#39;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">]}},</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">    {</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">multi:true}</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">   #更新多条</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">    {</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">upsert:true}</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">   #不存在则插入</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">)  #更新匹配到的所有</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">db.getCollection(</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&#39;users&#39;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">).update({age:18},{$set:{age:24,likes:[&#39;动漫&#39;,&#39;美女&#39;]}})  #更新匹配到的第一条</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h2 id="五、mongoose学习" tabindex="-1">五、<a href="http://www.mongoosejs.net/docs/index.html" target="_blank" rel="noreferrer">Mongoose学习</a> <a class="header-anchor" href="#五、mongoose学习" aria-label="Permalink to &quot;五、[Mongoose学习](http://www.mongoosejs.net/docs/index.html)&quot;">​</a></h2><h3 id="_1-插入" tabindex="-1">1.插入 <a class="header-anchor" href="#_1-插入" aria-label="Permalink to &quot;1.插入&quot;">​</a></h3><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;" tabindex="0"><code><span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">exports</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">register</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> async</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> (</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">req</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> res</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> next</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =&gt;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">  try</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">    let</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> user</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> new</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> User</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">req</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">body</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">user</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    await</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> user</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">save</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">()</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">    // 转化为json才能移除密码</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    user</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> user</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">toJSON</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">()</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">    delete</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> user</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">password</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    res</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">send</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">({</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">      msg</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">注册成功!</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">      user</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">    })</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">  }</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">  catch</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> (</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">error</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">    next</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">error</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">  }</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h3 id="_2-删除" tabindex="-1">2.删除 <a class="header-anchor" href="#_2-删除" aria-label="Permalink to &quot;2.删除&quot;">​</a></h3><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;" tabindex="0"><code><span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">exports</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">deleteArticle</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> async</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> (</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">req</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> res</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> next</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =&gt;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">  try</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">    const</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> id</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> mongoose</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">Types</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">ObjectId</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">req</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">body</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">id</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">    const</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> result</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> await</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> Article</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">findByIdAndRemove</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">id</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    console</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">log</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">result: </span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> result</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    res</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">succ</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">({</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">      msg</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">文章删除成功!</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">    })</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">  }</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">  catch</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> (</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">error</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    res</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">errs</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">error</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">  }</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h3 id="_3-更新" tabindex="-1">3.更新 <a class="header-anchor" href="#_3-更新" aria-label="Permalink to &quot;3.更新&quot;">​</a></h3><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;" tabindex="0"><code><span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">exports</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">updateArticle</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> async</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> (</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">req</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> res</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> next</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =&gt;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">  const</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> article</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> req</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">body</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">article</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">  try</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">    const</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> _id</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> id</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> title</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> desc</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> body</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> tagList</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> }</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> req</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">body</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">article</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">    const</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> article</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> await</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> Article</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">findByIdAndUpdate</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">      id</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">      {</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> $set</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> req</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">body</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">article</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> },</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">      {</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> new</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> true</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> }</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">    )</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    res</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">succ</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">({</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">      msg</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">文章更新成功!</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">      article</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">    })</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">  }</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">  catch</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> (</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">error</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    res</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">errs</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">error</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">  }</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h3 id="_4-查询" tabindex="-1">4.查询 <a class="header-anchor" href="#_4-查询" aria-label="Permalink to &quot;4.查询&quot;">​</a></h3><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;" tabindex="0"><code><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">// 获取一个文章</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">exports</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">getArticleById</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> async</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> (</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">req</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> res</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> next</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =&gt;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">  try</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">    // 映射用户</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">    const</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> article</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> await</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> Article</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">findById</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">req</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">params</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">articleId</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">).</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">populate</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span></span>
<span class="line"><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">      &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">author</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">    )</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    if</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> (</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">!</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">article</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">      return</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> res</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">errs</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">文章不存在!</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    res</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">succ</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">({</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">      msg</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">文章查询成功!</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">      article</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">    })</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">  }</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">  catch</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> (</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">error</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    res</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">errs</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">error</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">  }</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;" tabindex="0"><code><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">// 获取文章列表</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">exports</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">getArticles</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> async</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> (</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">req</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> res</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> next</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =&gt;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">  try</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">    const</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">      limit</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 20</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">      offset</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 0</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">      tag</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">      author</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">      favorited</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">      sortBy</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">    }</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> req</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">body</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">conditions</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> ||</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {}</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">    const</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> filter</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {}</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    if</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> (</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">tag</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">      filter</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">tagList</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> tag</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">    // 某个作者的文章</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    if</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> (</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">author</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">      const</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> user</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> await</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> User</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">findOne</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">({</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> username</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> author</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> })</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">      filter</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">author</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> user</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> ?</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> user</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">_id</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> :</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> null</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">    }</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">    const</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> articleList</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> await</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> Article</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">find</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">filter</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">      .</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">skip</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">Number</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">parseInt</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">offset</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">))</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">      .</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">limit</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">Number</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">parseInt</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">limit</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">))</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">      .</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sort</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">({</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> creeateAt</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> -</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">1</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> ...</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">sortBy</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> })</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">    const</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> articleCount</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> await</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> Article</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">find</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">filter</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">      .</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">skip</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">offset</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">      .</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">limit</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">limit</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">      .</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">count</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">()</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">    const</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> totalCount</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> await</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> Article</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">countDocuments</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">()</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    if</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> (</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">!</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">articleList</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">      return</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> res</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">errs</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">暂无文章!</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    res</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">succ</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">({</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">      msg</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">文章查询列表成功!</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">      articleList</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">      articleCount</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">      totalCount</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">    })</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">  }</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">  catch</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> (</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">error</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    res</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">errs</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">error</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">  }</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br></div></div><h3 id="_5-模型" tabindex="-1">5.模型 <a class="header-anchor" href="#_5-模型" aria-label="Permalink to &quot;5.模型&quot;">​</a></h3><p>📝model/index.js</p><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;" tabindex="0"><code><span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">const</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> mongoose</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> require</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">mongoose</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">const</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> dbUri</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> }</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> require</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">../config/config.default</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">mongoose</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">connect</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">dbUri</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">const</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> db</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> mongoose</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">connection</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">db</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">on</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">error</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> console</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">error</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">bind</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">console</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">MongDB数据库连接失败!</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">))</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">db</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">once</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">open</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> ()</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =&gt;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">  console</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">log</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">MongDB数据库连接成功!</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">})</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">const</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> Cat</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> mongoose</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">model</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Cat</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> name</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> String</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> })</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">module</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">exports</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">  User</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> mongoose</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">model</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">User</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> require</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">./user</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)),</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">  Article</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> mongoose</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">model</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Article</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> require</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">./article</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)),</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>📝model/base.js</p><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;" tabindex="0"><code><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">// 基础模型</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">module</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">exports</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">  createAt</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">    type</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> Date</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">    default</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> Date</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">now</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">  },</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">  updtedAt</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">    type</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> Date</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">    default</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> Date</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">now</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">  },</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>📝model/user.js</p><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;" tabindex="0"><code><span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">const</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> mongoose</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> require</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">mongoose</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">const</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> md5</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> require</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">../util/md5</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">const</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> baseSchema</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> require</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">./base</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">// 用户模型</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">const</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> userSchema</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> new</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> mongoose</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Schema</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">({</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">  ...</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">baseSchema</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">  username</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">    type</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> String</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">    required</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> true</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">  },</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">  password</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">    type</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> String</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">    required</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> true</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">    set</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> value</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =&gt;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> md5</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">value</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">),</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">    select</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> false</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">  },</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">  email</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">    type</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> String</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">    required</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> true</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">  },</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">  bio</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">    type</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> String</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">    default</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> null</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">  },</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">  image</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">    type</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> String</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">    default</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> null</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">  },</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">})</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">module</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">exports</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> userSchema</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br></div></div><p>📝model/article.js</p><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;" tabindex="0"><code><span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">const</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> mongoose</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> require</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">mongoose</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">const</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> Schema</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> mongoose</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">Schema</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">const</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> baseSchema</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> require</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">./base</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">// 文章模型</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">const</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> articleSchema</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> new</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> mongoose</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Schema</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">({</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">  ...</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">baseSchema</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">  title</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">    type</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> String</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">    required</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> true</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">  },</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">  desc</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">    type</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> String</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">    required</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> true</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">  },</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">  body</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">    type</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> String</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">    required</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> true</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">  },</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">  favoritesCount</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">    type</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> Number</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">    default</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 0</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">  },</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">  tagList</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">    type</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> [</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">String</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">],</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">    default</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> null</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">  },</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">  author</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">    type</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> Schema</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">Types</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">ObjectId</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">    ref</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">User</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">    required</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> true</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">  },</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">})</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">module</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">exports</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> articleSchema</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br></div></div></div></div></main><footer class="VPDocFooter" data-v-850e60ce data-v-c4fed8c0><!--[--><!--]--><div class="edit-info" data-v-c4fed8c0><div class="edit-link" data-v-c4fed8c0><a class="VPLink link vp-external-link-icon no-icon edit-link-button" href="https://github.com/fxzer/zerdocs/edit/master/docs/BackEnd/NodeJS/MongoDB笔记.md" target="_blank" rel="noreferrer" data-v-c4fed8c0><!--[--><span class="vpi-square-pen edit-link-icon" data-v-c4fed8c0></span> Edit this page<!--]--></a></div><!----></div><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-c4fed8c0><span class="visually-hidden" id="doc-footer-aria-label" data-v-c4fed8c0>Pager</span><div class="pager" data-v-c4fed8c0><!----></div><div class="pager" data-v-c4fed8c0><a class="VPLink link pager-link next" href="/zerdocs/BackEnd/NodeJS/Node大文件上传.html" data-v-c4fed8c0><!--[--><span class="desc" data-v-c4fed8c0>下一页</span><span class="title" data-v-c4fed8c0>Node大文件上传</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-76079ab5 data-v-0fc33986><div class="container" data-v-0fc33986><p class="message" data-v-0fc33986>Released under the <a href="https://github.com/fxzer/zerdocs/blob/master/LICENSE">MIT License</a>.</p><p class="copyright" data-v-0fc33986>Copyright © 2023-present <a href="https://github.com/fxzer">fxzer</a>.</p></div></footer><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"frontend_javascript_代码分支优化.md\":\"DKG9ZlaN\",\"frontend_git_配置多个平台ssh.md\":\"CdccN-VQ\",\"backend_nodejs_node简单上传文件.md\":\"DGJsaS-j\",\"interview_vue_vue声明周期.md\":\"DdxY5_ir\",\"interview_vue_vue进阶篇.md\":\"D9tREFij\",\"interview_vue_npm run xxx执行过程.md\":\"BZZcE-ub\",\"interview_vue_前端项目优化.md\":\"Cn-TYO5v\",\"interview_javascript_promise相关.md\":\"GjwDIYkU\",\"interview_javascript_原型与原型链.md\":\"Ca4TQiuV\",\"interview_css_高级面试题.md\":\"DLDUBhF8\",\"interview_vue_自定义指令.md\":\"CIveZvmM\",\"interview_vue_vue基础篇.md\":\"CgH-xLfr\",\"framework_react_react基础总结一.md\":\"BHLj8OvG\",\"framework_angular_angular基础总结三.md\":\"Bcv5a8b2\",\"backend_server_nginx学习笔记.md\":\"BF3EFy1b\",\"frontend_javascript_易混淆的位置属性.md\":\"D1F8otD7\",\"framework_vitest_测试流程.md\":\"BbX3Xdwd\",\"interview_javascript_字符串常用方法.md\":\"BLiKD-Xp\",\"framework_vue_vite原理学习.md\":\"nVyg1Llv\",\"frontend_javascript_时间格式化.md\":\"DK44A4D7\",\"framework_vue_vue2项目迁移vite5.md\":\"Dz203fWb\",\"frontend_css_常用代码段.md\":\"C2sslTcy\",\"frontend_git_terminal终端美化.md\":\"1n1ggLrP\",\"frontend_css_揭秘读书摘要.md\":\"C6SytqiZ\",\"frontend_git_配置 ubuntu 服务器免密登录.md\":\"g4lJ-BM5\",\"frontend_javascript_async与await.md\":\"CAuK7AOY\",\"frontend_javascript_获取目录结构.md\":\"Cz9LftEe\",\"frontend_javascript_基础复习一.md\":\"DQ82LG1V\",\"frontend_javascript_图片懒加载.md\":\"B8t-F5b3\",\"problem_graphical_antv使用总结.md\":\"DKqkIsxt\",\"frontend_javascript_基础复习二.md\":\"BZV8p6iE\",\"framework_vue_列表最后一条数据删除处理.md\":\"DCh5UkIo\",\"frontend_other_package文件详解.md\":\"B7dHNgry\",\"frontend_typescript_进阶使用技巧.md\":\"K_3hk3BH\",\"interview_brower_事件循环机制.md\":\"DtS6KwMj\",\"interview_brower_计算机网络.md\":\"DpSgavQi\",\"frontend_javascript_数据去重.md\":\"D4DykI5o\",\"interview_css_基础面试题.md\":\"CSt1kSU2\",\"interview_javascript_进阶面试题.md\":\"DtujkHfn\",\"interview_javascript_基础面试题.md\":\"WCdiK1Kf\",\"frontend_typescript_配置文件详解.md\":\"Ce2MpB1P\",\"interview_javascript_高级面试题.md\":\"Bv0xAClh\",\"interview_index.md\":\"qNBV8abT\",\"problem_index.md\":\"CBspz44b\",\"frontend_other_mac系统环境快速搭建.md\":\"CvAd6-TJ\",\"framework_vue_vue3补漏笔记.md\":\"wVCNMyob\",\"framework_vue_分页与搜索条件记录并回显优化.md\":\"CCzxDxOG\",\"interview_vue_vue响应式原理.md\":\"BINY4W3A\",\"frontend_shell_自动部署脚本.md\":\"BU4JvjvK\",\"framework_vue_网站添加 pwa.md\":\"BiebLhUA\",\"problem_graphical_echarts问题总结.md\":\"Czc5ip5w\",\"problem_nuxt3_nuxt3项目踩坑.md\":\"CmSeWreP\",\"problem_vitepress_vuepress踩坑记录.md\":\"DYhKDYjD\",\"frontend_css_svg描边动画.md\":\"BzYvFYCL\",\"backend_nodejs_mongodb笔记.md\":\"CchnyCSI\",\"problem_graphical_antv代码片段集锦.md\":\"ylrkb_u9\",\"backend_server_docker学习笔记.md\":\"C5OBeTQw\",\"frontend_javascript_文件系统.md\":\"ClWdCGzx\",\"problem_nuxt3_unocss 动态设置变量.md\":\"B6OVv81s\",\"framework_angular_angular基础总结二.md\":\"BXS4AlZN\",\"frontend_javascript_正则表达式.md\":\"BaE2jHFP\",\"backend_nodejs_node学习笔记.md\":\"BVb-0ZVC\",\"interview_javascript_设计模式.md\":\"i9isjowG\",\"frontend_javascript_手写promise.md\":\"0T4WWCxH\",\"interview_css_进阶面试题.md\":\"BF9rY3KL\",\"frontend_git_git常用操作.md\":\"Cn-qGdVq\",\"frontend_javascript_数组求集合.md\":\"Bku-P8s5\",\"frontend_shell_获取页面所有域名并去重.md\":\"CXjbzW0d\",\"frontend_javascript_高阶函数.md\":\"DmZwEQNU\",\"frontend_typescript_初学笔记.md\":\"DPnkxrz-\",\"problem_vueproject_vue.md\":\"CvXcTwY_\",\"framework_angular_angular基础总结一.md\":\"DfQFxfUc\",\"interview_vue_常见path区别.md\":\"BxUirtpr\",\"problem_vitepress_vitepress踩坑记录.md\":\"Dtlb06Jm\",\"index.md\":\"Bbr03qVv\",\"goodtool_index.md\":\"DEhEHZ37\",\"frontend_css_grid布局学习笔记.md\":\"CyeCJW-I\",\"problem_vueproject_vue项目踩坑一.md\":\"B__jgiW4\",\"interview_brower_浏览器网页请求过程.md\":\"7pbvCRLr\",\"backend_nodejs_node大文件上传.md\":\"Xyl4bST0\",\"problem_vueproject_vuerouter加密query.md\":\"-oZsIfoR\",\"frontend_javascript_常见算法.md\":\"CgRocD_h\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"ZerDocs\",\"description\":\"Front-end learning document collection.\",\"base\":\"/zerdocs/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"search\":{\"provider\":\"local\"},\"outline\":\"deep\",\"outlineTitle\":\"文章目录\",\"logo\":\"/logo.svg\",\"returnToTopLabel\":\"返回顶部\",\"sidebarMenuLabel\":\"目录\",\"darkModeSwitchLabel\":\"主题切换\",\"footer\":{\"message\":\"Released under the <a href=\\\"https://github.com/fxzer/zerdocs/blob/master/LICENSE\\\">MIT License</a>.\",\"copyright\":\"Copyright © 2023-present <a href=\\\"https://github.com/fxzer\\\">fxzer</a>.\"},\"docFooter\":{\"prev\":\"上一页\",\"next\":\"下一页\"},\"nav\":[{\"text\":\"🎨 FrontEnd\",\"link\":\"/FrontEnd/Git/Terminal终端美化\"},{\"text\":\"🗃️ BackEnd\",\"link\":\"/BackEnd/NodeJS/Node学习笔记\"},{\"text\":\"🚚 Framework\",\"link\":\"/Framework/Vue/列表最后一条数据删除处理\"},{\"text\":\"📝 Problem\",\"link\":\"/Problem/\"},{\"text\":\"🧑‍💻 Interview\",\"link\":\"/Interview/\"},{\"text\":\"🛠 GoodTool\",\"link\":\"/GoodTool/\"}],\"editLink\":{\"pattern\":\"https://github.com/fxzer/zerdocs/edit/master/docs/:path\"},\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/fxzer/zerdocs\"},{\"link\":\"https://gitee.com/fxzer/zerdocs\",\"icon\":{\"svg\":\"<svg t=\\\"1677484943818\\\" class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" p-id=\\\"3905\\\" width=\\\"200\\\" height=\\\"200\\\"><path d=\\\"M512 1024C230.4 1024 0 793.6 0 512S230.4 0 512 0s512 230.4 512 512-230.4 512-512 512z m259.2-569.6H480c-12.8 0-25.6 12.8-25.6 25.6v64c0 12.8 12.8 25.6 25.6 25.6h176c12.8 0 25.6 12.8 25.6 25.6v12.8c0 41.6-35.2 76.8-76.8 76.8h-240c-12.8 0-25.6-12.8-25.6-25.6V416c0-41.6 35.2-76.8 76.8-76.8h355.2c12.8 0 25.6-12.8 25.6-25.6v-64c0-12.8-12.8-25.6-25.6-25.6H416c-105.6 0-188.8 86.4-188.8 188.8V768c0 12.8 12.8 25.6 25.6 25.6h374.4c92.8 0 169.6-76.8 169.6-169.6v-144c0-12.8-12.8-25.6-25.6-25.6z\\\" fill=\\\"#888888\\\" p-id=\\\"3906\\\"></path></svg>\"}},{\"link\":\"https://juejin.cn/user/3642028720663127/posts\",\"icon\":{\"svg\":\"<svg t=\\\"1675304957957\\\" class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" p-id=\\\"1427\\\" width=\\\"280\\\" height=\\\"280\\\"><path d=\\\"M462.06826667 138.4448c-24.49813333 19.34933333-47.28 37.4496-50.5568 40.25813333l-6.24106667 4.992 11.7024 9.20746667c6.39786667 5.1488 12.64 10.14186667 13.888 11.23413333 1.248 1.09226667 19.19253333 15.29173333 39.63306667 31.67573334l37.2928 29.648 5.61813333-4.21333334c3.12-2.34026667 24.8096-19.6608 48.3712-38.38506666 23.40586667-18.72533333 44.0032-34.95253333 45.56373333-35.88906667 1.71626667-1.09226667 2.96426667-2.34026667 2.96426667-2.96533333 0-0.4672-10.29866667-9.20533333-22.9376-19.03573334-12.79466667-9.9872-24.1856-19.0368-25.43466667-20.12906666-17.008-13.888-53.0528-41.66293333-54.144-41.66293334-0.62506667 0.1568-21.2224 15.9168-45.71946666 35.26506667z m248.88 192.39466667C507.16266667 492.02666667 508.7232 490.77866667 504.97813333 488.4384c-3.2768-2.0288-12.3264-9.05066667-68.34453333-53.36533333-9.67466667-7.64586667-19.81653333-15.76-22.78186667-17.94453334-2.96533333-2.34026667-9.36213333-7.33333333-14.19946666-11.23413333-4.992-3.9008-11.39093333-8.89493333-14.19946667-11.2352-14.04266667-10.92266667-75.83466667-59.76213333-108.91413333-85.8208-6.24213333-4.99306667-12.17066667-9.05066667-12.95146667-9.05066667-0.77973333 0-11.7024 8.27093333-24.1856 18.25706667-12.4832 10.14186667-24.1856 19.50506667-25.90293333 20.75306667-1.872 1.248-5.46133333 4.21333333-7.95733334 6.5536-2.496 2.496-5.14986667 4.36906667-5.77386666 4.36906666-3.2768 0-0.77973333 3.2768 6.86613333 9.36213334 4.36906667 3.43253333 9.36213333 7.33333333 10.76693333 8.5824 1.40373333 1.09226667 10.92266667 8.58133333 21.06453334 16.53973333s24.81066667 19.50506667 32.45653333 25.58933333c20.59733333 16.22933333 34.016 26.9952 136.37653333 107.82293334 51.02506667 40.25813333 94.71573333 74.43093333 96.90026667 75.83466666 3.9008 2.6528 4.21333333 2.6528 7.95733333-0.31146666a1110.848 1110.848 0 0 0 17.1648-13.57546667c7.33333333-5.77386667 15.76-12.4832 18.72426667-14.82346667 32.144-25.27893333 85.35253333-67.25333333 87.2256-68.8128 1.248-1.09226667 13.26293333-10.45546667 26.52586667-20.90986666s40.41386667-31.67573333 60.07466666-47.27893334c19.8176-15.60426667 49.3088-38.85333333 65.84853334-51.8048 16.53973333-12.95146667 29.64693333-24.02986667 29.33546666-24.81066666-0.93653333-1.248-61.47946667-50.24426667-63.97653333-51.49226667-0.77973333-0.46826667-19.81653333 13.57546667-42.13013333 31.20746667z\\\" fill=\\\"#515151\\\" p-id=\\\"1428\\\"></path><path d=\\\"M27.65866667 487.8144c-16.22933333 13.1072-30.4288 24.96533333-31.6768 26.2144-2.496 2.34026667-5.7728-0.46933333 85.35253333 71.3088 35.4208 27.93066667 34.7968 27.46346667 61.47946667 48.528 11.0784 8.73813333 38.6976 30.58346667 61.6352 48.528 40.72533333 32.144 47.904 37.76106667 56.17386666 44.31466667 2.18453333 1.87306667 24.49813333 19.34933333 49.46346667 39.01013333 24.81066667 19.6608 79.11146667 62.41493333 120.46186667 95.0272 41.50613333 32.6112 75.83466667 59.4496 76.6144 59.76213333 0.7808 0.31253333 7.95733333-4.6816 15.91573333-11.0784 23.25013333-18.10133333 96.27626667-75.67893333 108.2912-85.1968 6.08533333-4.83733333 13.7312-10.92266667 17.008-13.41866666 3.2768-2.65386667 6.86506667-5.46133333 7.8016-6.24213334 0.93653333-0.93653333 12.64-10.14293333 25.90186667-20.59733333 22.15786667-17.16373333 63.04-49.30773333 68.65706666-53.98933333 1.248-1.09226667 5.46133333-4.36906667 9.36213334-7.33333334 3.9008-2.96533333 8.42666667-6.70933333 10.14293333-8.11413333 1.71626667-1.4048 15.76-12.4832 31.20746667-24.65386667 31.05066667-24.34133333 45.09546667-35.4208 94.4032-74.27413333 18.4128-14.512 34.64-27.15093333 35.88906666-28.2432 2.65173333-2.18453333 33.54773333-26.52693333 47.59146667-37.60533333 5.1488-3.9008 9.67466667-7.64586667 10.14186667-8.11413334 0.46933333-0.624 6.39786667-5.1488 13.264-10.45333333 6.86506667-5.14986667 14.04266667-10.92266667 16.07146666-12.64l3.58933334-3.12106667-10.6112-8.26986666c-5.7728-4.68053333-10.92266667-8.73813333-11.39093334-9.20533334-1.248-1.4048-23.87306667-19.66186667-32.144-25.90293333-4.21333333-3.2768-7.8016-6.39786667-8.11306666-7.17866667-1.4048-3.27573333-7.17866667 0.1568-31.20853334 19.1936-14.3552 11.23413333-27.4624 21.5328-29.17866666 22.9376-1.71733333 1.56053333-11.2352 8.89386667-21.0656 16.69546667-9.8304 7.64586667-18.256 14.35626667-18.72426667 14.82453333-0.46826667 0.4672-7.02186667 5.7728-14.82346667 11.7024-7.64586667 5.9296-16.22826667 12.4832-18.88 14.66666667-5.3056 4.37013333-5.77386667 4.68266667-21.6896 17.3216-5.93066667 4.68053333-12.01493333 9.36213333-13.264 10.45333333-1.248 1.09333333-21.68853333 17.1648-45.25013333 35.5776-23.56266667 18.56853333-44.31573333 34.95253333-46.032 36.35626667-1.71626667 1.56053333-15.44746667 12.32746667-30.42666667 24.02986667s-43.53493333 34.1728-63.50826666 49.9328c-19.81653333 15.76-45.0944 35.57653333-56.01706667 44.15893333s-24.81066667 19.504-30.896 24.34133333l-11.0784 8.89493334-4.6816-3.2768c-2.496-1.87306667-4.992-3.74506667-5.46133333-4.21333334-0.46826667-0.46826667-5.30453333-4.36906667-10.92266667-8.5824-12.63893333-9.8304-15.44746667-12.01493333-17.78773333-14.04373333-0.93653333-0.93546667-4.52586667-3.744-7.95733334-6.24106667-3.43466667-2.6528-6.55466667-4.99306667-7.02293333-5.46133333-0.46826667-0.46826667-7.33333333-6.08533333-15.44746667-12.4832-8.11413333-6.24106667-15.91573333-12.3264-17.16373333-13.41866667-1.4048-1.248-18.25706667-14.512-37.60533333-29.648-19.19253333-15.136-37.4496-29.4912-40.57066667-31.83146666-6.08533333-4.99306667-35.73226667-28.39893333-133.41226667-105.32586667-36.82453333-29.02293333-77.55093333-61.16693333-90.5024-71.3088-53.0528-42.1312-58.82666667-46.50026667-60.69866666-46.34346667-0.93546667 0-14.9792 10.92266667-31.20746667 24.02986667z\\\" fill=\\\"#515151\\\" p-id=\\\"1429\\\"></path></svg>\"}},{\"icon\":{\"svg\":\"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" aria-hidden=\\\"true\\\" role=\\\"img\\\" width=\\\"20\\\" height=\\\"20\\\"  viewBox=\\\"0 0 512 512\\\" >\\n    <path fill=\\\"currentColor\\\" d=\\\"M488.6 104.1c16.7 18.1 24.4 39.7 23.3 65.7v202.4c-.4 26.4-9.2 48.1-26.5 65.1c-17.2 17-39.1 25.9-65.5 26.7H92.02c-26.45-.8-48.21-9.8-65.28-27.2C9.682 419.4.767 396.5 0 368.2V169.8c.767-26 9.682-47.6 26.74-65.7C43.81 87.75 65.57 78.77 92.02 78h29.38L96.05 52.19c-5.75-5.73-8.63-13-8.63-21.79c0-8.8 2.88-16.06 8.63-21.797C101.8 2.868 109.1 0 117.9 0s16.1 2.868 21.9 8.603L213.1 78h88l74.5-69.397C381.7 2.868 389.2 0 398 0c8.8 0 16.1 2.868 21.9 8.603c5.7 5.737 8.6 12.997 8.6 21.797c0 8.79-2.9 16.06-8.6 21.79L394.6 78h29.3c26.4.77 48 9.75 64.7 26.1zm-38.8 69.7c-.4-9.6-3.7-17.4-10.7-23.5c-5.2-6.1-14-9.4-22.7-9.8H96.05c-9.59.4-17.45 3.7-23.58 9.8c-6.14 6.1-9.4 13.9-9.78 23.5v194.4c0 9.2 3.26 17 9.78 23.5s14.38 9.8 23.58 9.8H416.4c9.2 0 17-3.3 23.3-9.8c6.3-6.5 9.7-14.3 10.1-23.5V173.8zm-264.3 42.7c6.3 6.3 9.7 14.1 10.1 23.2V273c-.4 9.2-3.7 16.9-9.8 23.2c-6.2 6.3-14 9.5-23.6 9.5c-9.6 0-17.5-3.2-23.6-9.5c-6.1-6.3-9.4-14-9.8-23.2v-33.3c.4-9.1 3.8-16.9 10.1-23.2c6.3-6.3 13.2-9.6 23.3-10c9.2.4 17 3.7 23.3 10zm191.5 0c6.3 6.3 9.7 14.1 10.1 23.2V273c-.4 9.2-3.7 16.9-9.8 23.2c-6.1 6.3-14 9.5-23.6 9.5c-9.6 0-17.4-3.2-23.6-9.5c-7-6.3-9.4-14-9.7-23.2v-33.3c.3-9.1 3.7-16.9 10-23.2c6.3-6.3 14.1-9.6 23.3-10c9.2.4 17 3.7 23.3 10z\\\"></path>\\n  </svg>\"},\"link\":\"https://space.bilibili.com/228134791\"}],\"sidebar\":{\"/BackEnd/\":[{\"items\":[{\"text\":\"NodeJS\",\"items\":[{\"text\":\"MongoDB笔记\",\"link\":\"/BackEnd/NodeJS/MongoDB笔记.html\"},{\"text\":\"Node大文件上传\",\"link\":\"/BackEnd/NodeJS/Node大文件上传.html\"},{\"text\":\"Node学习笔记\",\"link\":\"/BackEnd/NodeJS/Node学习笔记.html\"},{\"text\":\"Node简单上传文件\",\"link\":\"/BackEnd/NodeJS/Node简单上传文件.html\"}],\"collapsed\":false},{\"text\":\"Server\",\"items\":[{\"text\":\"Docker学习笔记\",\"link\":\"/BackEnd/Server/Docker学习笔记.html\"},{\"text\":\"Nginx学习笔记\",\"link\":\"/BackEnd/Server/Nginx学习笔记.html\"}],\"collapsed\":false}]}],\"/Framework/\":[{\"items\":[{\"text\":\"Angular\",\"items\":[{\"text\":\"Angular基础总结一\",\"link\":\"/Framework/Angular/Angular基础总结一.html\"},{\"text\":\"Angular基础总结三\",\"link\":\"/Framework/Angular/Angular基础总结三.html\"},{\"text\":\"Angular基础总结二\",\"link\":\"/Framework/Angular/Angular基础总结二.html\"}],\"collapsed\":false},{\"text\":\"React\",\"items\":[{\"text\":\"React基础总结一\",\"link\":\"/Framework/React/React基础总结一.html\"}],\"collapsed\":false},{\"text\":\"Vitest\",\"items\":[{\"text\":\"测试流程\",\"link\":\"/Framework/Vitest/测试流程.html\"}],\"collapsed\":false},{\"text\":\"Vue\",\"items\":[{\"text\":\"Vite原理学习\",\"link\":\"/Framework/Vue/Vite原理学习.html\"},{\"text\":\"Vue2项目迁移Vite5\",\"link\":\"/Framework/Vue/Vue2项目迁移Vite5.html\"},{\"text\":\"Vue3补漏笔记\",\"link\":\"/Framework/Vue/Vue3补漏笔记.html\"},{\"text\":\"分页与搜索条件记录并回显优化\",\"link\":\"/Framework/Vue/分页与搜索条件记录并回显优化.html\"},{\"text\":\"列表最后一条数据删除处理\",\"link\":\"/Framework/Vue/列表最后一条数据删除处理.html\"},{\"text\":\"网站添加 PWA\",\"link\":\"/Framework/Vue/网站添加 PWA.html\"}],\"collapsed\":false}]}],\"/FrontEnd/\":[{\"items\":[{\"text\":\"CSS\",\"items\":[{\"text\":\"Grid布局学习笔记\",\"link\":\"/FrontEnd/CSS/Grid布局学习笔记.html\"},{\"text\":\"SVG描边动画\",\"link\":\"/FrontEnd/CSS/SVG描边动画.html\"},{\"text\":\"常用代码段\",\"link\":\"/FrontEnd/CSS/常用代码段.html\"},{\"text\":\"揭秘读书摘要\",\"link\":\"/FrontEnd/CSS/揭秘读书摘要.html\"}],\"collapsed\":false},{\"text\":\"Git\",\"items\":[{\"text\":\"Git常用操作\",\"link\":\"/FrontEnd/Git/Git常用操作.html\"},{\"text\":\"Terminal终端美化\",\"link\":\"/FrontEnd/Git/Terminal终端美化.html\"},{\"text\":\"配置 Ubuntu 服务器免密登录\",\"link\":\"/FrontEnd/Git/配置 Ubuntu 服务器免密登录.html\"},{\"text\":\"配置多个平台SSH\",\"link\":\"/FrontEnd/Git/配置多个平台SSH.html\"}],\"collapsed\":false},{\"text\":\"JavaScript\",\"items\":[{\"text\":\"async与await\",\"link\":\"/FrontEnd/JavaScript/async与await.html\"},{\"text\":\"代码分支优化\",\"link\":\"/FrontEnd/JavaScript/代码分支优化.html\"},{\"text\":\"图片懒加载\",\"link\":\"/FrontEnd/JavaScript/图片懒加载.html\"},{\"text\":\"基础复习一\",\"link\":\"/FrontEnd/JavaScript/基础复习一.html\"},{\"text\":\"基础复习二\",\"link\":\"/FrontEnd/JavaScript/基础复习二.html\"},{\"text\":\"常见算法\",\"link\":\"/FrontEnd/JavaScript/常见算法.html\"},{\"text\":\"手写Promise\",\"link\":\"/FrontEnd/JavaScript/手写Promise.html\"},{\"text\":\"数据去重\",\"link\":\"/FrontEnd/JavaScript/数据去重.html\"},{\"text\":\"数组求集合\",\"link\":\"/FrontEnd/JavaScript/数组求集合.html\"},{\"text\":\"文件系统\",\"link\":\"/FrontEnd/JavaScript/文件系统.html\"},{\"text\":\"时间格式化\",\"link\":\"/FrontEnd/JavaScript/时间格式化.html\"},{\"text\":\"易混淆的位置属性\",\"link\":\"/FrontEnd/JavaScript/易混淆的位置属性.html\"},{\"text\":\"正则表达式\",\"link\":\"/FrontEnd/JavaScript/正则表达式.html\"},{\"text\":\"获取目录结构\",\"link\":\"/FrontEnd/JavaScript/获取目录结构.html\"},{\"text\":\"高阶函数\",\"link\":\"/FrontEnd/JavaScript/高阶函数.html\"}],\"collapsed\":false},{\"text\":\"Other\",\"items\":[{\"text\":\"Mac系统环境快速搭建\",\"link\":\"/FrontEnd/Other/Mac系统环境快速搭建.html\"},{\"text\":\"package文件详解\",\"link\":\"/FrontEnd/Other/package文件详解.html\"}],\"collapsed\":false},{\"text\":\"Shell\",\"items\":[{\"text\":\"自动部署脚本\",\"link\":\"/FrontEnd/Shell/自动部署脚本.html\"},{\"text\":\"获取页面所有域名并去重\",\"link\":\"/FrontEnd/Shell/获取页面所有域名并去重.html\"}],\"collapsed\":false},{\"text\":\"TypeScript\",\"items\":[{\"text\":\"初学笔记\",\"link\":\"/FrontEnd/TypeScript/初学笔记.html\"},{\"text\":\"进阶使用技巧\",\"link\":\"/FrontEnd/TypeScript/进阶使用技巧.html\"},{\"text\":\"配置文件详解\",\"link\":\"/FrontEnd/TypeScript/配置文件详解.html\"}],\"collapsed\":false}]}],\"/GoodTool/\":[{\"items\":[]}],\"/Interview/\":[{\"items\":[{\"text\":\"Brower\",\"items\":[{\"text\":\"事件循环机制\",\"link\":\"/Interview/Brower/事件循环机制.html\"},{\"text\":\"浏览器网页请求过程\",\"link\":\"/Interview/Brower/浏览器网页请求过程.html\"},{\"text\":\"计算机网络\",\"link\":\"/Interview/Brower/计算机网络.html\"}],\"collapsed\":false},{\"text\":\"CSS\",\"items\":[{\"text\":\"基础面试题\",\"link\":\"/Interview/CSS/基础面试题.html\"},{\"text\":\"进阶面试题\",\"link\":\"/Interview/CSS/进阶面试题.html\"},{\"text\":\"高级面试题\",\"link\":\"/Interview/CSS/高级面试题.html\"}],\"collapsed\":false},{\"text\":\"JavaScript\",\"items\":[{\"text\":\"Promise相关\",\"link\":\"/Interview/JavaScript/Promise相关.html\"},{\"text\":\"原型与原型链\",\"link\":\"/Interview/JavaScript/原型与原型链.html\"},{\"text\":\"基础面试题\",\"link\":\"/Interview/JavaScript/基础面试题.html\"},{\"text\":\"字符串常用方法\",\"link\":\"/Interview/JavaScript/字符串常用方法.html\"},{\"text\":\"设计模式\",\"link\":\"/Interview/JavaScript/设计模式.html\"},{\"text\":\"进阶面试题\",\"link\":\"/Interview/JavaScript/进阶面试题.html\"},{\"text\":\"高级面试题\",\"link\":\"/Interview/JavaScript/高级面试题.html\"}],\"collapsed\":false},{\"text\":\"Vue\",\"items\":[{\"text\":\"Vue响应式原理\",\"link\":\"/Interview/Vue/Vue响应式原理.html\"},{\"text\":\"Vue基础篇\",\"link\":\"/Interview/Vue/Vue基础篇.html\"},{\"text\":\"Vue声明周期\",\"link\":\"/Interview/Vue/Vue声明周期.html\"},{\"text\":\"Vue进阶篇\",\"link\":\"/Interview/Vue/Vue进阶篇.html\"},{\"text\":\"npm run xxx执行过程\",\"link\":\"/Interview/Vue/npm run xxx执行过程.html\"},{\"text\":\"前端项目优化\",\"link\":\"/Interview/Vue/前端项目优化.html\"},{\"text\":\"常见Path区别\",\"link\":\"/Interview/Vue/常见Path区别.html\"},{\"text\":\"自定义指令\",\"link\":\"/Interview/Vue/自定义指令.html\"}],\"collapsed\":false}]}],\"/Problem/\":[{\"items\":[{\"text\":\"Graphical\",\"items\":[{\"text\":\"Antv代码片段集锦\",\"link\":\"/Problem/Graphical/Antv代码片段集锦.html\"},{\"text\":\"Antv使用总结\",\"link\":\"/Problem/Graphical/Antv使用总结.html\"},{\"text\":\"Echarts问题总结\",\"link\":\"/Problem/Graphical/Echarts问题总结.html\"}],\"collapsed\":false},{\"text\":\"Nuxt3\",\"items\":[{\"text\":\"Nuxt3项目踩坑\",\"link\":\"/Problem/Nuxt3/Nuxt3项目踩坑.html\"},{\"text\":\"UnoCSS 动态设置变量\",\"link\":\"/Problem/Nuxt3/UnoCSS 动态设置变量.html\"}],\"collapsed\":false},{\"text\":\"VitePress\",\"items\":[{\"text\":\"VitePress踩坑记录\",\"link\":\"/Problem/VitePress/VitePress踩坑记录.html\"},{\"text\":\"VuePress踩坑记录\",\"link\":\"/Problem/VitePress/VuePress踩坑记录.html\"}],\"collapsed\":false},{\"text\":\"VueProject\",\"items\":[{\"text\":\"Vue\",\"link\":\"/Problem/VueProject/Vue.html\"},{\"text\":\"VueRouter加密query\",\"link\":\"/Problem/VueProject/VueRouter加密query.html\"},{\"text\":\"Vue项目踩坑一\",\"link\":\"/Problem/VueProject/Vue项目踩坑一.html\"}],\"collapsed\":false}]}]}},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":true}");</script>
    
  </body>
</html>