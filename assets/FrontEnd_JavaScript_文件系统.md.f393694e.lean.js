import{D as x}from"./chunks/DemoWrap.2bffc7e1.js";import{d as g,a5 as w,h as D,o as C,c as d,k as n,a6 as u,a7 as F,F as U,_ as m,a as _,a8 as P,H as i,w as E,t as L,e as b,D as T,p as V,m as q,Q as f}from"./chunks/framework.dfc91c2c.js";const j=g({__name:"demo1",async setup(r){let l,t;const s=new Blob(["1,2,3"]),c=new File(["1,2,3"],"test.txt",{type:"text/plain"}),y=([l,t]=w(()=>s.arrayBuffer()),l=await l,t(),l);[l,t]=w(()=>c.arrayBuffer()),l=await l,t();const p=new FileReader;p.readAsArrayBuffer(c),p.onload=a=>{var B;console.log("[ e ]-11",(B=a.target)==null?void 0:B.result)},new DataView(y).setUint8(0,4);const o=D(null),e=a=>{o.value=a.target.files};return(a,B)=>(C(),d("input",{type:"file",onChange:e},null,32))}}),O={class:"opt-wrap"},H=g({__name:"FilePicker",setup(r){const l=async e=>{const a={title:"Open File",accept:{"image/*":[".png",".jpg",".jpeg"]}},[B]=await window.showOpenFilePicker(a),R=await B.getFile(),h=new FileReader;h.readAsArrayBuffer(R),h.onload=S=>{var v;console.log("[ e ]-11",(v=S.target)==null?void 0:v.result)}},t={title:"Open File",types:[{description:"Text Files",accept:{"text/plain":[".txt"]}}]},s=D("Hello World"),c=D(null),y=async()=>{const a=await(await window.showSaveFilePicker()).createWritable();await a.write(s.value),await a.close()},p=async()=>{const[e]=await window.showOpenFilePicker(t);c.value=e;const a=await e.getFile();s.value=await a.text()},A=async()=>{if(c.value){const e=await c.value.createWritable();await e.write(s.value),await e.close()}},o=()=>{y()};return(e,a)=>(C(),d(U,null,[n("input",{type:"file",onClick:l}),n("div",O,[u(n("textarea",{name:"",id:"",cols:"30",rows:"10","onUpdate:modelValue":a[0]||(a[0]=B=>s.value=B)},null,512),[[F,s.value]]),n("div",{class:"opts"},[n("button",{onClick:y}," 创建"),n("button",{onClick:p}," 打开"),n("button",{onClick:A},"保存 "),n("button",{onClick:o}," 保存为")])])],64))}});const I=m(H,[["__scopeId","data-v-b33eb3d1"]]),k=r=>(V("data-v-fcdef9a9"),r=r(),q(),r),N={class:"opt-wrap"},W=k(()=>n("option",{value:"BLOB"},"BLOB URL",-1)),z=k(()=>n("option",{value:"DATA"},"DATA URL",-1)),J=[W,z],$={key:0,class:"show-wrap"},M=["href"],Y=["src"],Q=["src"],G=g({__name:"DemoUrl",setup(r){const l=D("BLOB"),t=D(""),s=D(""),c=async(y,p)=>{t.value=y;const A=await fetch(p);if(l.value==="BLOB"){const o=await A.blob();s.value=URL.createObjectURL(o)}else{const o=new FileReader;o.onload=e=>{var a;s.value=(a=e.target)==null?void 0:a.result},o.readAsDataURL(await A.blob())}};return(y,p)=>{const A=T("font");return C(),d("div",null,[n("div",N,[_(" URL 类型"),u(n("select",{id:"urltype","onUpdate:modelValue":p[0]||(p[0]=o=>l.value=o)},J,512),[[P,l.value]]),n("button",{onClick:p[1]||(p[1]=o=>c("image","./demo/url.png"))},"获取图片 URL"),n("button",{onClick:p[2]||(p[2]=o=>c("text","./demo/url.txt"))},"获取文本 URL")]),u(n("textarea",{"onUpdate:modelValue":p[3]||(p[3]=o=>s.value=o)},null,512),[[F,s.value]]),s.value?(C(),d("div",$,[n("a",{href:s.value,target:"_blank"}," 链接 ",8,M),i(A,{color:"urlType=='DATA' ? 'red' :'green'"},{default:E(()=>[_("DATA URL"+L(l.value=="DATA"?"不":"")+"可直接点击链接打开, 可复制链接打开",1)]),_:1}),t.value=="image"?(C(),d("img",{key:0,src:s.value,alt:"图片"},null,8,Y)):b("",!0),n("iframe",{src:s.value},null,8,Q)])):b("",!0)])}}});const K=m(G,[["__scopeId","data-v-fcdef9a9"]]),X=f("",4),Z=f("",11),ss=f("",4),as=f("",2),os=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"FrontEnd/JavaScript/文件系统.md","filePath":"FrontEnd/JavaScript/文件系统.md"}'),ns={name:"FrontEnd/JavaScript/文件系统.md"},es=Object.assign(ns,{setup(r){return(l,t)=>{const s=x;return C(),d("div",null,[X,i(s,{pkg:"FrontEnd/JavaScript/demo",path:"demo1.vue"},{default:E(()=>[i(j)]),_:1}),Z,i(s,{pkg:"FrontEnd/JavaScript/demo",path:"FilePicker.vue"},{default:E(()=>[i(I)]),_:1}),ss,i(s,{pkg:"FrontEnd/JavaScript/demo",path:"DemoUrl.vue"},{default:E(()=>[i(K)]),_:1}),as])}}});export{os as __pageData,es as default};
