import{D as P}from"./chunks/DemoWrap.1a5d67bd.js";import{d as g,a5 as w,h as C,o as d,c as b,k as l,a6 as f,a7 as k,l as c,a8 as m,F as L,_ as R,a as _,a9 as T,H as D,w as u,t as V,e as F,D as q,p as j,m as O,Q as E}from"./chunks/framework.fe6e07c1.js";const H=g({__name:"demo1",async setup(y){let a,t;const s=new Blob(["1,2,3"]),r=new File(["1,2,3"],"test.txt",{type:"text/plain"}),i=([a,t]=w(()=>s.arrayBuffer()),a=await a,t(),a);[a,t]=w(()=>r.arrayBuffer()),a=await a,t();const p=new FileReader;p.readAsArrayBuffer(r),p.onload=n=>{var B;console.log("[ e ]-11",(B=n.target)==null?void 0:B.result)},new DataView(i).setUint8(0,4);const o=C(null),e=n=>{o.value=n.target.files};return(n,B)=>(d(),b("input",{type:"file",onChange:e},null,32))}}),I={class:"opt-wrap"},N=g({__name:"FilePicker",setup(y){const a=async e=>{const n={title:"Open File",accept:{"image/*":[".png",".jpg",".jpeg"]}},[B]=await window.showOpenFilePicker(n),S=await B.getFile(),h=new FileReader;h.readAsArrayBuffer(S),h.onload=U=>{var v;console.log("[ e ]-11",(v=U.target)==null?void 0:v.result)}},t={title:"Open File",types:[{description:"Text Files",accept:{"text/plain":[".txt"]}}]},s=C("Hello World"),r=C(null),i=async()=>{const n=await(await window.showSaveFilePicker()).createWritable();await n.write(s.value),await n.close()},p=async()=>{const[e]=await window.showOpenFilePicker(t);r.value=e;const n=await e.getFile();s.value=await n.text()},A=async()=>{if(r.value){const e=await r.value.createWritable();await e.write(s.value),await e.close()}},o=()=>{i()};return(e,n)=>(d(),b(L,null,[l("input",{type:"file",onClick:a}),l("div",I,[f(l("textarea",{name:"",id:"",cols:"30",rows:"10","onUpdate:modelValue":n[0]||(n[0]=B=>m(s)?s.value=B:null)},null,512),[[k,c(s)]]),l("div",{class:"opts"},[l("button",{onClick:i}," 创建"),l("button",{onClick:p}," 打开"),l("button",{onClick:A},"保存 "),l("button",{onClick:o}," 保存为")])])],64))}});const W=R(N,[["__scopeId","data-v-1f7bdb7e"]]),x=y=>(j("data-v-2f3c7841"),y=y(),O(),y),z={class:"opt-wrap"},J=x(()=>l("option",{value:"BLOB"},"BLOB URL",-1)),$=x(()=>l("option",{value:"DATA"},"DATA URL",-1)),M=[J,$],Y={key:0,class:"show-wrap"},Q=["href"],G=["src"],K=["src"],X=g({__name:"DemoUrl",setup(y){const a=C("BLOB"),t=C(""),s=C(""),r=async(i,p)=>{t.value=i;const A=await fetch(p);if(a.value==="BLOB"){const o=await A.blob();s.value=URL.createObjectURL(o)}else{const o=new FileReader;o.onload=e=>{var n;s.value=(n=e.target)==null?void 0:n.result},o.readAsDataURL(await A.blob())}};return(i,p)=>{const A=q("font");return d(),b("div",null,[l("div",z,[_(" URL 类型"),f(l("select",{id:"urltype","onUpdate:modelValue":p[0]||(p[0]=o=>m(a)?a.value=o:null)},M,512),[[T,c(a)]]),l("button",{onClick:p[1]||(p[1]=o=>r("image","./demo/url.png"))},"获取图片 URL"),l("button",{onClick:p[2]||(p[2]=o=>r("text","./demo/url.txt"))},"获取文本 URL")]),f(l("textarea",{"onUpdate:modelValue":p[3]||(p[3]=o=>m(s)?s.value=o:null)},null,512),[[k,c(s)]]),c(s)?(d(),b("div",Y,[l("a",{href:c(s),target:"_blank"}," 链接 ",8,Q),D(A,{color:"urlType=='DATA' ? 'red' :'green'"},{default:u(()=>[_("DATA URL"+V(c(a)=="DATA"?"不":"")+"可直接点击链接打开, 可复制链接打开",1)]),_:1}),c(t)=="image"?(d(),b("img",{key:0,src:c(s),alt:"图片"},null,8,G)):F("",!0),l("iframe",{src:c(s)},null,8,K)])):F("",!0)])}}});const Z=R(X,[["__scopeId","data-v-2f3c7841"]]),ss=E("",6),as=E("",11),ns=E("",4),ls=E("",2),ts=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"FrontEnd/JavaScript/文件系统.md","filePath":"FrontEnd/JavaScript/文件系统.md"}'),ps={name:"FrontEnd/JavaScript/文件系统.md"},rs=Object.assign(ps,{setup(y){return(a,t)=>{const s=P;return d(),b("div",null,[ss,D(s,{pkg:"FrontEnd/JavaScript/demo",path:"demo1.vue"},{default:u(()=>[D(H)]),_:1}),as,D(s,{pkg:"FrontEnd/JavaScript/demo",path:"FilePicker.vue"},{default:u(()=>[D(W)]),_:1}),ns,D(s,{pkg:"FrontEnd/JavaScript/demo",path:"DemoUrl.vue"},{default:u(()=>[D(Z)]),_:1}),ls])}}});export{ts as __pageData,rs as default};
