import{_ as s,o as n,c as a,Q as l}from"./chunks/framework.6f270558.js";const E=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"Framework/Angular/Angular基础总结二.md","filePath":"Framework/Angular/Angular基础总结二.md"}'),p={name:"Framework/Angular/Angular基础总结二.md"},o=l(`<h2 id="双向绑定" tabindex="-1">双向绑定 <a class="header-anchor" href="#双向绑定" aria-label="Permalink to &quot;双向绑定&quot;">​</a></h2><h3 id="_1-基本双向绑定" tabindex="-1">1. 基本双向绑定 <a class="header-anchor" href="#_1-基本双向绑定" aria-label="Permalink to &quot;1. 基本双向绑定&quot;">​</a></h3><p><strong>方法一：</strong></p><p>📝父组件：</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#4D9375;">import</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">Component</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">}</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">from</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D99;">&#39;</span><span style="color:#C98A7D;">@angular/core</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#666666;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#666666;">@</span><span style="color:#80A665;">Component</span><span style="color:#666666;">({</span></span>
<span class="line"><span style="color:#666666;">  </span><span style="color:#B8A965;">selector</span><span style="color:#666666;">: </span><span style="color:#C98A7D99;">&#39;</span><span style="color:#C98A7D;">app-root</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#666666;">  </span><span style="color:#B8A965;">template</span><span style="color:#666666;">: </span><span style="color:#C98A7D99;">\`</span></span>
<span class="line"><span style="color:#C98A7D;">&lt;app-sbind [size]=&quot;fontSizePx&quot; (change)=&quot; fontSizePx = $event&quot;&gt;&lt;/app-sbind&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C98A7D;">&lt;p [style.font-size.px]=&quot;fontSizePx&quot;&gt;APP 字体大小: {{fontSizePx}}px&lt;/p&gt;</span></span>
<span class="line"><span style="color:#C98A7D99;">\`</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#666666;">  </span><span style="color:#B8A965;">styleUrls</span><span style="color:#666666;">: [</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#C98A7D;">./app.component.css</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#666666;">]</span></span>
<span class="line"><span style="color:#666666;">})</span></span>
<span class="line"><span style="color:#4D9375;">export</span><span style="color:#DBD7CAEE;"> </span><span style="color:#CB7676;">class</span><span style="color:#DBD7CAEE;"> </span><span style="color:#5DA994;">AppComponent</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#BD976A;">fontSizePx</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">16</span></span>
<span class="line"><span style="color:#666666;">}</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#1E754F;">import</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">Component</span><span style="color:#393A34;"> </span><span style="color:#999999;">}</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">from</span><span style="color:#393A34;"> </span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">@angular/core</span><span style="color:#B5695999;">&#39;</span><span style="color:#999999;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#999999;">@</span><span style="color:#59873A;">Component</span><span style="color:#999999;">({</span></span>
<span class="line"><span style="color:#999999;">  </span><span style="color:#998418;">selector</span><span style="color:#999999;">: </span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">app-root</span><span style="color:#B5695999;">&#39;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#999999;">  </span><span style="color:#998418;">template</span><span style="color:#999999;">: </span><span style="color:#B5695999;">\`</span></span>
<span class="line"><span style="color:#B56959;">&lt;app-sbind [size]=&quot;fontSizePx&quot; (change)=&quot; fontSizePx = $event&quot;&gt;&lt;/app-sbind&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B56959;">&lt;p [style.font-size.px]=&quot;fontSizePx&quot;&gt;APP 字体大小: {{fontSizePx}}px&lt;/p&gt;</span></span>
<span class="line"><span style="color:#B5695999;">\`</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#999999;">  </span><span style="color:#998418;">styleUrls</span><span style="color:#999999;">: [</span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">./app.component.css</span><span style="color:#B5695999;">&#39;</span><span style="color:#999999;">]</span></span>
<span class="line"><span style="color:#999999;">})</span></span>
<span class="line"><span style="color:#1E754F;">export</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">class</span><span style="color:#393A34;"> </span><span style="color:#2E8F82;">AppComponent</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#B07D48;">fontSizePx</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">16</span></span>
<span class="line"><span style="color:#999999;">}</span></span></code></pre></div><p>📝子组件：</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#4D9375;">import</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">Component</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">EventEmitter</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">Input</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">OnInit</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">Output</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">}</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">from</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D99;">&#39;</span><span style="color:#C98A7D;">@angular/core</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#666666;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#666666;">@</span><span style="color:#80A665;">Component</span><span style="color:#666666;">({</span></span>
<span class="line"><span style="color:#666666;">  </span><span style="color:#B8A965;">selector</span><span style="color:#666666;">: </span><span style="color:#C98A7D99;">&#39;</span><span style="color:#C98A7D;">app-sbind</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#666666;">  </span><span style="color:#B8A965;">template</span><span style="color:#666666;">: </span><span style="color:#C98A7D99;">\`</span><span style="color:#C98A7D;">&lt;div&gt;</span></span>
<span class="line"><span style="color:#C98A7D;">    &lt;button (click)=&quot;dec()&quot;&gt;-&lt;/button&gt;</span></span>
<span class="line"><span style="color:#C98A7D;">    &lt;button (click)=&quot;inc()&quot;&gt;+&lt;/button&gt;</span></span>
<span class="line"><span style="color:#C98A7D;">    &lt;p [style.font-size.px]=&quot;size&quot;&gt;sbind 字体大小: {{size}}px&lt;/p&gt;</span></span>
<span class="line"><span style="color:#C98A7D;">&lt;/div&gt;</span><span style="color:#C98A7D99;">\`</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#666666;">  </span><span style="color:#B8A965;">styleUrls</span><span style="color:#666666;">: [</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#C98A7D;">./sbind.component.css</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#666666;">]</span></span>
<span class="line"><span style="color:#666666;">})</span></span>
<span class="line"><span style="color:#4D9375;">export</span><span style="color:#DBD7CAEE;"> </span><span style="color:#CB7676;">class</span><span style="color:#DBD7CAEE;"> </span><span style="color:#5DA994;">SbindComponent</span><span style="color:#DBD7CAEE;"> </span><span style="color:#CB7676;">implements</span><span style="color:#DBD7CAEE;"> </span><span style="color:#80A665;">OnInit</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"></span>
<span class="line"><span style="color:#666666;">  </span><span style="color:#758575DD;">//默认值</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#666666;">@</span><span style="color:#80A665;">Input</span><span style="color:#666666;">()</span><span style="color:#DBD7CAEE;">  </span><span style="color:#BD976A;">size</span><span style="color:#666666;">=</span><span style="color:#4C9A91;">16</span><span style="color:#666666;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#666666;">@</span><span style="color:#80A665;">Output</span><span style="color:#666666;">()</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">change</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#CB7676;">new</span><span style="color:#DBD7CAEE;"> </span><span style="color:#80A665;">EventEmitter</span><span style="color:#666666;">&lt;</span><span style="color:#5DA994;">number</span><span style="color:#666666;">&gt;();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#80A665;">dec</span><span style="color:#666666;">()</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">change</span><span style="color:#666666;">.</span><span style="color:#80A665;">emit</span><span style="color:#666666;">(</span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">size</span><span style="color:#CB7676;">-</span><span style="color:#4C9A91;">1</span><span style="color:#666666;">)</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#666666;">}</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#80A665;">inc</span><span style="color:#666666;">()</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">change</span><span style="color:#666666;">.</span><span style="color:#80A665;">emit</span><span style="color:#666666;">(</span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">size</span><span style="color:#CB7676;">+</span><span style="color:#4C9A91;">1</span><span style="color:#666666;">)</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#666666;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#CB7676;">constructor</span><span style="color:#666666;">()</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">}</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#80A665;">ngOnInit</span><span style="color:#666666;">():</span><span style="color:#DBD7CAEE;"> </span><span style="color:#5DA994;">void</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#666666;">}</span></span>
<span class="line"><span style="color:#666666;">}</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#1E754F;">import</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">Component</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">EventEmitter</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">Input</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">OnInit</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">Output</span><span style="color:#393A34;"> </span><span style="color:#999999;">}</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">from</span><span style="color:#393A34;"> </span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">@angular/core</span><span style="color:#B5695999;">&#39;</span><span style="color:#999999;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#999999;">@</span><span style="color:#59873A;">Component</span><span style="color:#999999;">({</span></span>
<span class="line"><span style="color:#999999;">  </span><span style="color:#998418;">selector</span><span style="color:#999999;">: </span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">app-sbind</span><span style="color:#B5695999;">&#39;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#999999;">  </span><span style="color:#998418;">template</span><span style="color:#999999;">: </span><span style="color:#B5695999;">\`</span><span style="color:#B56959;">&lt;div&gt;</span></span>
<span class="line"><span style="color:#B56959;">    &lt;button (click)=&quot;dec()&quot;&gt;-&lt;/button&gt;</span></span>
<span class="line"><span style="color:#B56959;">    &lt;button (click)=&quot;inc()&quot;&gt;+&lt;/button&gt;</span></span>
<span class="line"><span style="color:#B56959;">    &lt;p [style.font-size.px]=&quot;size&quot;&gt;sbind 字体大小: {{size}}px&lt;/p&gt;</span></span>
<span class="line"><span style="color:#B56959;">&lt;/div&gt;</span><span style="color:#B5695999;">\`</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#999999;">  </span><span style="color:#998418;">styleUrls</span><span style="color:#999999;">: [</span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">./sbind.component.css</span><span style="color:#B5695999;">&#39;</span><span style="color:#999999;">]</span></span>
<span class="line"><span style="color:#999999;">})</span></span>
<span class="line"><span style="color:#1E754F;">export</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">class</span><span style="color:#393A34;"> </span><span style="color:#2E8F82;">SbindComponent</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">implements</span><span style="color:#393A34;"> </span><span style="color:#59873A;">OnInit</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"></span>
<span class="line"><span style="color:#999999;">  </span><span style="color:#A0ADA0;">//默认值</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#999999;">@</span><span style="color:#59873A;">Input</span><span style="color:#999999;">()</span><span style="color:#393A34;">  </span><span style="color:#B07D48;">size</span><span style="color:#999999;">=</span><span style="color:#2F798A;">16</span><span style="color:#999999;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#999999;">@</span><span style="color:#59873A;">Output</span><span style="color:#999999;">()</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">change</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">new</span><span style="color:#393A34;"> </span><span style="color:#59873A;">EventEmitter</span><span style="color:#999999;">&lt;</span><span style="color:#2E8F82;">number</span><span style="color:#999999;">&gt;();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#59873A;">dec</span><span style="color:#999999;">()</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">change</span><span style="color:#999999;">.</span><span style="color:#59873A;">emit</span><span style="color:#999999;">(</span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">size</span><span style="color:#AB5959;">-</span><span style="color:#2F798A;">1</span><span style="color:#999999;">)</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#59873A;">inc</span><span style="color:#999999;">()</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">change</span><span style="color:#999999;">.</span><span style="color:#59873A;">emit</span><span style="color:#999999;">(</span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">size</span><span style="color:#AB5959;">+</span><span style="color:#2F798A;">1</span><span style="color:#999999;">)</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#999999;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#AB5959;">constructor</span><span style="color:#999999;">()</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span><span style="color:#393A34;"> </span><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#59873A;">ngOnInit</span><span style="color:#999999;">():</span><span style="color:#393A34;"> </span><span style="color:#2E8F82;">void</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#999999;">}</span></span></code></pre></div><p><strong>方法二：</strong>（联合写法）</p><p>📝父组件：<code>app.component.html</code></p><div class="language-html vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">app-sbind</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">[(size)]</span><span style="color:#666666;">=</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#C98A7D;">fontSizePx</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#666666;">&gt;&lt;/</span><span style="color:#4D9375;">app-sbind</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">p</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">[style.font-size.px]</span><span style="color:#666666;">=</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#C98A7D;">fontSizePx</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#666666;">&gt;</span><span style="color:#DBD7CAEE;">APP 字体大小: {{fontSizePx}}px</span><span style="color:#666666;">&lt;/</span><span style="color:#4D9375;">p</span><span style="color:#666666;">&gt;</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">app-sbind</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">[(size)]</span><span style="color:#999999;">=</span><span style="color:#B5695999;">&quot;</span><span style="color:#B56959;">fontSizePx</span><span style="color:#B5695999;">&quot;</span><span style="color:#999999;">&gt;&lt;/</span><span style="color:#1E754F;">app-sbind</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">p</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">[style.font-size.px]</span><span style="color:#999999;">=</span><span style="color:#B5695999;">&quot;</span><span style="color:#B56959;">fontSizePx</span><span style="color:#B5695999;">&quot;</span><span style="color:#999999;">&gt;</span><span style="color:#393A34;">APP 字体大小: {{fontSizePx}}px</span><span style="color:#999999;">&lt;/</span><span style="color:#1E754F;">p</span><span style="color:#999999;">&gt;</span></span></code></pre></div><p>📝父组件：<code>app.component.ts</code></p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#4D9375;">import</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">Component</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">}</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">from</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D99;">&#39;</span><span style="color:#C98A7D;">@angular/core</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#666666;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#666666;">@</span><span style="color:#80A665;">Component</span><span style="color:#666666;">({</span></span>
<span class="line"><span style="color:#666666;">  </span><span style="color:#B8A965;">selector</span><span style="color:#666666;">: </span><span style="color:#C98A7D99;">&#39;</span><span style="color:#C98A7D;">app-root</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#666666;">  </span><span style="color:#B8A965;">template</span><span style="color:#666666;">: </span><span style="color:#C98A7D99;">&#39;</span><span style="color:#C98A7D;">./app.component.html</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#666666;">  </span><span style="color:#B8A965;">styleUrls</span><span style="color:#666666;">: [</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#C98A7D;">./app.component.css</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#666666;">]</span></span>
<span class="line"><span style="color:#666666;">})</span></span>
<span class="line"><span style="color:#4D9375;">export</span><span style="color:#DBD7CAEE;"> </span><span style="color:#CB7676;">class</span><span style="color:#DBD7CAEE;"> </span><span style="color:#5DA994;">AppComponent</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#BD976A;">fontSizePx</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">16</span></span>
<span class="line"><span style="color:#666666;">}</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#1E754F;">import</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">Component</span><span style="color:#393A34;"> </span><span style="color:#999999;">}</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">from</span><span style="color:#393A34;"> </span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">@angular/core</span><span style="color:#B5695999;">&#39;</span><span style="color:#999999;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#999999;">@</span><span style="color:#59873A;">Component</span><span style="color:#999999;">({</span></span>
<span class="line"><span style="color:#999999;">  </span><span style="color:#998418;">selector</span><span style="color:#999999;">: </span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">app-root</span><span style="color:#B5695999;">&#39;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#999999;">  </span><span style="color:#998418;">template</span><span style="color:#999999;">: </span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">./app.component.html</span><span style="color:#B5695999;">&#39;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#999999;">  </span><span style="color:#998418;">styleUrls</span><span style="color:#999999;">: [</span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">./app.component.css</span><span style="color:#B5695999;">&#39;</span><span style="color:#999999;">]</span></span>
<span class="line"><span style="color:#999999;">})</span></span>
<span class="line"><span style="color:#1E754F;">export</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">class</span><span style="color:#393A34;"> </span><span style="color:#2E8F82;">AppComponent</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#B07D48;">fontSizePx</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">16</span></span>
<span class="line"><span style="color:#999999;">}</span></span></code></pre></div><p>📝子组件：<code>sbind.component.html</code></p><div class="language-html vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">div</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">button</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">(click)</span><span style="color:#666666;">=</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#C98A7D;">dec()</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#666666;">&gt;</span><span style="color:#DBD7CAEE;">-</span><span style="color:#666666;">&lt;/</span><span style="color:#4D9375;">button</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">button</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">(click)</span><span style="color:#666666;">=</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#C98A7D;">inc()</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#666666;">&gt;</span><span style="color:#DBD7CAEE;">+</span><span style="color:#666666;">&lt;/</span><span style="color:#4D9375;">button</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">p</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">[style.font-size.px]</span><span style="color:#666666;">=</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#C98A7D;">size</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#666666;">&gt;</span><span style="color:#DBD7CAEE;">sbind 字体大小: {{size}}px</span><span style="color:#666666;">&lt;/</span><span style="color:#4D9375;">p</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#666666;">&lt;/</span><span style="color:#4D9375;">div</span><span style="color:#666666;">&gt;</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">div</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">button</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">(click)</span><span style="color:#999999;">=</span><span style="color:#B5695999;">&quot;</span><span style="color:#B56959;">dec()</span><span style="color:#B5695999;">&quot;</span><span style="color:#999999;">&gt;</span><span style="color:#393A34;">-</span><span style="color:#999999;">&lt;/</span><span style="color:#1E754F;">button</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">button</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">(click)</span><span style="color:#999999;">=</span><span style="color:#B5695999;">&quot;</span><span style="color:#B56959;">inc()</span><span style="color:#B5695999;">&quot;</span><span style="color:#999999;">&gt;</span><span style="color:#393A34;">+</span><span style="color:#999999;">&lt;/</span><span style="color:#1E754F;">button</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">p</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">[style.font-size.px]</span><span style="color:#999999;">=</span><span style="color:#B5695999;">&quot;</span><span style="color:#B56959;">size</span><span style="color:#B5695999;">&quot;</span><span style="color:#999999;">&gt;</span><span style="color:#393A34;">sbind 字体大小: {{size}}px</span><span style="color:#999999;">&lt;/</span><span style="color:#1E754F;">p</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#999999;">&lt;/</span><span style="color:#1E754F;">div</span><span style="color:#999999;">&gt;</span></span></code></pre></div><p>📝子组件：<code>sbind.component.ts</code></p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#4D9375;">import</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">Component</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">EventEmitter</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">Input</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">OnInit</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">Output</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">}</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">from</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D99;">&#39;</span><span style="color:#C98A7D;">@angular/core</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#666666;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#666666;">@</span><span style="color:#80A665;">Component</span><span style="color:#666666;">({</span></span>
<span class="line"><span style="color:#666666;">  </span><span style="color:#B8A965;">selector</span><span style="color:#666666;">: </span><span style="color:#C98A7D99;">&#39;</span><span style="color:#C98A7D;">app-sbind</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#666666;">  </span><span style="color:#B8A965;">templateUrl</span><span style="color:#666666;">: </span><span style="color:#C98A7D99;">&#39;</span><span style="color:#C98A7D;">./sbind.component.html</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#666666;">  </span><span style="color:#B8A965;">styleUrls</span><span style="color:#666666;">: [</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#C98A7D;">./sbind.component.css</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#666666;">]</span></span>
<span class="line"><span style="color:#666666;">})</span></span>
<span class="line"><span style="color:#4D9375;">export</span><span style="color:#DBD7CAEE;"> </span><span style="color:#CB7676;">class</span><span style="color:#DBD7CAEE;"> </span><span style="color:#5DA994;">SbindComponent</span><span style="color:#DBD7CAEE;"> </span><span style="color:#CB7676;">implements</span><span style="color:#DBD7CAEE;"> </span><span style="color:#80A665;">OnInit</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"></span>
<span class="line"><span style="color:#666666;">  </span><span style="color:#758575DD;">//默认值</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#666666;">@</span><span style="color:#80A665;">Input</span><span style="color:#666666;">()</span><span style="color:#DBD7CAEE;">  </span><span style="color:#BD976A;">size</span><span style="color:#666666;">=</span><span style="color:#4C9A91;">16</span><span style="color:#666666;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#666666;">  </span><span style="color:#758575DD;">// 双向绑定语法：output变量名=输入属性名+Change</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#666666;">@</span><span style="color:#80A665;">Output</span><span style="color:#666666;">()</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">sizeChange</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#CB7676;">new</span><span style="color:#DBD7CAEE;"> </span><span style="color:#80A665;">EventEmitter</span><span style="color:#666666;">&lt;</span><span style="color:#5DA994;">number</span><span style="color:#666666;">&gt;();</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#CB7676;">constructor</span><span style="color:#666666;">()</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#80A665;">dec</span><span style="color:#666666;">()</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span><span style="color:#758575DD;">//减</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">sizeChange</span><span style="color:#666666;">.</span><span style="color:#80A665;">emit</span><span style="color:#666666;">(</span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">size</span><span style="color:#CB7676;">-</span><span style="color:#4C9A91;">1</span><span style="color:#666666;">)</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#666666;">}</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#80A665;">inc</span><span style="color:#666666;">()</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span><span style="color:#758575DD;">//加</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">sizeChange</span><span style="color:#666666;">.</span><span style="color:#80A665;">emit</span><span style="color:#666666;">(</span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">size</span><span style="color:#CB7676;">+</span><span style="color:#4C9A91;">1</span><span style="color:#666666;">)</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#666666;">}</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#80A665;">ngOnInit</span><span style="color:#666666;">():</span><span style="color:#DBD7CAEE;"> </span><span style="color:#5DA994;">void</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#666666;">}</span></span>
<span class="line"><span style="color:#666666;">}</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#1E754F;">import</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">Component</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">EventEmitter</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">Input</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">OnInit</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">Output</span><span style="color:#393A34;"> </span><span style="color:#999999;">}</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">from</span><span style="color:#393A34;"> </span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">@angular/core</span><span style="color:#B5695999;">&#39;</span><span style="color:#999999;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#999999;">@</span><span style="color:#59873A;">Component</span><span style="color:#999999;">({</span></span>
<span class="line"><span style="color:#999999;">  </span><span style="color:#998418;">selector</span><span style="color:#999999;">: </span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">app-sbind</span><span style="color:#B5695999;">&#39;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#999999;">  </span><span style="color:#998418;">templateUrl</span><span style="color:#999999;">: </span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">./sbind.component.html</span><span style="color:#B5695999;">&#39;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#999999;">  </span><span style="color:#998418;">styleUrls</span><span style="color:#999999;">: [</span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">./sbind.component.css</span><span style="color:#B5695999;">&#39;</span><span style="color:#999999;">]</span></span>
<span class="line"><span style="color:#999999;">})</span></span>
<span class="line"><span style="color:#1E754F;">export</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">class</span><span style="color:#393A34;"> </span><span style="color:#2E8F82;">SbindComponent</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">implements</span><span style="color:#393A34;"> </span><span style="color:#59873A;">OnInit</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"></span>
<span class="line"><span style="color:#999999;">  </span><span style="color:#A0ADA0;">//默认值</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#999999;">@</span><span style="color:#59873A;">Input</span><span style="color:#999999;">()</span><span style="color:#393A34;">  </span><span style="color:#B07D48;">size</span><span style="color:#999999;">=</span><span style="color:#2F798A;">16</span><span style="color:#999999;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#999999;">  </span><span style="color:#A0ADA0;">// 双向绑定语法：output变量名=输入属性名+Change</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#999999;">@</span><span style="color:#59873A;">Output</span><span style="color:#999999;">()</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">sizeChange</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">new</span><span style="color:#393A34;"> </span><span style="color:#59873A;">EventEmitter</span><span style="color:#999999;">&lt;</span><span style="color:#2E8F82;">number</span><span style="color:#999999;">&gt;();</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#AB5959;">constructor</span><span style="color:#999999;">()</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span><span style="color:#393A34;"> </span><span style="color:#999999;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#59873A;">dec</span><span style="color:#999999;">()</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span><span style="color:#A0ADA0;">//减</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">sizeChange</span><span style="color:#999999;">.</span><span style="color:#59873A;">emit</span><span style="color:#999999;">(</span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">size</span><span style="color:#AB5959;">-</span><span style="color:#2F798A;">1</span><span style="color:#999999;">)</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#59873A;">inc</span><span style="color:#999999;">()</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span><span style="color:#A0ADA0;">//加</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">sizeChange</span><span style="color:#999999;">.</span><span style="color:#59873A;">emit</span><span style="color:#999999;">(</span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">size</span><span style="color:#AB5959;">+</span><span style="color:#2F798A;">1</span><span style="color:#999999;">)</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#59873A;">ngOnInit</span><span style="color:#999999;">():</span><span style="color:#393A34;"> </span><span style="color:#2E8F82;">void</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#999999;">}</span></span></code></pre></div><h3 id="_2-input双向绑定" tabindex="-1">2. input双向绑定 <a class="header-anchor" href="#_2-input双向绑定" aria-label="Permalink to &quot;2. input双向绑定&quot;">​</a></h3><p><strong>普通写法：</strong></p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#666666;">&lt;</span><span style="color:#BD976A;">input</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">type</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#C98A7D;">text</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">[</span><span style="color:#BD976A;">value</span><span style="color:#666666;">]=</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#C98A7D;">inputVal</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">(</span><span style="color:#BD976A;">input</span><span style="color:#666666;">)=</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#C98A7D;">inputVal = $event.target.value</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#666666;">&lt;</span><span style="color:#5DA994;">p</span><span style="color:#666666;">&gt;{{</span><span style="color:#BD976A;">inputVal</span><span style="color:#666666;">}}&lt;</span><span style="color:#CB7676;">/</span><span style="color:#BD976A;">p</span><span style="color:#666666;">&gt;</span><span style="color:#DBD7CAEE;"> </span><span style="color:#758575DD;">//默认值 inputVal=&#39;&#39;</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#999999;">&lt;</span><span style="color:#B07D48;">input</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">type</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#B5695999;">&quot;</span><span style="color:#B56959;">text</span><span style="color:#B5695999;">&quot;</span><span style="color:#393A34;"> </span><span style="color:#999999;">[</span><span style="color:#B07D48;">value</span><span style="color:#999999;">]=</span><span style="color:#B5695999;">&quot;</span><span style="color:#B56959;">inputVal</span><span style="color:#B5695999;">&quot;</span><span style="color:#393A34;"> </span><span style="color:#999999;">(</span><span style="color:#B07D48;">input</span><span style="color:#999999;">)=</span><span style="color:#B5695999;">&quot;</span><span style="color:#B56959;">inputVal = $event.target.value</span><span style="color:#B5695999;">&quot;</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#999999;">&lt;</span><span style="color:#2E8F82;">p</span><span style="color:#999999;">&gt;{{</span><span style="color:#B07D48;">inputVal</span><span style="color:#999999;">}}&lt;</span><span style="color:#AB5959;">/</span><span style="color:#B07D48;">p</span><span style="color:#999999;">&gt;</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">//默认值 inputVal=&#39;&#39;</span></span></code></pre></div><p><strong>简写形式：</strong></p><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p><strong>ngMoel 指令来源于FormsModule模块</strong></p><p><code>[(ngMoel)]</code>可拆解为：</p><ol><li><p>名为ngModel的输入属性</p></li><li><p>名为ngModelChange的输出属性</p></li></ol></div><div class="language-html vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">input</span><span style="color:#666666;"> </span><span style="color:#BD976A;">type</span><span style="color:#666666;">=</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#C98A7D;">text</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#666666;"> </span><span style="color:#BD976A;">[(ngMoel)]</span><span style="color:#666666;">=</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#C98A7D;">inputVal</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#666666;"> /&gt;</span></span>
<span class="line"><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">p</span><span style="color:#666666;">&gt;</span><span style="color:#DBD7CAEE;">{{inputVal}}</span><span style="color:#666666;">&lt;/</span><span style="color:#4D9375;">p</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">//默认值 inputVal=&#39;&#39;</span></span>
<span class="line"><span style="color:#758575DD;">&lt;!-- &lt;input type=&quot;text&quot; [ngModel] = &quot;inputVal&quot; (ngModelChange) =&quot;inputVal= $event&quot;&gt;</span></span>
<span class="line"><span style="color:#758575DD;">&lt;p&gt;{{inputVal}}&lt;/p&gt; 完整写法--&gt;</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">input</span><span style="color:#999999;"> </span><span style="color:#B07D48;">type</span><span style="color:#999999;">=</span><span style="color:#B5695999;">&quot;</span><span style="color:#B56959;">text</span><span style="color:#B5695999;">&quot;</span><span style="color:#999999;"> </span><span style="color:#B07D48;">[(ngMoel)]</span><span style="color:#999999;">=</span><span style="color:#B5695999;">&quot;</span><span style="color:#B56959;">inputVal</span><span style="color:#B5695999;">&quot;</span><span style="color:#999999;"> /&gt;</span></span>
<span class="line"><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">p</span><span style="color:#999999;">&gt;</span><span style="color:#393A34;">{{inputVal}}</span><span style="color:#999999;">&lt;/</span><span style="color:#1E754F;">p</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">//默认值 inputVal=&#39;&#39;</span></span>
<span class="line"><span style="color:#A0ADA0;">&lt;!-- &lt;input type=&quot;text&quot; [ngModel] = &quot;inputVal&quot; (ngModelChange) =&quot;inputVal= $event&quot;&gt;</span></span>
<span class="line"><span style="color:#A0ADA0;">&lt;p&gt;{{inputVal}}&lt;/p&gt; 完整写法--&gt;</span></span></code></pre></div><h3 id="_3-表单form中双向绑定" tabindex="-1">3. 表单Form中双向绑定 <a class="header-anchor" href="#_3-表单form中双向绑定" aria-label="Permalink to &quot;3. 表单Form中双向绑定&quot;">​</a></h3><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>表单中使用[(ngModel)]，满足下列两个条件之一：</p><ul><li>给控件加上name属性</li><li>将ngModelOptions.standalone设为true</li></ul></div><div class="language-html vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">form</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">input</span><span style="color:#666666;"> </span><span style="color:#BD976A;">[(ngModel)]</span><span style="color:#666666;">=</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#C98A7D;">value</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#666666;"> </span><span style="color:#BD976A;">name</span><span style="color:#666666;">=</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#C98A7D;">name</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#666666;"> /&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">input</span><span style="color:#666666;"> </span><span style="color:#BD976A;">[(ngModel)]</span><span style="color:#666666;">=</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#C98A7D;">value</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#666666;"> </span><span style="color:#BD976A;">[ngModelOptions]</span><span style="color:#666666;">=</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#C98A7D;">{ name: &#39;name&#39; }</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#666666;"> /&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">input</span><span style="color:#666666;"> </span><span style="color:#BD976A;">[(ngModel)]</span><span style="color:#666666;">=</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#C98A7D;">value</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#666666;"> </span><span style="color:#BD976A;">[ngModelOptions]</span><span style="color:#666666;">=</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#C98A7D;">{ standalone: true }</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#666666;"> /&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">input</span></span>
<span class="line"><span style="color:#666666;">    </span><span style="color:#BD976A;">[(ngModel)]</span><span style="color:#666666;">=</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#C98A7D;">value</span><span style="color:#C98A7D99;">&quot;</span></span>
<span class="line"><span style="color:#666666;">    </span><span style="color:#BD976A;">[ngModelOptions]</span><span style="color:#666666;">=</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#C98A7D;">{  name: &#39;name&#39; ,standalone: true }</span><span style="color:#C98A7D99;">&quot;</span></span>
<span class="line"><span style="color:#666666;">  /&gt;</span></span>
<span class="line"><span style="color:#666666;">&lt;/</span><span style="color:#4D9375;">form</span><span style="color:#666666;">&gt;</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">form</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">input</span><span style="color:#999999;"> </span><span style="color:#B07D48;">[(ngModel)]</span><span style="color:#999999;">=</span><span style="color:#B5695999;">&quot;</span><span style="color:#B56959;">value</span><span style="color:#B5695999;">&quot;</span><span style="color:#999999;"> </span><span style="color:#B07D48;">name</span><span style="color:#999999;">=</span><span style="color:#B5695999;">&quot;</span><span style="color:#B56959;">name</span><span style="color:#B5695999;">&quot;</span><span style="color:#999999;"> /&gt;</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">input</span><span style="color:#999999;"> </span><span style="color:#B07D48;">[(ngModel)]</span><span style="color:#999999;">=</span><span style="color:#B5695999;">&quot;</span><span style="color:#B56959;">value</span><span style="color:#B5695999;">&quot;</span><span style="color:#999999;"> </span><span style="color:#B07D48;">[ngModelOptions]</span><span style="color:#999999;">=</span><span style="color:#B5695999;">&quot;</span><span style="color:#B56959;">{ name: &#39;name&#39; }</span><span style="color:#B5695999;">&quot;</span><span style="color:#999999;"> /&gt;</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">input</span><span style="color:#999999;"> </span><span style="color:#B07D48;">[(ngModel)]</span><span style="color:#999999;">=</span><span style="color:#B5695999;">&quot;</span><span style="color:#B56959;">value</span><span style="color:#B5695999;">&quot;</span><span style="color:#999999;"> </span><span style="color:#B07D48;">[ngModelOptions]</span><span style="color:#999999;">=</span><span style="color:#B5695999;">&quot;</span><span style="color:#B56959;">{ standalone: true }</span><span style="color:#B5695999;">&quot;</span><span style="color:#999999;"> /&gt;</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">input</span></span>
<span class="line"><span style="color:#999999;">    </span><span style="color:#B07D48;">[(ngModel)]</span><span style="color:#999999;">=</span><span style="color:#B5695999;">&quot;</span><span style="color:#B56959;">value</span><span style="color:#B5695999;">&quot;</span></span>
<span class="line"><span style="color:#999999;">    </span><span style="color:#B07D48;">[ngModelOptions]</span><span style="color:#999999;">=</span><span style="color:#B5695999;">&quot;</span><span style="color:#B56959;">{  name: &#39;name&#39; ,standalone: true }</span><span style="color:#B5695999;">&quot;</span></span>
<span class="line"><span style="color:#999999;">  /&gt;</span></span>
<span class="line"><span style="color:#999999;">&lt;/</span><span style="color:#1E754F;">form</span><span style="color:#999999;">&gt;</span></span></code></pre></div><details class="details custom-block"><summary>ngModel拓展</summary><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#666666;">@</span><span style="color:#80A665;">ViewChild</span><span style="color:#666666;">(</span><span style="color:#BD976A;">NgModel</span><span style="color:#666666;">)</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">private</span><span style="color:#DBD7CAEE;"> </span><span style="color:#80A665;">ngModel</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">NgModel</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#80A665;">getVal</span><span style="color:#666666;">(){</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#BD976A;">console</span><span style="color:#666666;">.</span><span style="color:#80A665;">log</span><span style="color:#666666;">(</span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">ngModel</span><span style="color:#666666;">.</span><span style="color:#BD976A;">viewModel</span><span style="color:#666666;">)</span><span style="color:#758575DD;">//获取[(ngModel)]所绑定input的值</span></span>
<span class="line"><span style="color:#666666;">}</span></span>
<span class="line"><span style="color:#80A665;">setVal</span><span style="color:#666666;">(){</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">ngModel</span><span style="color:#666666;">.</span><span style="color:#80A665;">viewToModelUpdate</span><span style="color:#666666;">(</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D99;">&#39;</span><span style="color:#C98A7D;">newValue</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#666666;">)</span><span style="color:#758575DD;">//赋值（不太好使）</span></span>
<span class="line"><span style="color:#666666;">}</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#999999;">@</span><span style="color:#59873A;">ViewChild</span><span style="color:#999999;">(</span><span style="color:#B07D48;">NgModel</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">private</span><span style="color:#393A34;"> </span><span style="color:#59873A;">ngModel</span><span style="color:#393A34;"> </span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">NgModel</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#59873A;">getVal</span><span style="color:#999999;">(){</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B07D48;">console</span><span style="color:#999999;">.</span><span style="color:#59873A;">log</span><span style="color:#999999;">(</span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">ngModel</span><span style="color:#999999;">.</span><span style="color:#B07D48;">viewModel</span><span style="color:#999999;">)</span><span style="color:#A0ADA0;">//获取[(ngModel)]所绑定input的值</span></span>
<span class="line"><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#59873A;">setVal</span><span style="color:#999999;">(){</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">ngModel</span><span style="color:#999999;">.</span><span style="color:#59873A;">viewToModelUpdate</span><span style="color:#999999;">(</span><span style="color:#393A34;"> </span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">newValue</span><span style="color:#B5695999;">&#39;</span><span style="color:#999999;">)</span><span style="color:#A0ADA0;">//赋值（不太好使）</span></span>
<span class="line"><span style="color:#999999;">}</span></span></code></pre></div></details><h2 id="属性型指令" tabindex="-1">属性型指令 <a class="header-anchor" href="#属性型指令" aria-label="Permalink to &quot;属性型指令&quot;">​</a></h2><blockquote><p>指令：<strong>用于改变DOM元素的外观或行为的指令</strong>（组件是一种特殊的指令）</p></blockquote><details class="details custom-block"><summary>组件改为属性型指令</summary><p>📝AppComponent</p><div class="language-html vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">div</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">app-for</span><span style="color:#666666;">&gt;</span><span style="color:#DBD7CAEE;">dasfsada</span><span style="color:#666666;">&lt;/</span><span style="color:#4D9375;">div</span><span style="color:#666666;">&gt;</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">div</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">app-for</span><span style="color:#999999;">&gt;</span><span style="color:#393A34;">dasfsada</span><span style="color:#999999;">&lt;/</span><span style="color:#1E754F;">div</span><span style="color:#999999;">&gt;</span></span></code></pre></div><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#4D9375;">import</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span><span style="color:#BD976A;">Component</span><span style="color:#666666;">}</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">from</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D99;">&#39;</span><span style="color:#C98A7D;">@angular/core</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#666666;">@</span><span style="color:#80A665;">Component</span><span style="color:#666666;">({</span></span>
<span class="line"><span style="color:#666666;">  </span><span style="color:#B8A965;">selector</span><span style="color:#666666;">: </span><span style="color:#C98A7D99;">&#39;</span><span style="color:#C98A7D;">[app-decr]</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#666666;">,</span><span style="color:#758575DD;">//属性选择器</span></span>
<span class="line"><span style="color:#666666;">  </span><span style="color:#B8A965;">template</span><span style="color:#666666;">: </span><span style="color:#C98A7D99;">\`</span></span>
<span class="line"><span style="color:#C98A7D;">  </span><span style="color:#C98A7D99;">\`</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#666666;">})</span></span>
<span class="line"><span style="color:#4D9375;">export</span><span style="color:#DBD7CAEE;"> </span><span style="color:#CB7676;">class</span><span style="color:#DBD7CAEE;"> </span><span style="color:#5DA994;">DecrComponent</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#CB7676;">constructor</span><span style="color:#666666;">()</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{}</span></span>
<span class="line"><span style="color:#666666;">}</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#1E754F;">import</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span><span style="color:#B07D48;">Component</span><span style="color:#999999;">}</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">from</span><span style="color:#393A34;"> </span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">@angular/core</span><span style="color:#B5695999;">&#39;</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#999999;">@</span><span style="color:#59873A;">Component</span><span style="color:#999999;">({</span></span>
<span class="line"><span style="color:#999999;">  </span><span style="color:#998418;">selector</span><span style="color:#999999;">: </span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">[app-decr]</span><span style="color:#B5695999;">&#39;</span><span style="color:#999999;">,</span><span style="color:#A0ADA0;">//属性选择器</span></span>
<span class="line"><span style="color:#999999;">  </span><span style="color:#998418;">template</span><span style="color:#999999;">: </span><span style="color:#B5695999;">\`</span></span>
<span class="line"><span style="color:#B56959;">  </span><span style="color:#B5695999;">\`</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#999999;">})</span></span>
<span class="line"><span style="color:#1E754F;">export</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">class</span><span style="color:#393A34;"> </span><span style="color:#2E8F82;">DecrComponent</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#AB5959;">constructor</span><span style="color:#999999;">()</span><span style="color:#393A34;"> </span><span style="color:#999999;">{}</span></span>
<span class="line"><span style="color:#999999;">}</span></span></code></pre></div></details><h2 id="结构型指令" tabindex="-1">结构型指令 <a class="header-anchor" href="#结构型指令" aria-label="Permalink to &quot;结构型指令&quot;">​</a></h2><h3 id="ngif指令" tabindex="-1"><code>*ngIf</code>指令 <a class="header-anchor" href="#ngif指令" aria-label="Permalink to &quot;\`*ngIf\`指令&quot;">​</a></h3><div class="language-html vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">p</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">*ngIf</span><span style="color:#666666;">=</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#C98A7D;">isShow</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#666666;">&gt;</span><span style="color:#DBD7CAEE;">一段文字 {{ isShow }}</span><span style="color:#666666;">&lt;/</span><span style="color:#4D9375;">p</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#758575DD;">&lt;!-- &lt;p *ngIf=&quot;isShow as s&quot;&gt;一段文字 {{ s }}&lt;/p&gt; 局部变量：只能在标签内部使用--&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">isShow:true显示，反之（取决于绑定的值是否为真）</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">p</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">*ngIf</span><span style="color:#999999;">=</span><span style="color:#B5695999;">&quot;</span><span style="color:#B56959;">isShow</span><span style="color:#B5695999;">&quot;</span><span style="color:#999999;">&gt;</span><span style="color:#393A34;">一段文字 {{ isShow }}</span><span style="color:#999999;">&lt;/</span><span style="color:#1E754F;">p</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#A0ADA0;">&lt;!-- &lt;p *ngIf=&quot;isShow as s&quot;&gt;一段文字 {{ s }}&lt;/p&gt; 局部变量：只能在标签内部使用--&gt;</span></span>
<span class="line"><span style="color:#393A34;">isShow:true显示，反之（取决于绑定的值是否为真）</span></span></code></pre></div><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>会改变DOM结构，原理：移除和插入DOM节点</p></div><details class="details custom-block"><summary>*ngIf 完整写法</summary><div class="language-html vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">ng-template</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">[ngIf]</span><span style="color:#666666;">=</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#C98A7D;">isShow</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">let-s</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">p</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">*ngIf</span><span style="color:#666666;">=</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#C98A7D;">isShow</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#666666;">&gt;</span><span style="color:#DBD7CAEE;">一段文字 {{ isShow }} {{s}}</span><span style="color:#666666;">&lt;/</span><span style="color:#4D9375;">p</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#666666;">&lt;/</span><span style="color:#4D9375;">ng-template</span><span style="color:#666666;">&gt;</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">ng-template</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">[ngIf]</span><span style="color:#999999;">=</span><span style="color:#B5695999;">&quot;</span><span style="color:#B56959;">isShow</span><span style="color:#B5695999;">&quot;</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">let-s</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">p</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">*ngIf</span><span style="color:#999999;">=</span><span style="color:#B5695999;">&quot;</span><span style="color:#B56959;">isShow</span><span style="color:#B5695999;">&quot;</span><span style="color:#999999;">&gt;</span><span style="color:#393A34;">一段文字 {{ isShow }} {{s}}</span><span style="color:#999999;">&lt;/</span><span style="color:#1E754F;">p</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#999999;">&lt;/</span><span style="color:#1E754F;">ng-template</span><span style="color:#999999;">&gt;</span></span></code></pre></div></details><p><strong>ngIfElese</strong></p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#4D9375;">import</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span><span style="color:#BD976A;">Component</span><span style="color:#666666;">}</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">from</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D99;">&#39;</span><span style="color:#C98A7D;">@angular/core</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#666666;">@</span><span style="color:#80A665;">Component</span><span style="color:#666666;">({</span></span>
<span class="line"><span style="color:#666666;">  </span><span style="color:#B8A965;">selector</span><span style="color:#666666;">: </span><span style="color:#C98A7D99;">&#39;</span><span style="color:#C98A7D;">app-if</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#666666;">  </span><span style="color:#B8A965;">template</span><span style="color:#666666;">: </span><span style="color:#C98A7D99;">\`</span></span>
<span class="line"><span style="color:#C98A7D;">    &lt;div *ngIf=&quot;condition; else elseBlock&quot;&gt;condition为真时显示&lt;/div&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C98A7D;">    &lt;ng-template ##elseBlock&gt;</span></span>
<span class="line"><span style="color:#C98A7D;">      &lt;p&gt; condition为假时显示 &lt;/p&gt;</span></span>
<span class="line"><span style="color:#C98A7D;">    &lt;/ng-template&gt;</span></span>
<span class="line"><span style="color:#C98A7D;">  </span><span style="color:#C98A7D99;">\`</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#666666;">})</span><span style="color:#DBD7CAEE;"> </span><span style="color:#758575DD;">// ##elseBlock:模板的引用</span></span>
<span class="line"><span style="color:#4D9375;">export</span><span style="color:#DBD7CAEE;"> </span><span style="color:#CB7676;">class</span><span style="color:#DBD7CAEE;"> </span><span style="color:#5DA994;">IfComp</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#BD976A;">condition</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">true</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#666666;">}</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#1E754F;">import</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span><span style="color:#B07D48;">Component</span><span style="color:#999999;">}</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">from</span><span style="color:#393A34;"> </span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">@angular/core</span><span style="color:#B5695999;">&#39;</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#999999;">@</span><span style="color:#59873A;">Component</span><span style="color:#999999;">({</span></span>
<span class="line"><span style="color:#999999;">  </span><span style="color:#998418;">selector</span><span style="color:#999999;">: </span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">app-if</span><span style="color:#B5695999;">&#39;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#999999;">  </span><span style="color:#998418;">template</span><span style="color:#999999;">: </span><span style="color:#B5695999;">\`</span></span>
<span class="line"><span style="color:#B56959;">    &lt;div *ngIf=&quot;condition; else elseBlock&quot;&gt;condition为真时显示&lt;/div&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B56959;">    &lt;ng-template ##elseBlock&gt;</span></span>
<span class="line"><span style="color:#B56959;">      &lt;p&gt; condition为假时显示 &lt;/p&gt;</span></span>
<span class="line"><span style="color:#B56959;">    &lt;/ng-template&gt;</span></span>
<span class="line"><span style="color:#B56959;">  </span><span style="color:#B5695999;">\`</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#999999;">})</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">// ##elseBlock:模板的引用</span></span>
<span class="line"><span style="color:#1E754F;">export</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">class</span><span style="color:#393A34;"> </span><span style="color:#2E8F82;">IfComp</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#B07D48;">condition</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">true</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#999999;">}</span></span></code></pre></div><p><strong>ngIfThen</strong></p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#4D9375;">import</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span><span style="color:#BD976A;">Component</span><span style="color:#666666;">}</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">from</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D99;">&#39;</span><span style="color:#C98A7D;">@angular/core</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#666666;">@</span><span style="color:#80A665;">Component</span><span style="color:#666666;">({</span></span>
<span class="line"><span style="color:#666666;">  </span><span style="color:#B8A965;">selector</span><span style="color:#666666;">: </span><span style="color:#C98A7D99;">&#39;</span><span style="color:#C98A7D;">app-if</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#666666;">  </span><span style="color:#B8A965;">template</span><span style="color:#666666;">: </span><span style="color:#C98A7D99;">\`</span></span>
<span class="line"><span style="color:#C98A7D;">    &lt;div *ngIf=&quot;condition; then thenBlock else elseBlock&quot;&gt;&lt;/div&gt;</span></span>
<span class="line"><span style="color:#C98A7D;">    &lt;ng-template ##thenBlock&gt; condition为true时显示&lt;/ng-template&gt;</span></span>
<span class="line"><span style="color:#C98A7D;">    &lt;ng-template ##elseBlock&gt; condition为false时显示&lt;/ng-template&gt;</span></span>
<span class="line"><span style="color:#C98A7D;">  </span><span style="color:#C98A7D99;">\`</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#666666;">})</span><span style="color:#758575DD;">//只会显示一个ng-template，第一个div只是用于承载，并不会显示</span></span>
<span class="line"><span style="color:#4D9375;">export</span><span style="color:#DBD7CAEE;"> </span><span style="color:#CB7676;">class</span><span style="color:#DBD7CAEE;"> </span><span style="color:#5DA994;">IfComp</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#BD976A;">condition</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">true</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#666666;">}</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#1E754F;">import</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span><span style="color:#B07D48;">Component</span><span style="color:#999999;">}</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">from</span><span style="color:#393A34;"> </span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">@angular/core</span><span style="color:#B5695999;">&#39;</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#999999;">@</span><span style="color:#59873A;">Component</span><span style="color:#999999;">({</span></span>
<span class="line"><span style="color:#999999;">  </span><span style="color:#998418;">selector</span><span style="color:#999999;">: </span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">app-if</span><span style="color:#B5695999;">&#39;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#999999;">  </span><span style="color:#998418;">template</span><span style="color:#999999;">: </span><span style="color:#B5695999;">\`</span></span>
<span class="line"><span style="color:#B56959;">    &lt;div *ngIf=&quot;condition; then thenBlock else elseBlock&quot;&gt;&lt;/div&gt;</span></span>
<span class="line"><span style="color:#B56959;">    &lt;ng-template ##thenBlock&gt; condition为true时显示&lt;/ng-template&gt;</span></span>
<span class="line"><span style="color:#B56959;">    &lt;ng-template ##elseBlock&gt; condition为false时显示&lt;/ng-template&gt;</span></span>
<span class="line"><span style="color:#B56959;">  </span><span style="color:#B5695999;">\`</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#999999;">})</span><span style="color:#A0ADA0;">//只会显示一个ng-template，第一个div只是用于承载，并不会显示</span></span>
<span class="line"><span style="color:#1E754F;">export</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">class</span><span style="color:#393A34;"> </span><span style="color:#2E8F82;">IfComp</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#B07D48;">condition</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">true</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#999999;">}</span></span></code></pre></div><details class="details custom-block"><summary>TemplateRef拓展</summary><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#4D9375;">import</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span><span style="color:#BD976A;">Component</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">OnInit</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">ChangeDetectionStrategy</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">ViewChild</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">TemplateRef</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">AfterViewInit</span><span style="color:#666666;">}</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">from</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D99;">&#39;</span><span style="color:#C98A7D;">@angular/core</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#666666;">@</span><span style="color:#80A665;">Component</span><span style="color:#666666;">({</span></span>
<span class="line"><span style="color:#666666;">  </span><span style="color:#B8A965;">selector</span><span style="color:#666666;">: </span><span style="color:#C98A7D99;">&#39;</span><span style="color:#C98A7D;">app-if</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#666666;">  </span><span style="color:#B8A965;">template</span><span style="color:#666666;">: </span><span style="color:#C98A7D99;">\`</span></span>
<span class="line"><span style="color:#C98A7D;">    &lt;button(click)=&quot;condition = !condition&quot;&gt;toggle block&lt;/button&gt;</span></span>
<span class="line"><span style="color:#C98A7D;">    &lt;p *ngIf=&quot;condition else elseBlocks&quot;&gt;{{ condition }} === true 时显示&lt;/p&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C98A7D;">  &lt;ng-template ##firstTpl&gt;</span></span>
<span class="line"><span style="color:#C98A7D;">      &lt;p&gt;{{ condition }} === false 时显示&lt;/p&gt;</span></span>
<span class="line"><span style="color:#C98A7D;">    &lt;/ng-template&gt;</span></span>
<span class="line"><span style="color:#C98A7D;">  </span><span style="color:#C98A7D99;">\`</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#666666;">})</span></span>
<span class="line"><span style="color:#4D9375;">export</span><span style="color:#DBD7CAEE;"> </span><span style="color:#CB7676;">class</span><span style="color:#DBD7CAEE;"> </span><span style="color:#5DA994;">IfComponent</span><span style="color:#DBD7CAEE;"> </span><span style="color:#CB7676;">implements</span><span style="color:#DBD7CAEE;"> </span><span style="color:#80A665;">OnInit</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#80A665;">AfterViewInit</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#BD976A;">elseBlocks</span><span style="color:#666666;">: </span><span style="color:#5DA994;">TemplateRef</span><span style="color:#666666;">&lt;</span><span style="color:#5DA994;">any</span><span style="color:#666666;">&gt; =</span><span style="color:#DBD7CAEE;"> </span><span style="color:#CB7676;">null</span><span style="color:#666666;">;</span><span style="color:#DBD7CAEE;"> </span><span style="color:#758575DD;">//获取组件的变量elseBlocks</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#666666;">@</span><span style="color:#80A665;">ViewChild</span><span style="color:#666666;">(</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#C98A7D;">firstTpl</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span><span style="color:#B8A965;">static</span><span style="color:#666666;">: </span><span style="color:#4D9375;">true</span><span style="color:#666666;">})</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">primaryBlock</span><span style="color:#666666;">: </span><span style="color:#5DA994;">TemplateRef</span><span style="color:#666666;">&lt;</span><span style="color:#5DA994;">any</span><span style="color:#666666;">&gt; =</span><span style="color:#DBD7CAEE;"> </span><span style="color:#CB7676;">null</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#BD976A;">condition</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">false</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#CB7676;">constructor</span><span style="color:#666666;">()</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#666666;">}</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#80A665;">ngOnInit</span><span style="color:#666666;">():</span><span style="color:#DBD7CAEE;"> </span><span style="color:#5DA994;">void</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#BD976A;">console</span><span style="color:#666666;">.</span><span style="color:#80A665;">log</span><span style="color:#666666;">(</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#C98A7D;">ngOnInit</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">primaryBlock</span><span style="color:#666666;">);</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">elseBlocks</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">primaryBlock</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#666666;">   </span><span style="color:#758575DD;">//获取到##firstTpl模板引用赋值给elseBlocks变量</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#666666;">}</span></span>
<span class="line"><span style="color:#666666;">}</span></span>
<span class="line"><span style="color:#758575DD;">//运行效果和ngIfElese案例一样</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#1E754F;">import</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span><span style="color:#B07D48;">Component</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">OnInit</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">ChangeDetectionStrategy</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">ViewChild</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">TemplateRef</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">AfterViewInit</span><span style="color:#999999;">}</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">from</span><span style="color:#393A34;"> </span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">@angular/core</span><span style="color:#B5695999;">&#39;</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#999999;">@</span><span style="color:#59873A;">Component</span><span style="color:#999999;">({</span></span>
<span class="line"><span style="color:#999999;">  </span><span style="color:#998418;">selector</span><span style="color:#999999;">: </span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">app-if</span><span style="color:#B5695999;">&#39;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#999999;">  </span><span style="color:#998418;">template</span><span style="color:#999999;">: </span><span style="color:#B5695999;">\`</span></span>
<span class="line"><span style="color:#B56959;">    &lt;button(click)=&quot;condition = !condition&quot;&gt;toggle block&lt;/button&gt;</span></span>
<span class="line"><span style="color:#B56959;">    &lt;p *ngIf=&quot;condition else elseBlocks&quot;&gt;{{ condition }} === true 时显示&lt;/p&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B56959;">  &lt;ng-template ##firstTpl&gt;</span></span>
<span class="line"><span style="color:#B56959;">      &lt;p&gt;{{ condition }} === false 时显示&lt;/p&gt;</span></span>
<span class="line"><span style="color:#B56959;">    &lt;/ng-template&gt;</span></span>
<span class="line"><span style="color:#B56959;">  </span><span style="color:#B5695999;">\`</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#999999;">})</span></span>
<span class="line"><span style="color:#1E754F;">export</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">class</span><span style="color:#393A34;"> </span><span style="color:#2E8F82;">IfComponent</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">implements</span><span style="color:#393A34;"> </span><span style="color:#59873A;">OnInit</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#59873A;">AfterViewInit</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#B07D48;">elseBlocks</span><span style="color:#999999;">: </span><span style="color:#2E8F82;">TemplateRef</span><span style="color:#999999;">&lt;</span><span style="color:#2E8F82;">any</span><span style="color:#999999;">&gt; =</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">null</span><span style="color:#999999;">;</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">//获取组件的变量elseBlocks</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#999999;">@</span><span style="color:#59873A;">ViewChild</span><span style="color:#999999;">(</span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">firstTpl</span><span style="color:#B5695999;">&#39;</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span><span style="color:#998418;">static</span><span style="color:#999999;">: </span><span style="color:#1E754F;">true</span><span style="color:#999999;">})</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">primaryBlock</span><span style="color:#999999;">: </span><span style="color:#2E8F82;">TemplateRef</span><span style="color:#999999;">&lt;</span><span style="color:#2E8F82;">any</span><span style="color:#999999;">&gt; =</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">null</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#B07D48;">condition</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">false</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#AB5959;">constructor</span><span style="color:#999999;">()</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#59873A;">ngOnInit</span><span style="color:#999999;">():</span><span style="color:#393A34;"> </span><span style="color:#2E8F82;">void</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B07D48;">console</span><span style="color:#999999;">.</span><span style="color:#59873A;">log</span><span style="color:#999999;">(</span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">ngOnInit</span><span style="color:#B5695999;">&#39;</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">primaryBlock</span><span style="color:#999999;">);</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">elseBlocks</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">primaryBlock</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#999999;">   </span><span style="color:#A0ADA0;">//获取到##firstTpl模板引用赋值给elseBlocks变量</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#A0ADA0;">//运行效果和ngIfElese案例一样</span></span></code></pre></div></details><h3 id="ngfor指令" tabindex="-1"><code>*ngFor</code>指令 <a class="header-anchor" href="#ngfor指令" aria-label="Permalink to &quot;\`*ngFor\`指令&quot;">​</a></h3><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#4D9375;">import</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span><span style="color:#BD976A;">Component</span><span style="color:#666666;">}</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">from</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D99;">&#39;</span><span style="color:#C98A7D;">@angular/core</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#666666;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#666666;">@</span><span style="color:#80A665;">Component</span><span style="color:#666666;">({</span></span>
<span class="line"><span style="color:#666666;">  </span><span style="color:#B8A965;">selector</span><span style="color:#666666;">: </span><span style="color:#C98A7D99;">&#39;</span><span style="color:#C98A7D;">app-for</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#666666;">  </span><span style="color:#B8A965;">template</span><span style="color:#666666;">: </span><span style="color:#C98A7D99;">\`</span></span>
<span class="line"><span style="color:#C98A7D;">    &lt;ul&gt;</span></span>
<span class="line"><span style="color:#C98A7D;">      &lt;li *ngFor=&quot;let item of Persons;</span></span>
<span class="line"><span style="color:#C98A7D;">      index as i; count as len; let ev = even; let od = odd; let f = first; let l = last;</span></span>
<span class="line"><span style="color:#C98A7D;">      trackBy: trackByPerson&quot;&gt;{{ item.name }}&lt;/li&gt;</span></span>
<span class="line"><span style="color:#C98A7D;">    &lt;/ul&gt;</span></span>
<span class="line"><span style="color:#C98A7D;">  </span><span style="color:#C98A7D99;">\`</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#666666;">})</span></span>
<span class="line"><span style="color:#4D9375;">export</span><span style="color:#DBD7CAEE;"> </span><span style="color:#CB7676;">class</span><span style="color:#DBD7CAEE;"> </span><span style="color:#5DA994;">ForComponent</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">     </span><span style="color:#BD976A;">Persons</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">[</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#666666;">    </span><span style="color:#B8A965;">id</span><span style="color:#666666;">: </span><span style="color:#C98A7D99;">&#39;</span><span style="color:#C98A7D;">p1</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#666666;">    </span><span style="color:#B8A965;">name</span><span style="color:#666666;">: </span><span style="color:#C98A7D99;">&#39;</span><span style="color:#C98A7D;">张三</span><span style="color:#C98A7D99;">&#39;</span></span>
<span class="line"><span style="color:#666666;">  },</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#666666;">    </span><span style="color:#B8A965;">id</span><span style="color:#666666;">: </span><span style="color:#C98A7D99;">&#39;</span><span style="color:#C98A7D;">p2</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#666666;">    </span><span style="color:#B8A965;">name</span><span style="color:#666666;">: </span><span style="color:#C98A7D99;">&#39;</span><span style="color:#C98A7D;">李四</span><span style="color:#C98A7D99;">&#39;</span></span>
<span class="line"><span style="color:#666666;">  },</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#666666;">    </span><span style="color:#B8A965;">id</span><span style="color:#666666;">: </span><span style="color:#C98A7D99;">&#39;</span><span style="color:#C98A7D;">p3</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#666666;">    </span><span style="color:#B8A965;">name</span><span style="color:#666666;">: </span><span style="color:#C98A7D99;">&#39;</span><span style="color:#C98A7D;">王五</span><span style="color:#C98A7D99;">&#39;</span></span>
<span class="line"><span style="color:#666666;">  },</span></span>
<span class="line"></span>
<span class="line"><span style="color:#666666;">];</span></span>
<span class="line"><span style="color:#80A665;">trackByPerson</span><span style="color:#666666;">(</span><span style="color:#BD976A;">index</span><span style="color:#666666;">,</span><span style="color:#BD976A;">item</span><span style="color:#666666;">){</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#4D9375;">return</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">item</span><span style="color:#666666;">.</span><span style="color:#BD976A;">id</span><span style="color:#DBD7CAEE;">  </span><span style="color:#758575DD;">//追踪id，id值不变不刷新（提升性能）</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#666666;">}</span></span>
<span class="line"><span style="color:#666666;">}</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#1E754F;">import</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span><span style="color:#B07D48;">Component</span><span style="color:#999999;">}</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">from</span><span style="color:#393A34;"> </span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">@angular/core</span><span style="color:#B5695999;">&#39;</span><span style="color:#999999;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#999999;">@</span><span style="color:#59873A;">Component</span><span style="color:#999999;">({</span></span>
<span class="line"><span style="color:#999999;">  </span><span style="color:#998418;">selector</span><span style="color:#999999;">: </span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">app-for</span><span style="color:#B5695999;">&#39;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#999999;">  </span><span style="color:#998418;">template</span><span style="color:#999999;">: </span><span style="color:#B5695999;">\`</span></span>
<span class="line"><span style="color:#B56959;">    &lt;ul&gt;</span></span>
<span class="line"><span style="color:#B56959;">      &lt;li *ngFor=&quot;let item of Persons;</span></span>
<span class="line"><span style="color:#B56959;">      index as i; count as len; let ev = even; let od = odd; let f = first; let l = last;</span></span>
<span class="line"><span style="color:#B56959;">      trackBy: trackByPerson&quot;&gt;{{ item.name }}&lt;/li&gt;</span></span>
<span class="line"><span style="color:#B56959;">    &lt;/ul&gt;</span></span>
<span class="line"><span style="color:#B56959;">  </span><span style="color:#B5695999;">\`</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#999999;">})</span></span>
<span class="line"><span style="color:#1E754F;">export</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">class</span><span style="color:#393A34;"> </span><span style="color:#2E8F82;">ForComponent</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">     </span><span style="color:#B07D48;">Persons</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#999999;">[</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#999999;">    </span><span style="color:#998418;">id</span><span style="color:#999999;">: </span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">p1</span><span style="color:#B5695999;">&#39;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#999999;">    </span><span style="color:#998418;">name</span><span style="color:#999999;">: </span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">张三</span><span style="color:#B5695999;">&#39;</span></span>
<span class="line"><span style="color:#999999;">  },</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#999999;">    </span><span style="color:#998418;">id</span><span style="color:#999999;">: </span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">p2</span><span style="color:#B5695999;">&#39;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#999999;">    </span><span style="color:#998418;">name</span><span style="color:#999999;">: </span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">李四</span><span style="color:#B5695999;">&#39;</span></span>
<span class="line"><span style="color:#999999;">  },</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#999999;">    </span><span style="color:#998418;">id</span><span style="color:#999999;">: </span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">p3</span><span style="color:#B5695999;">&#39;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#999999;">    </span><span style="color:#998418;">name</span><span style="color:#999999;">: </span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">王五</span><span style="color:#B5695999;">&#39;</span></span>
<span class="line"><span style="color:#999999;">  },</span></span>
<span class="line"></span>
<span class="line"><span style="color:#999999;">];</span></span>
<span class="line"><span style="color:#59873A;">trackByPerson</span><span style="color:#999999;">(</span><span style="color:#B07D48;">index</span><span style="color:#999999;">,</span><span style="color:#B07D48;">item</span><span style="color:#999999;">){</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1E754F;">return</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">item</span><span style="color:#999999;">.</span><span style="color:#B07D48;">id</span><span style="color:#393A34;">  </span><span style="color:#A0ADA0;">//追踪id，id值不变不刷新（提升性能）</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#999999;">}</span></span></code></pre></div><details class="details custom-block"><summary>ngFor局部变量</summary><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#DBD7CAEE;"> </span><span style="color:#80A665;">index</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">number</span><span style="color:#DBD7CAEE;">  </span><span style="color:#758575DD;">//可迭代对象中当前条目的索引。</span></span>
<span class="line"><span style="color:#DBD7CAEE;"> </span><span style="color:#80A665;">count</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">number</span><span style="color:#DBD7CAEE;">  </span><span style="color:#758575DD;">//可迭代对象的长度。</span></span>
<span class="line"><span style="color:#DBD7CAEE;"> </span><span style="color:#80A665;">first</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">boolean</span><span style="color:#DBD7CAEE;">  </span><span style="color:#758575DD;">//如果当前条目是可迭代对象中的第一个条目则为 true。</span></span>
<span class="line"><span style="color:#DBD7CAEE;"> </span><span style="color:#80A665;">last</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">boolean</span><span style="color:#DBD7CAEE;">  </span><span style="color:#758575DD;">//如果当前条目是可迭代对象中的最后一个条目则为 true。</span></span>
<span class="line"><span style="color:#DBD7CAEE;"> </span><span style="color:#80A665;">even</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">boolean</span><span style="color:#DBD7CAEE;">  </span><span style="color:#758575DD;">//如果当前条目在可迭代对象中的索引号为偶数则为 true。</span></span>
<span class="line"><span style="color:#DBD7CAEE;"> </span><span style="color:#80A665;">odd</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">boolean</span><span style="color:#DBD7CAEE;">  </span><span style="color:#758575DD;">//如果当前条目在可迭代对象中的索引号为奇数则为 true。</span></span>
<span class="line"><span style="color:#DBD7CAEE;"> </span><span style="color:#80A665;">$implicit</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">T</span><span style="color:#DBD7CAEE;">  </span><span style="color:#758575DD;">//迭代目标（绑定到ngForOf）中每个条目的值。</span></span>
<span class="line"><span style="color:#DBD7CAEE;"> </span><span style="color:#80A665;">ngForOf</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">NgIterable</span><span style="color:#666666;">&lt;</span><span style="color:#BD976A;">T</span><span style="color:#666666;">&gt;</span><span style="color:#DBD7CAEE;">  </span><span style="color:#758575DD;">//迭代表达式的值。当表达式不局限于访问某个属性时，这会非常有用，比如在使用 async 管道时（userStreams | async）。</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#393A34;"> </span><span style="color:#59873A;">index</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">number</span><span style="color:#393A34;">  </span><span style="color:#A0ADA0;">//可迭代对象中当前条目的索引。</span></span>
<span class="line"><span style="color:#393A34;"> </span><span style="color:#59873A;">count</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">number</span><span style="color:#393A34;">  </span><span style="color:#A0ADA0;">//可迭代对象的长度。</span></span>
<span class="line"><span style="color:#393A34;"> </span><span style="color:#59873A;">first</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">boolean</span><span style="color:#393A34;">  </span><span style="color:#A0ADA0;">//如果当前条目是可迭代对象中的第一个条目则为 true。</span></span>
<span class="line"><span style="color:#393A34;"> </span><span style="color:#59873A;">last</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">boolean</span><span style="color:#393A34;">  </span><span style="color:#A0ADA0;">//如果当前条目是可迭代对象中的最后一个条目则为 true。</span></span>
<span class="line"><span style="color:#393A34;"> </span><span style="color:#59873A;">even</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">boolean</span><span style="color:#393A34;">  </span><span style="color:#A0ADA0;">//如果当前条目在可迭代对象中的索引号为偶数则为 true。</span></span>
<span class="line"><span style="color:#393A34;"> </span><span style="color:#59873A;">odd</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">boolean</span><span style="color:#393A34;">  </span><span style="color:#A0ADA0;">//如果当前条目在可迭代对象中的索引号为奇数则为 true。</span></span>
<span class="line"><span style="color:#393A34;"> </span><span style="color:#59873A;">$implicit</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">T</span><span style="color:#393A34;">  </span><span style="color:#A0ADA0;">//迭代目标（绑定到ngForOf）中每个条目的值。</span></span>
<span class="line"><span style="color:#393A34;"> </span><span style="color:#59873A;">ngForOf</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">NgIterable</span><span style="color:#999999;">&lt;</span><span style="color:#B07D48;">T</span><span style="color:#999999;">&gt;</span><span style="color:#393A34;">  </span><span style="color:#A0ADA0;">//迭代表达式的值。当表达式不局限于访问某个属性时，这会非常有用，比如在使用 async 管道时（userStreams | async）。</span></span></code></pre></div></details><details class="details custom-block"><summary>*ngFor展开写法</summary><div class="language-html vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">ul</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">ng-template</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#BD976A;">ngFor</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#BD976A;">[ngForOf]</span><span style="color:#666666;">=</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#C98A7D;">heros</span><span style="color:#C98A7D99;">&quot;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#BD976A;">[ngForTrackBy]</span><span style="color:#666666;">=</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#C98A7D;">trackByHero</span><span style="color:#C98A7D99;">&quot;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#BD976A;">let-item</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#BD976A;">let-i</span><span style="color:#666666;">=</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#C98A7D;">index</span><span style="color:#C98A7D99;">&quot;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#BD976A;">let-od</span><span style="color:#666666;">=</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#C98A7D;">odd</span><span style="color:#C98A7D99;">&quot;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#BD976A;">let-ev</span><span style="color:#666666;">=</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#C98A7D;">even</span><span style="color:#C98A7D99;">&quot;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#BD976A;">let-len</span><span style="color:#666666;">=</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#C98A7D;">count</span><span style="color:#C98A7D99;">&quot;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#BD976A;">let-f</span><span style="color:#666666;">=</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#C98A7D;">first</span><span style="color:#C98A7D99;">&quot;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#BD976A;">let-l</span><span style="color:#666666;">=</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#C98A7D;">last</span><span style="color:#C98A7D99;">&quot;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">li</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">[class.even]</span><span style="color:#666666;">=</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#C98A7D;">ev</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">[class.odd]</span><span style="color:#666666;">=</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#C98A7D;">od</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">      </span><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">p</span><span style="color:#666666;">&gt;</span><span style="color:#DBD7CAEE;">index: {{ i }}</span><span style="color:#666666;">&lt;/</span><span style="color:#4D9375;">p</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">      </span><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">p</span><span style="color:#666666;">&gt;</span><span style="color:#DBD7CAEE;">count: {{ len }}</span><span style="color:#666666;">&lt;/</span><span style="color:#4D9375;">p</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">      </span><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">p</span><span style="color:#666666;">&gt;</span><span style="color:#DBD7CAEE;">name: {{ item.name }}</span><span style="color:#666666;">&lt;/</span><span style="color:#4D9375;">p</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">      </span><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">p</span><span style="color:#666666;">&gt;</span><span style="color:#DBD7CAEE;">first: {{ f }} -- last: {{ l }}</span><span style="color:#666666;">&lt;/</span><span style="color:#4D9375;">p</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">      </span><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">hr</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">/&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#666666;">&lt;/</span><span style="color:#4D9375;">li</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#666666;">&lt;/</span><span style="color:#4D9375;">ng-template</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#666666;">&lt;/</span><span style="color:#4D9375;">ul</span><span style="color:#666666;">&gt;</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">ul</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">ng-template</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B07D48;">ngFor</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B07D48;">[ngForOf]</span><span style="color:#999999;">=</span><span style="color:#B5695999;">&quot;</span><span style="color:#B56959;">heros</span><span style="color:#B5695999;">&quot;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B07D48;">[ngForTrackBy]</span><span style="color:#999999;">=</span><span style="color:#B5695999;">&quot;</span><span style="color:#B56959;">trackByHero</span><span style="color:#B5695999;">&quot;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B07D48;">let-item</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B07D48;">let-i</span><span style="color:#999999;">=</span><span style="color:#B5695999;">&quot;</span><span style="color:#B56959;">index</span><span style="color:#B5695999;">&quot;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B07D48;">let-od</span><span style="color:#999999;">=</span><span style="color:#B5695999;">&quot;</span><span style="color:#B56959;">odd</span><span style="color:#B5695999;">&quot;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B07D48;">let-ev</span><span style="color:#999999;">=</span><span style="color:#B5695999;">&quot;</span><span style="color:#B56959;">even</span><span style="color:#B5695999;">&quot;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B07D48;">let-len</span><span style="color:#999999;">=</span><span style="color:#B5695999;">&quot;</span><span style="color:#B56959;">count</span><span style="color:#B5695999;">&quot;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B07D48;">let-f</span><span style="color:#999999;">=</span><span style="color:#B5695999;">&quot;</span><span style="color:#B56959;">first</span><span style="color:#B5695999;">&quot;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B07D48;">let-l</span><span style="color:#999999;">=</span><span style="color:#B5695999;">&quot;</span><span style="color:#B56959;">last</span><span style="color:#B5695999;">&quot;</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">li</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">[class.even]</span><span style="color:#999999;">=</span><span style="color:#B5695999;">&quot;</span><span style="color:#B56959;">ev</span><span style="color:#B5695999;">&quot;</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">[class.odd]</span><span style="color:#999999;">=</span><span style="color:#B5695999;">&quot;</span><span style="color:#B56959;">od</span><span style="color:#B5695999;">&quot;</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">p</span><span style="color:#999999;">&gt;</span><span style="color:#393A34;">index: {{ i }}</span><span style="color:#999999;">&lt;/</span><span style="color:#1E754F;">p</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">p</span><span style="color:#999999;">&gt;</span><span style="color:#393A34;">count: {{ len }}</span><span style="color:#999999;">&lt;/</span><span style="color:#1E754F;">p</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">p</span><span style="color:#999999;">&gt;</span><span style="color:#393A34;">name: {{ item.name }}</span><span style="color:#999999;">&lt;/</span><span style="color:#1E754F;">p</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">p</span><span style="color:#999999;">&gt;</span><span style="color:#393A34;">first: {{ f }} -- last: {{ l }}</span><span style="color:#999999;">&lt;/</span><span style="color:#1E754F;">p</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">hr</span><span style="color:#393A34;"> </span><span style="color:#999999;">/&gt;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#999999;">&lt;/</span><span style="color:#1E754F;">li</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#999999;">&lt;/</span><span style="color:#1E754F;">ng-template</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#999999;">&lt;/</span><span style="color:#1E754F;">ul</span><span style="color:#999999;">&gt;</span></span></code></pre></div></details><h3 id="ngswitch-指令" tabindex="-1"><code>[ngSwitch]</code>指令 <a class="header-anchor" href="#ngswitch-指令" aria-label="Permalink to &quot;\`[ngSwitch]\`指令&quot;">​</a></h3><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p><code>[ngSwitch]</code> 为属性型指令</p><p><code>*ngSwitchCase</code>为结构型指令</p></div><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#4D9375;">import</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span><span style="color:#BD976A;">Component</span><span style="color:#666666;">}</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">from</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D99;">&#39;</span><span style="color:#C98A7D;">@angular/core</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#666666;">@</span><span style="color:#80A665;">Component</span><span style="color:#666666;">({</span></span>
<span class="line"><span style="color:#666666;">  </span><span style="color:#B8A965;">selector</span><span style="color:#666666;">: </span><span style="color:#C98A7D99;">&#39;</span><span style="color:#C98A7D;">app-switch</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#666666;">  </span><span style="color:#B8A965;">template</span><span style="color:#666666;">: </span><span style="color:#C98A7D99;">\`</span></span>
<span class="line"><span style="color:#C98A7D;">    &lt;p&gt;</span></span>
<span class="line"><span style="color:#C98A7D;">      &lt;input type=&quot;radio&quot; name=&quot;fruit&quot; value=&quot;apple&quot; id=&quot;apple&quot; [(ngModel)]=&quot;fruit&quot; /&gt;</span></span>
<span class="line"><span style="color:#C98A7D;">      &lt;label for=&quot;apple&quot;&gt;🍎&lt;/label&gt;</span></span>
<span class="line"><span style="color:#C98A7D;">    &lt;/p&gt;</span></span>
<span class="line"><span style="color:#C98A7D;">    &lt;p&gt;</span></span>
<span class="line"><span style="color:#C98A7D;">      &lt;input type=&quot;radio&quot; name=&quot;fruit&quot; value=&quot;pear&quot; id=&quot;pear&quot; [(ngModel)]=&quot;fruit&quot; /&gt;</span></span>
<span class="line"><span style="color:#C98A7D;">      &lt;label for=&quot;pear&quot;&gt;🍐&lt;/label&gt;</span></span>
<span class="line"><span style="color:#C98A7D;">    &lt;/p&gt;</span></span>
<span class="line"><span style="color:#C98A7D;">    &lt;p&gt;</span></span>
<span class="line"><span style="color:#C98A7D;">      &lt;input type=&quot;radio&quot; name=&quot;fruit&quot; value=&quot;grape&quot; id=&quot;grape&quot; [(ngModel)]=&quot;fruit&quot; /&gt;</span></span>
<span class="line"><span style="color:#C98A7D;">      &lt;label for=&quot;grape&quot;&gt;🍇&lt;/label&gt;</span></span>
<span class="line"><span style="color:#C98A7D;">    &lt;/p&gt;</span></span>
<span class="line"><span style="color:#C98A7D;">    &lt;p&gt;</span></span>
<span class="line"><span style="color:#C98A7D;">      &lt;input type=&quot;radio&quot; name=&quot;fruit&quot; value=&quot;other&quot; id=&quot;other&quot; [(ngModel)]=&quot;fruit&quot; /&gt;</span></span>
<span class="line"><span style="color:#C98A7D;">      &lt;label for=&quot;other&quot;&gt;other&lt;/label&gt;</span></span>
<span class="line"><span style="color:#C98A7D;">    &lt;/p&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C98A7D;">    selected fruit: {{ fruit }}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C98A7D;">    &lt;div class=&quot;content&quot; [ngSwitch]=&quot;fruit&quot;&gt;</span></span>
<span class="line"><span style="color:#C98A7D;">      &lt;p *ngSwitchCase=&quot;&#39;apple&#39;&quot;&gt;这是 苹果&lt;/p&gt;</span></span>
<span class="line"><span style="color:#C98A7D;">      &lt;p *ngSwitchCase=&quot;&#39;pear&#39;&quot;&gt; 这是 梨&lt;/p&gt;</span></span>
<span class="line"><span style="color:#C98A7D;">      &lt;p *ngSwitchCase=&quot;&#39;grape&#39;&quot;&gt;这是 葡萄&lt;/p&gt;</span></span>
<span class="line"><span style="color:#C98A7D;">      &lt;p *ngSwitchDefault&gt;啥都不是&lt;/p&gt;</span></span>
<span class="line"><span style="color:#C98A7D;">    &lt;/div&gt;</span></span>
<span class="line"><span style="color:#C98A7D;">  </span><span style="color:#C98A7D99;">\`</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#666666;">})</span></span>
<span class="line"><span style="color:#4D9375;">export</span><span style="color:#DBD7CAEE;"> </span><span style="color:#CB7676;">class</span><span style="color:#DBD7CAEE;"> </span><span style="color:#5DA994;">SwitchComponent</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#BD976A;">fruit</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D99;">&#39;&#39;</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#666666;">}</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#1E754F;">import</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span><span style="color:#B07D48;">Component</span><span style="color:#999999;">}</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">from</span><span style="color:#393A34;"> </span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">@angular/core</span><span style="color:#B5695999;">&#39;</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#999999;">@</span><span style="color:#59873A;">Component</span><span style="color:#999999;">({</span></span>
<span class="line"><span style="color:#999999;">  </span><span style="color:#998418;">selector</span><span style="color:#999999;">: </span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">app-switch</span><span style="color:#B5695999;">&#39;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#999999;">  </span><span style="color:#998418;">template</span><span style="color:#999999;">: </span><span style="color:#B5695999;">\`</span></span>
<span class="line"><span style="color:#B56959;">    &lt;p&gt;</span></span>
<span class="line"><span style="color:#B56959;">      &lt;input type=&quot;radio&quot; name=&quot;fruit&quot; value=&quot;apple&quot; id=&quot;apple&quot; [(ngModel)]=&quot;fruit&quot; /&gt;</span></span>
<span class="line"><span style="color:#B56959;">      &lt;label for=&quot;apple&quot;&gt;🍎&lt;/label&gt;</span></span>
<span class="line"><span style="color:#B56959;">    &lt;/p&gt;</span></span>
<span class="line"><span style="color:#B56959;">    &lt;p&gt;</span></span>
<span class="line"><span style="color:#B56959;">      &lt;input type=&quot;radio&quot; name=&quot;fruit&quot; value=&quot;pear&quot; id=&quot;pear&quot; [(ngModel)]=&quot;fruit&quot; /&gt;</span></span>
<span class="line"><span style="color:#B56959;">      &lt;label for=&quot;pear&quot;&gt;🍐&lt;/label&gt;</span></span>
<span class="line"><span style="color:#B56959;">    &lt;/p&gt;</span></span>
<span class="line"><span style="color:#B56959;">    &lt;p&gt;</span></span>
<span class="line"><span style="color:#B56959;">      &lt;input type=&quot;radio&quot; name=&quot;fruit&quot; value=&quot;grape&quot; id=&quot;grape&quot; [(ngModel)]=&quot;fruit&quot; /&gt;</span></span>
<span class="line"><span style="color:#B56959;">      &lt;label for=&quot;grape&quot;&gt;🍇&lt;/label&gt;</span></span>
<span class="line"><span style="color:#B56959;">    &lt;/p&gt;</span></span>
<span class="line"><span style="color:#B56959;">    &lt;p&gt;</span></span>
<span class="line"><span style="color:#B56959;">      &lt;input type=&quot;radio&quot; name=&quot;fruit&quot; value=&quot;other&quot; id=&quot;other&quot; [(ngModel)]=&quot;fruit&quot; /&gt;</span></span>
<span class="line"><span style="color:#B56959;">      &lt;label for=&quot;other&quot;&gt;other&lt;/label&gt;</span></span>
<span class="line"><span style="color:#B56959;">    &lt;/p&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B56959;">    selected fruit: {{ fruit }}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B56959;">    &lt;div class=&quot;content&quot; [ngSwitch]=&quot;fruit&quot;&gt;</span></span>
<span class="line"><span style="color:#B56959;">      &lt;p *ngSwitchCase=&quot;&#39;apple&#39;&quot;&gt;这是 苹果&lt;/p&gt;</span></span>
<span class="line"><span style="color:#B56959;">      &lt;p *ngSwitchCase=&quot;&#39;pear&#39;&quot;&gt; 这是 梨&lt;/p&gt;</span></span>
<span class="line"><span style="color:#B56959;">      &lt;p *ngSwitchCase=&quot;&#39;grape&#39;&quot;&gt;这是 葡萄&lt;/p&gt;</span></span>
<span class="line"><span style="color:#B56959;">      &lt;p *ngSwitchDefault&gt;啥都不是&lt;/p&gt;</span></span>
<span class="line"><span style="color:#B56959;">    &lt;/div&gt;</span></span>
<span class="line"><span style="color:#B56959;">  </span><span style="color:#B5695999;">\`</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#999999;">})</span></span>
<span class="line"><span style="color:#1E754F;">export</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">class</span><span style="color:#393A34;"> </span><span style="color:#2E8F82;">SwitchComponent</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#B07D48;">fruit</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#B5695999;">&#39;&#39;</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#999999;">}</span></span></code></pre></div><details class="details custom-block"><summary>[ngSwitch]展开写法</summary><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">&lt;</span><span style="color:#BD976A;">div</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">class</span><span style="color:#666666;">=</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#C98A7D;">content</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">[</span><span style="color:#BD976A;">ngSwitch</span><span style="color:#666666;">]=</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#C98A7D;">fruit</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">       </span><span style="color:#666666;">&lt;</span><span style="color:#BD976A;">ng</span><span style="color:#CB7676;">-</span><span style="color:#BD976A;">template</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">ngSwitchCase</span><span style="color:#666666;">=</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#C98A7D;">apple</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">         </span><span style="color:#666666;">&lt;</span><span style="color:#5DA994;">p</span><span style="color:#666666;">&gt;</span><span style="color:#BD976A;">这是苹果</span><span style="color:#666666;">&lt;</span><span style="color:#CB7676;">/</span><span style="color:#BD976A;">p</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">       </span><span style="color:#666666;">&lt;</span><span style="color:#CB7676;">/</span><span style="color:#BD976A;">ng</span><span style="color:#CB7676;">-</span><span style="color:#BD976A;">template</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">       </span><span style="color:#666666;">&lt;</span><span style="color:#BD976A;">ng</span><span style="color:#CB7676;">-</span><span style="color:#BD976A;">template</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">ngSwitchCase</span><span style="color:#666666;">=</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#C98A7D;">pear</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">         </span><span style="color:#666666;">&lt;</span><span style="color:#5DA994;">p</span><span style="color:#666666;">&gt;</span><span style="color:#BD976A;">这是梨</span><span style="color:#666666;">&lt;</span><span style="color:#CB7676;">/</span><span style="color:#BD976A;">p</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">       </span><span style="color:#666666;">&lt;</span><span style="color:#CB7676;">/</span><span style="color:#BD976A;">ng</span><span style="color:#CB7676;">-</span><span style="color:#BD976A;">template</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">       </span><span style="color:#666666;">&lt;</span><span style="color:#BD976A;">ng</span><span style="color:#CB7676;">-</span><span style="color:#BD976A;">template</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">ngSwitchCase</span><span style="color:#666666;">=</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#C98A7D;">grape</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">         </span><span style="color:#666666;">&lt;</span><span style="color:#5DA994;">p</span><span style="color:#666666;">&gt;</span><span style="color:#BD976A;">这是葡萄</span><span style="color:#666666;">&lt;</span><span style="color:#CB7676;">/</span><span style="color:#BD976A;">p</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">       </span><span style="color:#666666;">&lt;</span><span style="color:#CB7676;">/</span><span style="color:#BD976A;">ng</span><span style="color:#CB7676;">-</span><span style="color:#BD976A;">template</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">       </span><span style="color:#666666;">&lt;</span><span style="color:#BD976A;">ng</span><span style="color:#CB7676;">-</span><span style="color:#BD976A;">template</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">ngSwitchDefault</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">         </span><span style="color:#666666;">&lt;</span><span style="color:#5DA994;">p</span><span style="color:#666666;">&gt;</span><span style="color:#BD976A;">啥都不是</span><span style="color:#666666;">&lt;</span><span style="color:#CB7676;">/</span><span style="color:#BD976A;">p</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">       </span><span style="color:#666666;">&lt;</span><span style="color:#CB7676;">/</span><span style="color:#BD976A;">ng</span><span style="color:#CB7676;">-</span><span style="color:#BD976A;">template</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">     </span><span style="color:#666666;">&lt;</span><span style="color:#CB7676;">/</span><span style="color:#BD976A;">div</span><span style="color:#666666;">&gt;</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#393A34;"> </span><span style="color:#999999;">&lt;</span><span style="color:#B07D48;">div</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">class</span><span style="color:#999999;">=</span><span style="color:#B5695999;">&quot;</span><span style="color:#B56959;">content</span><span style="color:#B5695999;">&quot;</span><span style="color:#393A34;"> </span><span style="color:#999999;">[</span><span style="color:#B07D48;">ngSwitch</span><span style="color:#999999;">]=</span><span style="color:#B5695999;">&quot;</span><span style="color:#B56959;">fruit</span><span style="color:#B5695999;">&quot;</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">       </span><span style="color:#999999;">&lt;</span><span style="color:#B07D48;">ng</span><span style="color:#AB5959;">-</span><span style="color:#B07D48;">template</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">ngSwitchCase</span><span style="color:#999999;">=</span><span style="color:#B5695999;">&quot;</span><span style="color:#B56959;">apple</span><span style="color:#B5695999;">&quot;</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">         </span><span style="color:#999999;">&lt;</span><span style="color:#2E8F82;">p</span><span style="color:#999999;">&gt;</span><span style="color:#B07D48;">这是苹果</span><span style="color:#999999;">&lt;</span><span style="color:#AB5959;">/</span><span style="color:#B07D48;">p</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">       </span><span style="color:#999999;">&lt;</span><span style="color:#AB5959;">/</span><span style="color:#B07D48;">ng</span><span style="color:#AB5959;">-</span><span style="color:#B07D48;">template</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">       </span><span style="color:#999999;">&lt;</span><span style="color:#B07D48;">ng</span><span style="color:#AB5959;">-</span><span style="color:#B07D48;">template</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">ngSwitchCase</span><span style="color:#999999;">=</span><span style="color:#B5695999;">&quot;</span><span style="color:#B56959;">pear</span><span style="color:#B5695999;">&quot;</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">         </span><span style="color:#999999;">&lt;</span><span style="color:#2E8F82;">p</span><span style="color:#999999;">&gt;</span><span style="color:#B07D48;">这是梨</span><span style="color:#999999;">&lt;</span><span style="color:#AB5959;">/</span><span style="color:#B07D48;">p</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">       </span><span style="color:#999999;">&lt;</span><span style="color:#AB5959;">/</span><span style="color:#B07D48;">ng</span><span style="color:#AB5959;">-</span><span style="color:#B07D48;">template</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">       </span><span style="color:#999999;">&lt;</span><span style="color:#B07D48;">ng</span><span style="color:#AB5959;">-</span><span style="color:#B07D48;">template</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">ngSwitchCase</span><span style="color:#999999;">=</span><span style="color:#B5695999;">&quot;</span><span style="color:#B56959;">grape</span><span style="color:#B5695999;">&quot;</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">         </span><span style="color:#999999;">&lt;</span><span style="color:#2E8F82;">p</span><span style="color:#999999;">&gt;</span><span style="color:#B07D48;">这是葡萄</span><span style="color:#999999;">&lt;</span><span style="color:#AB5959;">/</span><span style="color:#B07D48;">p</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">       </span><span style="color:#999999;">&lt;</span><span style="color:#AB5959;">/</span><span style="color:#B07D48;">ng</span><span style="color:#AB5959;">-</span><span style="color:#B07D48;">template</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">       </span><span style="color:#999999;">&lt;</span><span style="color:#B07D48;">ng</span><span style="color:#AB5959;">-</span><span style="color:#B07D48;">template</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">ngSwitchDefault</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">         </span><span style="color:#999999;">&lt;</span><span style="color:#2E8F82;">p</span><span style="color:#999999;">&gt;</span><span style="color:#B07D48;">啥都不是</span><span style="color:#999999;">&lt;</span><span style="color:#AB5959;">/</span><span style="color:#B07D48;">p</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">       </span><span style="color:#999999;">&lt;</span><span style="color:#AB5959;">/</span><span style="color:#B07D48;">ng</span><span style="color:#AB5959;">-</span><span style="color:#B07D48;">template</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">     </span><span style="color:#999999;">&lt;</span><span style="color:#AB5959;">/</span><span style="color:#B07D48;">div</span><span style="color:#999999;">&gt;</span></span></code></pre></div></details><h2 id="自定义指令" tabindex="-1">自定义指令 <a class="header-anchor" href="#自定义指令" aria-label="Permalink to &quot;自定义指令&quot;">​</a></h2><p>使用：</p><div class="language-html vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">p</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">appHighlight</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">highlightColor</span><span style="color:#666666;">=</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#C98A7D;">red</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#666666;">&gt;&lt;/</span><span style="color:#4D9375;">p</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">p</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">appHighlight</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">[highlightColor]</span><span style="color:#666666;">=</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#C98A7D;">color</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#666666;">&gt;&lt;/</span><span style="color:#4D9375;">p</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">p</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">appHighlight</span><span style="color:#666666;">=</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#C98A7D;">color</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#666666;">&gt;&lt;/</span><span style="color:#4D9375;">p</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#758575DD;">&lt;!-- 起别名后，输入属性和指令名设为一样--&gt;</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">p</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">appHighlight</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">highlightColor</span><span style="color:#999999;">=</span><span style="color:#B5695999;">&quot;</span><span style="color:#B56959;">red</span><span style="color:#B5695999;">&quot;</span><span style="color:#999999;">&gt;&lt;/</span><span style="color:#1E754F;">p</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">p</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">appHighlight</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">[highlightColor]</span><span style="color:#999999;">=</span><span style="color:#B5695999;">&quot;</span><span style="color:#B56959;">color</span><span style="color:#B5695999;">&quot;</span><span style="color:#999999;">&gt;&lt;/</span><span style="color:#1E754F;">p</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">p</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">appHighlight</span><span style="color:#999999;">=</span><span style="color:#B5695999;">&quot;</span><span style="color:#B56959;">color</span><span style="color:#B5695999;">&quot;</span><span style="color:#999999;">&gt;&lt;/</span><span style="color:#1E754F;">p</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#A0ADA0;">&lt;!-- 起别名后，输入属性和指令名设为一样--&gt;</span></span></code></pre></div><h3 id="自定义高亮指令-属性型" tabindex="-1">自定义高亮指令（属性型） <a class="header-anchor" href="#自定义高亮指令-属性型" aria-label="Permalink to &quot;自定义高亮指令（属性型）&quot;">​</a></h3><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#4D9375;">import</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span><span style="color:#BD976A;">Directive</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">ElementRef</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">EventEmitter</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">HostListener</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">Input</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">Output</span><span style="color:#666666;">}</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">from</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D99;">&#39;</span><span style="color:#C98A7D;">@angular/core</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#666666;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#666666;">@</span><span style="color:#80A665;">Directive</span><span style="color:#666666;">({</span></span>
<span class="line"><span style="color:#666666;">  </span><span style="color:#B8A965;">selector</span><span style="color:#666666;">: </span><span style="color:#C98A7D99;">&#39;</span><span style="color:#C98A7D;">[appHighlight]</span><span style="color:#C98A7D99;">&#39;</span></span>
<span class="line"><span style="color:#666666;">})</span></span>
<span class="line"><span style="color:#4D9375;">export</span><span style="color:#DBD7CAEE;"> </span><span style="color:#CB7676;">class</span><span style="color:#DBD7CAEE;"> </span><span style="color:#5DA994;">HighlightDirective</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#666666;">@</span><span style="color:#80A665;">Input</span><span style="color:#666666;">()</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">highlightColor</span><span style="color:#666666;">: </span><span style="color:#5DA994;">string</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#666666;"> </span><span style="color:#758575DD;">// @Input(&#39;appHighlight&#39;) highlightColor: string;起别名</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#666666;">@</span><span style="color:#80A665;">Output</span><span style="color:#666666;">()</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">colorChange</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#CB7676;">new</span><span style="color:#DBD7CAEE;"> </span><span style="color:#80A665;">EventEmitter</span><span style="color:#666666;">&lt;</span><span style="color:#5DA994;">string</span><span style="color:#666666;">&gt;();</span></span>
<span class="line"><span style="color:#666666;">    </span><span style="color:#758575DD;">//1.获取dom</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#CB7676;">constructor</span><span style="color:#666666;">(</span><span style="color:#CB7676;">private</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">el</span><span style="color:#666666;">: </span><span style="color:#5DA994;">ElementRef</span><span style="color:#666666;">)</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#BD976A;">console</span><span style="color:#666666;">.</span><span style="color:#80A665;">log</span><span style="color:#666666;">(</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#C98A7D;">appHighlight</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#666666;">);</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#666666;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#666666;">@</span><span style="color:#80A665;">HostListener</span><span style="color:#666666;">(</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#C98A7D;">mouseenter</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#666666;">)</span><span style="color:#DBD7CAEE;"> </span><span style="color:#80A665;">onMouseEnter</span><span style="color:#666666;">()</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#80A665;">highlight</span><span style="color:#666666;">(</span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">highlightColor</span><span style="color:#DBD7CAEE;"> </span><span style="color:#CB7676;">||</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D99;">&#39;</span><span style="color:#C98A7D;">yellow</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#666666;">);</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#666666;">}</span></span>
<span class="line"><span style="color:#666666;">  </span><span style="color:#758575DD;">//内部事件监听</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#666666;">@</span><span style="color:#80A665;">HostListener</span><span style="color:#666666;">(</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#C98A7D;">mouseleave</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#666666;">,[</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#C98A7D;">$event</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#666666;">])</span><span style="color:#DBD7CAEE;"> </span><span style="color:#80A665;">onMouseLeave</span><span style="color:#666666;">()</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#80A665;">highlight</span><span style="color:#666666;">(</span><span style="color:#C98A7D99;">&#39;&#39;</span><span style="color:#666666;">);</span></span>
<span class="line"><span style="color:#DBD7CAEE;">      </span><span style="color:#BD976A;">console</span><span style="color:#666666;">.</span><span style="color:#80A665;">log</span><span style="color:#666666;">(</span><span style="color:#BD976A;">event</span><span style="color:#666666;">)</span><span style="color:#DBD7CAEE;">  </span><span style="color:#758575DD;">//传递事件对象</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#666666;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#CB7676;">private</span><span style="color:#DBD7CAEE;"> </span><span style="color:#80A665;">highlight</span><span style="color:#666666;">(</span><span style="color:#BD976A;">color</span><span style="color:#666666;">: </span><span style="color:#5DA994;">string</span><span style="color:#666666;">)</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#666666;">      </span><span style="color:#758575DD;">//2.操作dom (操作dom备用选择)</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">el</span><span style="color:#666666;">.</span><span style="color:#BD976A;">nativeElement</span><span style="color:#666666;">.</span><span style="color:#BD976A;">style</span><span style="color:#666666;">.</span><span style="color:#BD976A;">backgroundColor</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">color</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">colorChange</span><span style="color:#666666;">.</span><span style="color:#80A665;">emit</span><span style="color:#666666;">(</span><span style="color:#BD976A;">color</span><span style="color:#666666;">);</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#666666;">}</span></span>
<span class="line"><span style="color:#666666;">}</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#1E754F;">import</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span><span style="color:#B07D48;">Directive</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">ElementRef</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">EventEmitter</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">HostListener</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">Input</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">Output</span><span style="color:#999999;">}</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">from</span><span style="color:#393A34;"> </span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">@angular/core</span><span style="color:#B5695999;">&#39;</span><span style="color:#999999;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#999999;">@</span><span style="color:#59873A;">Directive</span><span style="color:#999999;">({</span></span>
<span class="line"><span style="color:#999999;">  </span><span style="color:#998418;">selector</span><span style="color:#999999;">: </span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">[appHighlight]</span><span style="color:#B5695999;">&#39;</span></span>
<span class="line"><span style="color:#999999;">})</span></span>
<span class="line"><span style="color:#1E754F;">export</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">class</span><span style="color:#393A34;"> </span><span style="color:#2E8F82;">HighlightDirective</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#999999;">@</span><span style="color:#59873A;">Input</span><span style="color:#999999;">()</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">highlightColor</span><span style="color:#999999;">: </span><span style="color:#2E8F82;">string</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#999999;"> </span><span style="color:#A0ADA0;">// @Input(&#39;appHighlight&#39;) highlightColor: string;起别名</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#999999;">@</span><span style="color:#59873A;">Output</span><span style="color:#999999;">()</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">colorChange</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">new</span><span style="color:#393A34;"> </span><span style="color:#59873A;">EventEmitter</span><span style="color:#999999;">&lt;</span><span style="color:#2E8F82;">string</span><span style="color:#999999;">&gt;();</span></span>
<span class="line"><span style="color:#999999;">    </span><span style="color:#A0ADA0;">//1.获取dom</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#AB5959;">constructor</span><span style="color:#999999;">(</span><span style="color:#AB5959;">private</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">el</span><span style="color:#999999;">: </span><span style="color:#2E8F82;">ElementRef</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B07D48;">console</span><span style="color:#999999;">.</span><span style="color:#59873A;">log</span><span style="color:#999999;">(</span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">appHighlight</span><span style="color:#B5695999;">&#39;</span><span style="color:#999999;">);</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#999999;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#999999;">@</span><span style="color:#59873A;">HostListener</span><span style="color:#999999;">(</span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">mouseenter</span><span style="color:#B5695999;">&#39;</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#59873A;">onMouseEnter</span><span style="color:#999999;">()</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#59873A;">highlight</span><span style="color:#999999;">(</span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">highlightColor</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">||</span><span style="color:#393A34;"> </span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">yellow</span><span style="color:#B5695999;">&#39;</span><span style="color:#999999;">);</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#999999;">  </span><span style="color:#A0ADA0;">//内部事件监听</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#999999;">@</span><span style="color:#59873A;">HostListener</span><span style="color:#999999;">(</span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">mouseleave</span><span style="color:#B5695999;">&#39;</span><span style="color:#999999;">,[</span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">$event</span><span style="color:#B5695999;">&#39;</span><span style="color:#999999;">])</span><span style="color:#393A34;"> </span><span style="color:#59873A;">onMouseLeave</span><span style="color:#999999;">()</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#59873A;">highlight</span><span style="color:#999999;">(</span><span style="color:#B5695999;">&#39;&#39;</span><span style="color:#999999;">);</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#B07D48;">console</span><span style="color:#999999;">.</span><span style="color:#59873A;">log</span><span style="color:#999999;">(</span><span style="color:#B07D48;">event</span><span style="color:#999999;">)</span><span style="color:#393A34;">  </span><span style="color:#A0ADA0;">//传递事件对象</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#999999;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#AB5959;">private</span><span style="color:#393A34;"> </span><span style="color:#59873A;">highlight</span><span style="color:#999999;">(</span><span style="color:#B07D48;">color</span><span style="color:#999999;">: </span><span style="color:#2E8F82;">string</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#999999;">      </span><span style="color:#A0ADA0;">//2.操作dom (操作dom备用选择)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">el</span><span style="color:#999999;">.</span><span style="color:#B07D48;">nativeElement</span><span style="color:#999999;">.</span><span style="color:#B07D48;">style</span><span style="color:#999999;">.</span><span style="color:#B07D48;">backgroundColor</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">color</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">colorChange</span><span style="color:#999999;">.</span><span style="color:#59873A;">emit</span><span style="color:#999999;">(</span><span style="color:#B07D48;">color</span><span style="color:#999999;">);</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#999999;">}</span></span></code></pre></div><div class="tip custom-block"><p class="custom-block-title"><b>相对于原生事件监听 addEventListener()  的优点 ：</b></p><ol><li><p>会自动销毁，不会导致内存泄漏</p></li><li><p>不用必须确保每个DOM API都能用</p></li></ol></div><h3 id="自定义unless指令-结构型" tabindex="-1">自定义unless指令（结构型） <a class="header-anchor" href="#自定义unless指令-结构型" aria-label="Permalink to &quot;自定义unless指令（结构型）&quot;">​</a></h3><details class="details custom-block"><summary>定义</summary><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#4D9375;">import</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span><span style="color:#BD976A;">Directive</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">Input</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">OnChanges</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">SimpleChanges</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">TemplateRef</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">ViewContainerRef</span><span style="color:#666666;">}</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">from</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D99;">&#39;</span><span style="color:#C98A7D;">@angular/core</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#4D9375;">export</span><span style="color:#DBD7CAEE;"> </span><span style="color:#CB7676;">class</span><span style="color:#DBD7CAEE;"> </span><span style="color:#5DA994;">UnlessContext</span><span style="color:#666666;">&lt;</span><span style="color:#5DA994;">T</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#5DA994;">unknown</span><span style="color:#666666;">&gt;</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#BD976A;">$implicit</span><span style="color:#666666;">: </span><span style="color:#5DA994;">T</span><span style="color:#666666;"> =</span><span style="color:#DBD7CAEE;"> </span><span style="color:#CB7676;">null</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#BD976A;">appUnless</span><span style="color:#666666;">: </span><span style="color:#5DA994;">T</span><span style="color:#666666;"> =</span><span style="color:#DBD7CAEE;"> </span><span style="color:#CB7676;">null</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#BD976A;">attr</span><span style="color:#666666;">: </span><span style="color:#5DA994;">T</span><span style="color:#666666;"> =</span><span style="color:#DBD7CAEE;"> </span><span style="color:#CB7676;">null</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#666666;">}</span></span>
<span class="line"><span style="color:#666666;">@</span><span style="color:#80A665;">Directive</span><span style="color:#666666;">({</span></span>
<span class="line"><span style="color:#666666;">  </span><span style="color:#B8A965;">selector</span><span style="color:#666666;">: </span><span style="color:#C98A7D99;">&#39;</span><span style="color:#C98A7D;">[appUnless]</span><span style="color:#C98A7D99;">&#39;</span></span>
<span class="line"><span style="color:#666666;">})</span></span>
<span class="line"><span style="color:#4D9375;">export</span><span style="color:#DBD7CAEE;"> </span><span style="color:#CB7676;">class</span><span style="color:#DBD7CAEE;"> </span><span style="color:#5DA994;">UnlessDirective</span><span style="color:#DBD7CAEE;"> </span><span style="color:#CB7676;">implements</span><span style="color:#DBD7CAEE;"> </span><span style="color:#80A665;">OnChanges</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#666666;">@</span><span style="color:#80A665;">Input</span><span style="color:#666666;">(</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#C98A7D;">appUnless</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#666666;">)</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">unless</span><span style="color:#666666;">: </span><span style="color:#5DA994;">boolean</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#CB7676;">private</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">hasView</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">false</span><span style="color:#666666;">;</span><span style="color:#758575DD;">//是否已显示</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#CB7676;">private</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">context</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#CB7676;">new</span><span style="color:#DBD7CAEE;"> </span><span style="color:#80A665;">UnlessContext</span><span style="color:#666666;">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#CB7676;">constructor</span><span style="color:#666666;">(</span><span style="color:#CB7676;">private</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">templateRef</span><span style="color:#666666;">: </span><span style="color:#5DA994;">TemplateRef</span><span style="color:#666666;">&lt;</span><span style="color:#5DA994;">any</span><span style="color:#666666;">&gt;,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#CB7676;">private</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">viewContainer</span><span style="color:#666666;">: </span><span style="color:#5DA994;">ViewContainerRef</span><span style="color:#666666;">)</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#666666;">    </span><span style="color:#758575DD;">// console.log(this.templateRef);</span></span>
<span class="line"><span style="color:#666666;">    </span><span style="color:#758575DD;">// console.log(this.viewContainer);</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#666666;">}</span></span>
<span class="line"><span style="color:#666666;">  </span><span style="color:#758575DD;">//监听输入属性变化</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#80A665;">ngOnChanges</span><span style="color:#666666;">(</span><span style="color:#BD976A;">changes</span><span style="color:#666666;">: </span><span style="color:#5DA994;">SimpleChanges</span><span style="color:#666666;">):</span><span style="color:#DBD7CAEE;"> </span><span style="color:#5DA994;">void</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">(</span><span style="color:#BD976A;">changes</span><span style="color:#666666;">[</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#C98A7D;">unless</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#666666;">])</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">context</span><span style="color:#666666;">.</span><span style="color:#BD976A;">$implicit</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">context</span><span style="color:#666666;">.</span><span style="color:#BD976A;">appUnless</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">unless</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">context</span><span style="color:#666666;">.</span><span style="color:#BD976A;">attr</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D99;">&#39;</span><span style="color:#C98A7D;">aaab</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">      </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">(</span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">unless</span><span style="color:#666666;">)</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">(</span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">hasView</span><span style="color:#666666;">)</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">          </span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">viewContainer</span><span style="color:#666666;">.</span><span style="color:#80A665;">clear</span><span style="color:#666666;">();</span></span>
<span class="line"><span style="color:#DBD7CAEE;">          </span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">hasView</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">false</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#666666;">}</span></span>
<span class="line"><span style="color:#DBD7CAEE;">      </span><span style="color:#666666;">}</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">else</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">(</span><span style="color:#CB7676;">!</span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">hasView</span><span style="color:#666666;">)</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#666666;">          </span><span style="color:#758575DD;">// 这里使用的构造提供的模版（this.templateRef）</span></span>
<span class="line"><span style="color:#666666;">          </span><span style="color:#758575DD;">// 实战中可以通过一个input属性传入模版</span></span>
<span class="line"><span style="color:#DBD7CAEE;">          </span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">viewContainer</span><span style="color:#666666;">.</span><span style="color:#80A665;">createEmbeddedView</span><span style="color:#666666;">(</span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">templateRef</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">context</span><span style="color:#666666;">);</span></span>
<span class="line"><span style="color:#DBD7CAEE;">          </span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">hasView</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">true</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#666666;">}</span></span>
<span class="line"><span style="color:#DBD7CAEE;">      </span><span style="color:#666666;">}</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#666666;">}</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#666666;">}</span></span>
<span class="line"><span style="color:#666666;">}</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#1E754F;">import</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span><span style="color:#B07D48;">Directive</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">Input</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">OnChanges</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">SimpleChanges</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">TemplateRef</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">ViewContainerRef</span><span style="color:#999999;">}</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">from</span><span style="color:#393A34;"> </span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">@angular/core</span><span style="color:#B5695999;">&#39;</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#1E754F;">export</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">class</span><span style="color:#393A34;"> </span><span style="color:#2E8F82;">UnlessContext</span><span style="color:#999999;">&lt;</span><span style="color:#2E8F82;">T</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#2E8F82;">unknown</span><span style="color:#999999;">&gt;</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#B07D48;">$implicit</span><span style="color:#999999;">: </span><span style="color:#2E8F82;">T</span><span style="color:#999999;"> =</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">null</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#B07D48;">appUnless</span><span style="color:#999999;">: </span><span style="color:#2E8F82;">T</span><span style="color:#999999;"> =</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">null</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#B07D48;">attr</span><span style="color:#999999;">: </span><span style="color:#2E8F82;">T</span><span style="color:#999999;"> =</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">null</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#999999;">@</span><span style="color:#59873A;">Directive</span><span style="color:#999999;">({</span></span>
<span class="line"><span style="color:#999999;">  </span><span style="color:#998418;">selector</span><span style="color:#999999;">: </span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">[appUnless]</span><span style="color:#B5695999;">&#39;</span></span>
<span class="line"><span style="color:#999999;">})</span></span>
<span class="line"><span style="color:#1E754F;">export</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">class</span><span style="color:#393A34;"> </span><span style="color:#2E8F82;">UnlessDirective</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">implements</span><span style="color:#393A34;"> </span><span style="color:#59873A;">OnChanges</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#999999;">@</span><span style="color:#59873A;">Input</span><span style="color:#999999;">(</span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">appUnless</span><span style="color:#B5695999;">&#39;</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">unless</span><span style="color:#999999;">: </span><span style="color:#2E8F82;">boolean</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#AB5959;">private</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">hasView</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">false</span><span style="color:#999999;">;</span><span style="color:#A0ADA0;">//是否已显示</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#AB5959;">private</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">context</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">new</span><span style="color:#393A34;"> </span><span style="color:#59873A;">UnlessContext</span><span style="color:#999999;">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#AB5959;">constructor</span><span style="color:#999999;">(</span><span style="color:#AB5959;">private</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">templateRef</span><span style="color:#999999;">: </span><span style="color:#2E8F82;">TemplateRef</span><span style="color:#999999;">&lt;</span><span style="color:#2E8F82;">any</span><span style="color:#999999;">&gt;,</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">private</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">viewContainer</span><span style="color:#999999;">: </span><span style="color:#2E8F82;">ViewContainerRef</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#999999;">    </span><span style="color:#A0ADA0;">// console.log(this.templateRef);</span></span>
<span class="line"><span style="color:#999999;">    </span><span style="color:#A0ADA0;">// console.log(this.viewContainer);</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#999999;">  </span><span style="color:#A0ADA0;">//监听输入属性变化</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#59873A;">ngOnChanges</span><span style="color:#999999;">(</span><span style="color:#B07D48;">changes</span><span style="color:#999999;">: </span><span style="color:#2E8F82;">SimpleChanges</span><span style="color:#999999;">):</span><span style="color:#393A34;"> </span><span style="color:#2E8F82;">void</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1E754F;">if</span><span style="color:#393A34;"> </span><span style="color:#999999;">(</span><span style="color:#B07D48;">changes</span><span style="color:#999999;">[</span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">unless</span><span style="color:#B5695999;">&#39;</span><span style="color:#999999;">])</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">context</span><span style="color:#999999;">.</span><span style="color:#B07D48;">$implicit</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">context</span><span style="color:#999999;">.</span><span style="color:#B07D48;">appUnless</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">unless</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">context</span><span style="color:#999999;">.</span><span style="color:#B07D48;">attr</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">aaab</span><span style="color:#B5695999;">&#39;</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#1E754F;">if</span><span style="color:#393A34;"> </span><span style="color:#999999;">(</span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">unless</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#1E754F;">if</span><span style="color:#393A34;"> </span><span style="color:#999999;">(</span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">hasView</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">viewContainer</span><span style="color:#999999;">.</span><span style="color:#59873A;">clear</span><span style="color:#999999;">();</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">hasView</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">false</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#999999;">}</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">else</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#1E754F;">if</span><span style="color:#393A34;"> </span><span style="color:#999999;">(</span><span style="color:#AB5959;">!</span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">hasView</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#999999;">          </span><span style="color:#A0ADA0;">// 这里使用的构造提供的模版（this.templateRef）</span></span>
<span class="line"><span style="color:#999999;">          </span><span style="color:#A0ADA0;">// 实战中可以通过一个input属性传入模版</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">viewContainer</span><span style="color:#999999;">.</span><span style="color:#59873A;">createEmbeddedView</span><span style="color:#999999;">(</span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">templateRef</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">context</span><span style="color:#999999;">);</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">hasView</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">true</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#999999;">}</span></span></code></pre></div></details><details class="details custom-block"><summary>调用</summary><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#4D9375;">import</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">Component</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">}</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">from</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D99;">&#39;</span><span style="color:#C98A7D;">@angular/core</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#666666;">@</span><span style="color:#80A665;">Component</span><span style="color:#666666;">({</span></span>
<span class="line"><span style="color:#666666;">  </span><span style="color:#B8A965;">selector</span><span style="color:#666666;">: </span><span style="color:#C98A7D99;">&#39;</span><span style="color:#C98A7D;">app-root</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#666666;">  </span><span style="color:#B8A965;">template</span><span style="color:#666666;">: </span><span style="color:#C98A7D99;">\`</span></span>
<span class="line"><span style="color:#C98A7D;">     &lt;section&gt;</span></span>
<span class="line"><span style="color:#C98A7D;">       &lt;h3&gt;unless&lt;/h3&gt;</span></span>
<span class="line"><span style="color:#C98A7D;">       &lt;button  (click)=&quot;showUnless = !showUnless&quot;&gt;toggle unless {{ showUnless }}&lt;/button&gt;</span></span>
<span class="line"><span style="color:#C98A7D;">       &lt;p *appUnless=&quot;showUnless&quot;&gt;测试unless driective -- {{ showUnless }}&lt;/p&gt;</span></span>
<span class="line"><span style="color:#C98A7D;">       &lt;p *appUnless=&quot;showUnless as un&quot;&gt;测试unless driective alias un -- {{ un }}&lt;/p&gt;</span></span>
<span class="line"><span style="color:#C98A7D;">       &lt;p *appUnless=&quot;showUnless; let un; let attr=attr;&quot;&gt;别名：  {{ un }} attr: {{ attr }}&lt;/p&gt;</span></span>
<span class="line"><span style="color:#C98A7D;">     &lt;/section&gt;</span></span>
<span class="line"><span style="color:#C98A7D;">  </span><span style="color:#C98A7D99;">\`</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#666666;">})</span></span>
<span class="line"><span style="color:#4D9375;">export</span><span style="color:#DBD7CAEE;"> </span><span style="color:#CB7676;">class</span><span style="color:#DBD7CAEE;"> </span><span style="color:#5DA994;">AppComponent</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#BD976A;">show</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">false</span><span style="color:#666666;">;</span><span style="color:#DBD7CAEE;">  </span><span style="color:#758575DD;">//false: 显示   true: 隐藏</span></span>
<span class="line"><span style="color:#666666;">}</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#1E754F;">import</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">Component</span><span style="color:#393A34;"> </span><span style="color:#999999;">}</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">from</span><span style="color:#393A34;"> </span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">@angular/core</span><span style="color:#B5695999;">&#39;</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#999999;">@</span><span style="color:#59873A;">Component</span><span style="color:#999999;">({</span></span>
<span class="line"><span style="color:#999999;">  </span><span style="color:#998418;">selector</span><span style="color:#999999;">: </span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">app-root</span><span style="color:#B5695999;">&#39;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#999999;">  </span><span style="color:#998418;">template</span><span style="color:#999999;">: </span><span style="color:#B5695999;">\`</span></span>
<span class="line"><span style="color:#B56959;">     &lt;section&gt;</span></span>
<span class="line"><span style="color:#B56959;">       &lt;h3&gt;unless&lt;/h3&gt;</span></span>
<span class="line"><span style="color:#B56959;">       &lt;button  (click)=&quot;showUnless = !showUnless&quot;&gt;toggle unless {{ showUnless }}&lt;/button&gt;</span></span>
<span class="line"><span style="color:#B56959;">       &lt;p *appUnless=&quot;showUnless&quot;&gt;测试unless driective -- {{ showUnless }}&lt;/p&gt;</span></span>
<span class="line"><span style="color:#B56959;">       &lt;p *appUnless=&quot;showUnless as un&quot;&gt;测试unless driective alias un -- {{ un }}&lt;/p&gt;</span></span>
<span class="line"><span style="color:#B56959;">       &lt;p *appUnless=&quot;showUnless; let un; let attr=attr;&quot;&gt;别名：  {{ un }} attr: {{ attr }}&lt;/p&gt;</span></span>
<span class="line"><span style="color:#B56959;">     &lt;/section&gt;</span></span>
<span class="line"><span style="color:#B56959;">  </span><span style="color:#B5695999;">\`</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#999999;">})</span></span>
<span class="line"><span style="color:#1E754F;">export</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">class</span><span style="color:#393A34;"> </span><span style="color:#2E8F82;">AppComponent</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#B07D48;">show</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">false</span><span style="color:#999999;">;</span><span style="color:#393A34;">  </span><span style="color:#A0ADA0;">//false: 显示   true: 隐藏</span></span>
<span class="line"><span style="color:#999999;">}</span></span></code></pre></div></details><h2 id="模板元素" tabindex="-1">模板元素 <a class="header-anchor" href="#模板元素" aria-label="Permalink to &quot;模板元素&quot;">​</a></h2><h3 id="ng-template" tabindex="-1"><code>ng-template</code> <a class="header-anchor" href="#ng-template" aria-label="Permalink to &quot;\`ng-template\`&quot;">​</a></h3><div class="language-html vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">ng-template</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#666666;">&gt;</span><span style="color:#DBD7CAEE;">是一个 Angular 元素，用来渲染 HTML。 它永远不会直接显示出来。</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  事实上，在渲染视图之前，Angular 会把</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">ng-template</span><span style="color:#666666;">&gt;</span><span style="color:#DBD7CAEE;"> 及其内容替换为一个注释。 </span><span style="color:#666666;">&lt;/</span><span style="color:#4D9375;">ng-template</span><span style="color:#666666;">&gt;&lt;/</span><span style="color:#4D9375;">ng-template</span></span>
<span class="line"><span style="color:#666666;">&gt;</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">ng-template</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#999999;">&gt;</span><span style="color:#393A34;">是一个 Angular 元素，用来渲染 HTML。 它永远不会直接显示出来。</span></span>
<span class="line"><span style="color:#393A34;">  事实上，在渲染视图之前，Angular 会把</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">ng-template</span><span style="color:#999999;">&gt;</span><span style="color:#393A34;"> 及其内容替换为一个注释。 </span><span style="color:#999999;">&lt;/</span><span style="color:#1E754F;">ng-template</span><span style="color:#999999;">&gt;&lt;/</span><span style="color:#1E754F;">ng-template</span></span>
<span class="line"><span style="color:#999999;">&gt;</span></span></code></pre></div><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>没有使用结构型指令，ng-template中的元素是不可见的</p></div><h3 id="ng-container" tabindex="-1"><code>ng-container</code> <a class="header-anchor" href="#ng-container" aria-label="Permalink to &quot;\`ng-container\`&quot;">​</a></h3><div class="language-html vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#DBD7CAEE;">Angular 的</span></span>
<span class="line"><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">ng-container</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  是一个分组元素，但它不会污染样式或元素布局，因为 Angular 压根不会把它放进 DOM</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  中。</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">ng-container</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    是一个由 Angular 解析器负责识别处理的语法元素。</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    它不是一个指令、组件、类或接口，更像是 JavaScript 中 if 块中的花括号。</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#666666;">&lt;/</span><span style="color:#4D9375;">ng-container</span><span style="color:#666666;">&gt;&lt;/</span><span style="color:#4D9375;">ng-container</span></span>
<span class="line"><span style="color:#666666;">&gt;</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#393A34;">Angular 的</span></span>
<span class="line"><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">ng-container</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">  是一个分组元素，但它不会污染样式或元素布局，因为 Angular 压根不会把它放进 DOM</span></span>
<span class="line"><span style="color:#393A34;">  中。</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">ng-container</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">    是一个由 Angular 解析器负责识别处理的语法元素。</span></span>
<span class="line"><span style="color:#393A34;">    它不是一个指令、组件、类或接口，更像是 JavaScript 中 if 块中的花括号。</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#999999;">&lt;/</span><span style="color:#1E754F;">ng-container</span><span style="color:#999999;">&gt;&lt;/</span><span style="color:#1E754F;">ng-container</span></span>
<span class="line"><span style="color:#999999;">&gt;</span></span></code></pre></div><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#4D9375;">if</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">(</span><span style="color:#BD976A;">someCondition</span><span style="color:#666666;">)</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#BD976A;">statement1</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#BD976A;">statement2</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#BD976A;">statement3</span></span>
<span class="line"><span style="color:#666666;">}</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#1E754F;">if</span><span style="color:#393A34;"> </span><span style="color:#999999;">(</span><span style="color:#B07D48;">someCondition</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#B07D48;">statement1</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#B07D48;">statement2</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#B07D48;">statement3</span></span>
<span class="line"><span style="color:#999999;">}</span></span></code></pre></div><h3 id="模板引用变量" tabindex="-1">模板引用变量 <a class="header-anchor" href="#模板引用变量" aria-label="Permalink to &quot;模板引用变量&quot;">​</a></h3><blockquote><p>使用井号（##）声明模板引用变量，可以获取DOM 元素、指令、组件、TemplateRef 或 Web Component。</p></blockquote><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#4D9375;">import</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span><span style="color:#BD976A;">Component</span><span style="color:#666666;">}</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">from</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D99;">&#39;</span><span style="color:#C98A7D;">@angular/core</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#666666;">@</span><span style="color:#80A665;">Component</span><span style="color:#666666;">({</span></span>
<span class="line"><span style="color:#666666;">  </span><span style="color:#B8A965;">selector</span><span style="color:#666666;">: </span><span style="color:#C98A7D99;">&#39;</span><span style="color:#C98A7D;">app-tpl-var</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#666666;">  </span><span style="color:#B8A965;">template</span><span style="color:#666666;">: </span><span style="color:#C98A7D99;">\`</span></span>
<span class="line"><span style="color:#C98A7D;">    &lt;input ##phone placeholder=&quot;phone number&quot; /&gt;</span></span>
<span class="line"><span style="color:#C98A7D;">   &lt;input ref-phone placeholder=&quot;phone number&quot; /&gt;</span></span>
<span class="line"><span style="color:#C98A7D;">    &lt;button (click)=&quot;callPhone(phone.value)&quot;&gt;Call&lt;/button&gt;</span></span>
<span class="line"><span style="color:#C98A7D;">  </span><span style="color:#C98A7D99;">\`</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#666666;">})</span><span style="color:#DBD7CAEE;">  </span><span style="color:#758575DD;">//两种写法</span></span>
<span class="line"><span style="color:#4D9375;">export</span><span style="color:#DBD7CAEE;"> </span><span style="color:#CB7676;">class</span><span style="color:#DBD7CAEE;"> </span><span style="color:#5DA994;">TplVarComponent</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#CB7676;">constructor</span><span style="color:#666666;">()</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">}</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#80A665;">callPhone</span><span style="color:#666666;">(</span><span style="color:#BD976A;">value</span><span style="color:#666666;">: </span><span style="color:#5DA994;">string</span><span style="color:#666666;">)</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#BD976A;">console</span><span style="color:#666666;">.</span><span style="color:#80A665;">log</span><span style="color:#666666;">(</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#C98A7D;">callPhone</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">value</span><span style="color:#666666;">);</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#666666;">}</span></span>
<span class="line"><span style="color:#666666;">}</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#1E754F;">import</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span><span style="color:#B07D48;">Component</span><span style="color:#999999;">}</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">from</span><span style="color:#393A34;"> </span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">@angular/core</span><span style="color:#B5695999;">&#39;</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#999999;">@</span><span style="color:#59873A;">Component</span><span style="color:#999999;">({</span></span>
<span class="line"><span style="color:#999999;">  </span><span style="color:#998418;">selector</span><span style="color:#999999;">: </span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">app-tpl-var</span><span style="color:#B5695999;">&#39;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#999999;">  </span><span style="color:#998418;">template</span><span style="color:#999999;">: </span><span style="color:#B5695999;">\`</span></span>
<span class="line"><span style="color:#B56959;">    &lt;input ##phone placeholder=&quot;phone number&quot; /&gt;</span></span>
<span class="line"><span style="color:#B56959;">   &lt;input ref-phone placeholder=&quot;phone number&quot; /&gt;</span></span>
<span class="line"><span style="color:#B56959;">    &lt;button (click)=&quot;callPhone(phone.value)&quot;&gt;Call&lt;/button&gt;</span></span>
<span class="line"><span style="color:#B56959;">  </span><span style="color:#B5695999;">\`</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#999999;">})</span><span style="color:#393A34;">  </span><span style="color:#A0ADA0;">//两种写法</span></span>
<span class="line"><span style="color:#1E754F;">export</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">class</span><span style="color:#393A34;"> </span><span style="color:#2E8F82;">TplVarComponent</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#AB5959;">constructor</span><span style="color:#999999;">()</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span><span style="color:#393A34;"> </span><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#59873A;">callPhone</span><span style="color:#999999;">(</span><span style="color:#B07D48;">value</span><span style="color:#999999;">: </span><span style="color:#2E8F82;">string</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B07D48;">console</span><span style="color:#999999;">.</span><span style="color:#59873A;">log</span><span style="color:#999999;">(</span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">callPhone</span><span style="color:#B5695999;">&#39;</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">value</span><span style="color:#999999;">);</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#999999;">}</span></span></code></pre></div><blockquote><p>在外部获取组件引用，绑定组件内方法</p></blockquote><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#4D9375;">import</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span><span style="color:#BD976A;">Component</span><span style="color:#666666;">}</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">from</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D99;">&#39;</span><span style="color:#C98A7D;">@angular/core</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#666666;">@</span><span style="color:#80A665;">Component</span><span style="color:#666666;">({</span></span>
<span class="line"><span style="color:#666666;">  </span><span style="color:#B8A965;">selector</span><span style="color:#666666;">: </span><span style="color:#C98A7D99;">&#39;</span><span style="color:#C98A7D;">app-root</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#666666;">  </span><span style="color:#B8A965;">template</span><span style="color:#666666;">: </span><span style="color:#C98A7D99;">\`</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C98A7D;">      &lt;button (click)=&quot;sizer.inc()&quot;&gt;app inc&lt;/button&gt;</span></span>
<span class="line"><span style="color:#C98A7D;">      &lt;app-sbind [(size)]=&quot;size&quot; ##sizer&gt;&lt;/app-sbind&gt;</span></span>
<span class="line"><span style="color:#C98A7D;">      size: {{ size }}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C98A7D;">  </span><span style="color:#C98A7D99;">\`</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#666666;">})</span></span>
<span class="line"><span style="color:#4D9375;">export</span><span style="color:#DBD7CAEE;"> </span><span style="color:#CB7676;">class</span><span style="color:#DBD7CAEE;"> </span><span style="color:#5DA994;">AppComponent</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#BD976A;">size</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">16</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#CB7676;">constructor</span><span style="color:#666666;">()</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">}</span></span>
<span class="line"><span style="color:#666666;">}</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#1E754F;">import</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span><span style="color:#B07D48;">Component</span><span style="color:#999999;">}</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">from</span><span style="color:#393A34;"> </span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">@angular/core</span><span style="color:#B5695999;">&#39;</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#999999;">@</span><span style="color:#59873A;">Component</span><span style="color:#999999;">({</span></span>
<span class="line"><span style="color:#999999;">  </span><span style="color:#998418;">selector</span><span style="color:#999999;">: </span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">app-root</span><span style="color:#B5695999;">&#39;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#999999;">  </span><span style="color:#998418;">template</span><span style="color:#999999;">: </span><span style="color:#B5695999;">\`</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B56959;">      &lt;button (click)=&quot;sizer.inc()&quot;&gt;app inc&lt;/button&gt;</span></span>
<span class="line"><span style="color:#B56959;">      &lt;app-sbind [(size)]=&quot;size&quot; ##sizer&gt;&lt;/app-sbind&gt;</span></span>
<span class="line"><span style="color:#B56959;">      size: {{ size }}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B56959;">  </span><span style="color:#B5695999;">\`</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#999999;">})</span></span>
<span class="line"><span style="color:#1E754F;">export</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">class</span><span style="color:#393A34;"> </span><span style="color:#2E8F82;">AppComponent</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#B07D48;">size</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">16</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#AB5959;">constructor</span><span style="color:#999999;">()</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span><span style="color:#393A34;"> </span><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#999999;">}</span></span></code></pre></div><h2 id="操作符" tabindex="-1">操作符 <a class="header-anchor" href="#操作符" aria-label="Permalink to &quot;操作符&quot;">​</a></h2><h3 id="管道" tabindex="-1">管道 <code>|</code> <a class="header-anchor" href="#管道" aria-label="Permalink to &quot;管道 \`|\`&quot;">​</a></h3><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>模板变量可以通过一条或多条管道格式化数据，</p><p>默认的管道都是纯的，Angular 会忽略复合对象中的变化，即管道只会检查原始值或对象引用，</p><p>如果数组中的元素变化，增删改，引用没有变化，而不会执行管道的逻辑。</p></div><table><thead><tr><th style="text-align:center;">管道名称</th><th style="text-align:center;">作用</th></tr></thead><tbody><tr><td style="text-align:center;"><a href="https://angular.cn/api/common/DatePipe" target="_blank" rel="noreferrer">DatePipe</a></td><td style="text-align:center;">格式化日期</td></tr><tr><td style="text-align:center;"><a href="https://angular.cn/api/common/DecimalPipe" target="_blank" rel="noreferrer">DecimalPipe</a></td><td style="text-align:center;">数字转字符串，并可以指定格式</td></tr><tr><td style="text-align:center;"><a href="https://angular.cn/api/common/KeyValuePipe" target="_blank" rel="noreferrer">KeyValuePipe</a></td><td style="text-align:center;">使ngFor可以循环Object或Map对象</td></tr><tr><td style="text-align:center;"><a href="https://angular.cn/api/common/JsonPipe" target="_blank" rel="noreferrer">JsonPipe</a></td><td style="text-align:center;">将值转成json格式</td></tr><tr><td style="text-align:center;"><a href="https://angular.cn/api/common/TitleCasePipe" target="_blank" rel="noreferrer">TitleCasePipe</a></td><td style="text-align:center;">把首字母大写，其它小写</td></tr><tr><td style="text-align:center;"><a href="https://angular.cn/api/common/SlicePipe" target="_blank" rel="noreferrer">SlicePipe</a></td><td style="text-align:center;">截取Array或String</td></tr><tr><td style="text-align:center;"><a href="https://angular.cn/api/common/PercentPipe" target="_blank" rel="noreferrer">PercentPipe</a></td><td style="text-align:center;">数字转百分比</td></tr><tr><td style="text-align:center;"><a href="https://angular.cn/api/common/LowerCasePipe" target="_blank" rel="noreferrer">LowerCasePipe</a></td><td style="text-align:center;">转化为小写</td></tr><tr><td style="text-align:center;"><a href="https://angular.cn/api/common/UpperCasePipe" target="_blank" rel="noreferrer">UpperCasePipe</a></td><td style="text-align:center;">转化为大写</td></tr><tr><td style="text-align:center;"><a href="https://angular.cn/api/common/AsyncPipe" target="_blank" rel="noreferrer">AsyncPipe</a></td><td style="text-align:center;">自动订阅模板中的Observable或Promise</td></tr></tbody></table><h3 id="安全链" tabindex="-1">安全链<code>?</code> <a class="header-anchor" href="#安全链" aria-label="Permalink to &quot;安全链\`?\`&quot;">​</a></h3><blockquote><p>用于可能为空的引用需要使用时，对null、undefined进行保护，保证数据请求前能正常渲染模板</p></blockquote><div class="language-html vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">p</span><span style="color:#666666;">&gt;</span><span style="color:#DBD7CAEE;">{{person?.name}}</span><span style="color:#666666;">&lt;/</span><span style="color:#4D9375;">p</span><span style="color:#666666;">&gt;</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">p</span><span style="color:#999999;">&gt;</span><span style="color:#393A34;">{{person?.name}}</span><span style="color:#999999;">&lt;/</span><span style="color:#1E754F;">p</span><span style="color:#999999;">&gt;</span></span></code></pre></div><h3 id="非空断言" tabindex="-1">非空断言<code>!</code> <a class="header-anchor" href="#非空断言" aria-label="Permalink to &quot;非空断言\`!\`&quot;">​</a></h3><div class="danger custom-block"><p class="custom-block-title">DANGER</p><p>在ts中，开启--strictNullChecks后，将一个可能是undefined或null的变量赋给一个有确切类型的变量时，会报错。在特定情况下，我们断定变量一定不是undefined或null，就可以使用非空断言操作符。</p></div><blockquote><p><strong>使用非空断言的两个步骤：</strong></p><p>tsconfig.json中设置<code>&quot;strictNullChecks&quot;: true</code></p><p>tslint.json中设置<code> &quot;no-non-null-assertion&quot;: false</code></p></blockquote><h3 id="类型转换函数-any" tabindex="-1">类型转换函数<code>$any()</code> <a class="header-anchor" href="#类型转换函数-any" aria-label="Permalink to &quot;类型转换函数\`$any()\`&quot;">​</a></h3><blockquote><p>绑定的表达式不能或很难指定类型时使用</p></blockquote><p>假设无法确定item的类型，也就不能确定item是否有bestByDate，这时就会报错。</p><p>可以用$any()把item视为any类型，避免其报错（也可以用这个函数绑定组件中不存在的变量）</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#666666;">&lt;</span><span style="color:#5DA994;">p</span><span style="color:#666666;">&gt; {{</span><span style="color:#80A665;">$any</span><span style="color:#666666;">(</span><span style="color:#BD976A;">item</span><span style="color:#666666;">).</span><span style="color:#BD976A;">bestByDate</span><span style="color:#666666;">}}&lt;</span><span style="color:#CB7676;">/</span><span style="color:#BD976A;">p</span><span style="color:#666666;">&gt;</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#999999;">&lt;</span><span style="color:#2E8F82;">p</span><span style="color:#999999;">&gt; {{</span><span style="color:#59873A;">$any</span><span style="color:#999999;">(</span><span style="color:#B07D48;">item</span><span style="color:#999999;">).</span><span style="color:#B07D48;">bestByDate</span><span style="color:#999999;">}}&lt;</span><span style="color:#AB5959;">/</span><span style="color:#B07D48;">p</span><span style="color:#999999;">&gt;</span></span></code></pre></div>`,83),e=[o];function t(c,r,y,i,D,A){return n(),a("div",null,e)}const C=s(p,[["render",t]]);export{E as __pageData,C as default};
