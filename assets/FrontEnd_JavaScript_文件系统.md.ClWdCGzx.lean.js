import{D as T}from"./chunks/theme.BYtwAZAs.js";import{d as m,ac as _,r as o,b as A,e as B,f as n,ad as u,ae as x,u as e,af as f,F as U,_ as E,a as V,j as w,ag as L,h as c,w as D,t as q,g as F,z as j,A as O,ab as b}from"./chunks/framework.CeDYptgm.js";const I=m({__name:"demo1",async setup(r){let i,t;const s=new Blob(["1,2,3"]),p=new File(["1,2,3"],"test.txt",{type:"text/plain"}),d=([i,t]=_(()=>s.arrayBuffer()),i=await i,t(),i);[i,t]=_(()=>p.arrayBuffer()),i=await i,t();const l=new FileReader;l.readAsArrayBuffer(p),l.onload=a=>{var y;console.log("[ e ]-11",(y=a.target)==null?void 0:y.result)},new DataView(d).setUint8(0,4);const h=o(null),k=a=>{h.value=a.target.files};return(a,y)=>(A(),B("input",{type:"file",onChange:k},null,32))}}),N={class:"opt-wrap"},z=m({__name:"FilePicker",setup(r){const i=async k=>{const a={title:"Open File",accept:{"image/*":[".png",".jpg",".jpeg"]}},[y]=await window.showOpenFilePicker(a),S=await y.getFile(),C=new FileReader;C.readAsArrayBuffer(S),C.onload=P=>{var v;console.log("[ e ]-11",(v=P.target)==null?void 0:v.result)}},t={title:"Open File",types:[{description:"Text Files",accept:{"text/plain":[".txt"]}}]},s=o("Hello World"),p=o(null),d=async()=>{const a=await(await window.showSaveFilePicker()).createWritable();await a.write(s.value),await a.close()},l=async()=>{const[k]=await window.showOpenFilePicker(t);p.value=k;const a=await k.getFile();s.value=await a.text()},g=async()=>{if(p.value){const k=await p.value.createWritable();await k.write(s.value),await k.close()}},h=()=>{d()};return(k,a)=>(A(),B(U,null,[n("input",{type:"file",onClick:i}),n("div",N,[u(n("textarea",{name:"",id:"",cols:"30",rows:"10","onUpdate:modelValue":a[0]||(a[0]=y=>f(s)?s.value=y:null)},null,512),[[x,e(s)]]),n("div",{class:"opts"},[n("button",{onClick:d}," 创建"),n("button",{onClick:l}," 打开"),n("button",{onClick:g},"保存 "),n("button",{onClick:h}," 保存为")])])],64))}}),H=E(z,[["__scopeId","data-v-1f7bdb7e"]]),R=r=>(j("data-v-2f3c7841"),r=r(),O(),r),W={class:"opt-wrap"},J=R(()=>n("option",{value:"BLOB"},"BLOB URL",-1)),$=R(()=>n("option",{value:"DATA"},"DATA URL",-1)),M=[J,$],Y={key:0,class:"show-wrap"},G=["href"],K=["src"],Q=["src"],X=m({__name:"DemoUrl",setup(r){const i=o("BLOB"),t=o(""),s=o(""),p=async(d,l)=>{t.value=d;const g=await fetch(l);if(i.value==="BLOB"){const h=await g.blob();s.value=URL.createObjectURL(h)}else{const h=new FileReader;h.onload=k=>{var a;s.value=(a=k.target)==null?void 0:a.result},h.readAsDataURL(await g.blob())}};return(d,l)=>{const g=V("font");return A(),B("div",null,[n("div",W,[w(" URL 类型"),u(n("select",{id:"urltype","onUpdate:modelValue":l[0]||(l[0]=h=>f(i)?i.value=h:null)},M,512),[[L,e(i)]]),n("button",{onClick:l[1]||(l[1]=h=>p("image","./demo/url.png"))},"获取图片 URL"),n("button",{onClick:l[2]||(l[2]=h=>p("text","./demo/url.txt"))},"获取文本 URL")]),u(n("textarea",{"onUpdate:modelValue":l[3]||(l[3]=h=>f(s)?s.value=h:null)},null,512),[[x,e(s)]]),e(s)?(A(),B("div",Y,[n("a",{href:e(s),target:"_blank"}," 链接 ",8,G),c(g,{color:"urlType=='DATA' ? 'red' :'green'"},{default:D(()=>[w("DATA URL"+q(e(i)=="DATA"?"不":"")+"可直接点击链接打开, 可复制链接打开",1)]),_:1}),e(t)=="image"?(A(),B("img",{key:0,src:e(s),alt:"图片"},null,8,K)):F("",!0),n("iframe",{src:e(s)},null,8,Q)])):F("",!0)])}}}),Z=E(X,[["__scopeId","data-v-2f3c7841"]]),ss=b("",6),is=b("",11),as=b("",4),ns=b("",2),ts=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"FrontEnd/JavaScript/文件系统.md","filePath":"FrontEnd/JavaScript/文件系统.md"}'),ls={name:"FrontEnd/JavaScript/文件系统.md"},ps=Object.assign(ls,{setup(r){return(i,t)=>{const s=T;return A(),B("div",null,[ss,c(s,{pkg:"FrontEnd/JavaScript/demo",path:"demo1.vue"},{default:D(()=>[c(I)]),_:1}),is,c(s,{pkg:"FrontEnd/JavaScript/demo",path:"FilePicker.vue"},{default:D(()=>[c(H)]),_:1}),as,c(s,{pkg:"FrontEnd/JavaScript/demo",path:"DemoUrl.vue"},{default:D(()=>[c(Z)]),_:1}),ns])}}});export{ts as __pageData,ps as default};
