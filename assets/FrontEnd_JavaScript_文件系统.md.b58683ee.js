import{D as x}from"./chunks/DemoWrap.0b6253ff.js";import{d as g,a5 as w,h as D,o as C,c as d,k as n,a6 as u,a7 as F,F as U,_ as m,a as _,a8 as P,H as i,w as E,t as L,e as b,D as T,p as V,m as q,Q as f}from"./chunks/framework.45be91d5.js";const j=g({__name:"demo1",async setup(r){let l,t;const s=new Blob(["1,2,3"]),c=new File(["1,2,3"],"test.txt",{type:"text/plain"}),y=([l,t]=w(()=>s.arrayBuffer()),l=await l,t(),l);[l,t]=w(()=>c.arrayBuffer()),l=await l,t();const p=new FileReader;p.readAsArrayBuffer(c),p.onload=a=>{var B;console.log("[ e ]-11",(B=a.target)==null?void 0:B.result)},new DataView(y).setUint8(0,4);const o=D(null),e=a=>{o.value=a.target.files};return(a,B)=>(C(),d("input",{type:"file",onChange:e},null,32))}}),O={class:"opt-wrap"},H=g({__name:"FilePicker",setup(r){const l=async e=>{const a={title:"Open File",accept:{"image/*":[".png",".jpg",".jpeg"]}},[B]=await window.showOpenFilePicker(a),R=await B.getFile(),h=new FileReader;h.readAsArrayBuffer(R),h.onload=S=>{var v;console.log("[ e ]-11",(v=S.target)==null?void 0:v.result)}},t={title:"Open File",types:[{description:"Text Files",accept:{"text/plain":[".txt"]}}]},s=D("Hello World"),c=D(null),y=async()=>{const a=await(await window.showSaveFilePicker()).createWritable();await a.write(s.value),await a.close()},p=async()=>{const[e]=await window.showOpenFilePicker(t);c.value=e;const a=await e.getFile();s.value=await a.text()},A=async()=>{if(c.value){const e=await c.value.createWritable();await e.write(s.value),await e.close()}},o=()=>{y()};return(e,a)=>(C(),d(U,null,[n("input",{type:"file",onClick:l}),n("div",O,[u(n("textarea",{name:"",id:"",cols:"30",rows:"10","onUpdate:modelValue":a[0]||(a[0]=B=>s.value=B)},null,512),[[F,s.value]]),n("div",{class:"opts"},[n("button",{onClick:y}," 创建"),n("button",{onClick:p}," 打开"),n("button",{onClick:A},"保存 "),n("button",{onClick:o}," 保存为")])])],64))}});const I=m(H,[["__scopeId","data-v-b33eb3d1"]]),k=r=>(V("data-v-fcdef9a9"),r=r(),q(),r),N={class:"opt-wrap"},W=k(()=>n("option",{value:"BLOB"},"BLOB URL",-1)),z=k(()=>n("option",{value:"DATA"},"DATA URL",-1)),J=[W,z],$={key:0,class:"show-wrap"},M=["href"],Y=["src"],Q=["src"],G=g({__name:"DemoUrl",setup(r){const l=D("BLOB"),t=D(""),s=D(""),c=async(y,p)=>{t.value=y;const A=await fetch(p);if(l.value==="BLOB"){const o=await A.blob();s.value=URL.createObjectURL(o)}else{const o=new FileReader;o.onload=e=>{var a;s.value=(a=e.target)==null?void 0:a.result},o.readAsDataURL(await A.blob())}};return(y,p)=>{const A=T("font");return C(),d("div",null,[n("div",N,[_(" URL 类型"),u(n("select",{id:"urltype","onUpdate:modelValue":p[0]||(p[0]=o=>l.value=o)},J,512),[[P,l.value]]),n("button",{onClick:p[1]||(p[1]=o=>c("image","./demo/url.png"))},"获取图片 URL"),n("button",{onClick:p[2]||(p[2]=o=>c("text","./demo/url.txt"))},"获取文本 URL")]),u(n("textarea",{"onUpdate:modelValue":p[3]||(p[3]=o=>s.value=o)},null,512),[[F,s.value]]),s.value?(C(),d("div",$,[n("a",{href:s.value,target:"_blank"}," 链接 ",8,M),i(A,{color:"urlType=='DATA' ? 'red' :'green'"},{default:E(()=>[_("DATA URL"+L(l.value=="DATA"?"不":"")+"可直接点击链接打开, 可复制链接打开",1)]),_:1}),t.value=="image"?(C(),d("img",{key:0,src:s.value,alt:"图片"},null,8,Y)):b("",!0),n("iframe",{src:s.value},null,8,Q)])):b("",!0)])}}});const K=m(G,[["__scopeId","data-v-fcdef9a9"]]),X=f(`<h2 id="blob与-file" tabindex="-1">Blob与 File <a class="header-anchor" href="#blob与-file" aria-label="Permalink to &quot;Blob与 File&quot;">​</a></h2><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#CB7676;">const</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">blob</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#CB7676;">new</span><span style="color:#DBD7CAEE;"> </span><span style="color:#80A665;">Blob</span><span style="color:#666666;">([</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#C98A7D;">1,2,3</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#666666;">])</span></span>
<span class="line"><span style="color:#CB7676;">const</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">file</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#CB7676;">new</span><span style="color:#DBD7CAEE;"> </span><span style="color:#80A665;">File</span><span style="color:#666666;">([</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#C98A7D;">1,2,3</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#666666;">],</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D99;">&#39;</span><span style="color:#C98A7D;">test.txt</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span><span style="color:#DBD7CAEE;"> </span><span style="color:#B8A965;">type</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D99;">&#39;</span><span style="color:#C98A7D;">text/plain</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">})</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#AB5959;">const</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">blob</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">new</span><span style="color:#393A34;"> </span><span style="color:#59873A;">Blob</span><span style="color:#999999;">([</span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">1,2,3</span><span style="color:#B5695999;">&#39;</span><span style="color:#999999;">])</span></span>
<span class="line"><span style="color:#AB5959;">const</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">file</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">new</span><span style="color:#393A34;"> </span><span style="color:#59873A;">File</span><span style="color:#999999;">([</span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">1,2,3</span><span style="color:#B5695999;">&#39;</span><span style="color:#999999;">],</span><span style="color:#393A34;"> </span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">test.txt</span><span style="color:#B5695999;">&#39;</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span><span style="color:#393A34;"> </span><span style="color:#998418;">type</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">text/plain</span><span style="color:#B5695999;">&#39;</span><span style="color:#393A34;"> </span><span style="color:#999999;">})</span></span></code></pre></div><h2 id="arraybuffer" tabindex="-1">ArrayBuffer <a class="header-anchor" href="#arraybuffer" aria-label="Permalink to &quot;ArrayBuffer&quot;">​</a></h2><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#CB7676;">const</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">blob</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#CB7676;">new</span><span style="color:#DBD7CAEE;"> </span><span style="color:#80A665;">Blob</span><span style="color:#666666;">([</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#C98A7D;">1,2,3</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#666666;">])</span></span>
<span class="line"><span style="color:#CB7676;">const</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">file</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#CB7676;">new</span><span style="color:#DBD7CAEE;"> </span><span style="color:#80A665;">File</span><span style="color:#666666;">([</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#C98A7D;">1,2,3</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#666666;">],</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D99;">&#39;</span><span style="color:#C98A7D;">test.txt</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span><span style="color:#DBD7CAEE;"> </span><span style="color:#B8A965;">type</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D99;">&#39;</span><span style="color:#C98A7D;">text/plain</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">})</span></span>
<span class="line"></span>
<span class="line"><span style="color:#758575DD;">// ArrayBuffer</span></span>
<span class="line"><span style="color:#CB7676;">const</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">blobArrayBuffer</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">await</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">blob</span><span style="color:#666666;">.</span><span style="color:#80A665;">arrayBuffer</span><span style="color:#666666;">()</span></span>
<span class="line"><span style="color:#CB7676;">const</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">fileArrayBuffer</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">await</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">file</span><span style="color:#666666;">.</span><span style="color:#80A665;">arrayBuffer</span><span style="color:#666666;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BD976A;">console</span><span style="color:#666666;">.</span><span style="color:#80A665;">log</span><span style="color:#666666;">(</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#C98A7D;">[ blobArrayBuffer ]-6</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">blobArrayBuffer</span><span style="color:#666666;">)</span></span>
<span class="line"><span style="color:#BD976A;">console</span><span style="color:#666666;">.</span><span style="color:#80A665;">log</span><span style="color:#666666;">(</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#C98A7D;">[ fileArrayBuffer ]-8</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">fileArrayBuffer</span><span style="color:#666666;">)</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#AB5959;">const</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">blob</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">new</span><span style="color:#393A34;"> </span><span style="color:#59873A;">Blob</span><span style="color:#999999;">([</span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">1,2,3</span><span style="color:#B5695999;">&#39;</span><span style="color:#999999;">])</span></span>
<span class="line"><span style="color:#AB5959;">const</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">file</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">new</span><span style="color:#393A34;"> </span><span style="color:#59873A;">File</span><span style="color:#999999;">([</span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">1,2,3</span><span style="color:#B5695999;">&#39;</span><span style="color:#999999;">],</span><span style="color:#393A34;"> </span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">test.txt</span><span style="color:#B5695999;">&#39;</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span><span style="color:#393A34;"> </span><span style="color:#998418;">type</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">text/plain</span><span style="color:#B5695999;">&#39;</span><span style="color:#393A34;"> </span><span style="color:#999999;">})</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A0ADA0;">// ArrayBuffer</span></span>
<span class="line"><span style="color:#AB5959;">const</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">blobArrayBuffer</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">await</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">blob</span><span style="color:#999999;">.</span><span style="color:#59873A;">arrayBuffer</span><span style="color:#999999;">()</span></span>
<span class="line"><span style="color:#AB5959;">const</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">fileArrayBuffer</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">await</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">file</span><span style="color:#999999;">.</span><span style="color:#59873A;">arrayBuffer</span><span style="color:#999999;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B07D48;">console</span><span style="color:#999999;">.</span><span style="color:#59873A;">log</span><span style="color:#999999;">(</span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">[ blobArrayBuffer ]-6</span><span style="color:#B5695999;">&#39;</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">blobArrayBuffer</span><span style="color:#999999;">)</span></span>
<span class="line"><span style="color:#B07D48;">console</span><span style="color:#999999;">.</span><span style="color:#59873A;">log</span><span style="color:#999999;">(</span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">[ fileArrayBuffer ]-8</span><span style="color:#B5695999;">&#39;</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">fileArrayBuffer</span><span style="color:#999999;">)</span></span></code></pre></div>`,4),Z=f(`<h2 id="filereader" tabindex="-1">FileReader <a class="header-anchor" href="#filereader" aria-label="Permalink to &quot;FileReader&quot;">​</a></h2><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#CB7676;">const</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">fileReader</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#CB7676;">new</span><span style="color:#DBD7CAEE;"> </span><span style="color:#80A665;">FileReader</span><span style="color:#666666;">()</span></span>
<span class="line"><span style="color:#BD976A;">fileReader</span><span style="color:#666666;">.</span><span style="color:#80A665;">readAsArrayBuffer</span><span style="color:#666666;">(</span><span style="color:#BD976A;">file</span><span style="color:#666666;">)</span></span>
<span class="line"><span style="color:#BD976A;">fileReader</span><span style="color:#666666;">.</span><span style="color:#80A665;">onload</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">(</span><span style="color:#BD976A;">e</span><span style="color:#666666;">)</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=&gt;</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#BD976A;">console</span><span style="color:#666666;">.</span><span style="color:#80A665;">log</span><span style="color:#666666;">(</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#C98A7D;">[ e ]-13</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">e</span><span style="color:#666666;">)</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#BD976A;">console</span><span style="color:#666666;">.</span><span style="color:#80A665;">log</span><span style="color:#666666;">(</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#C98A7D;">[ e.target ]-14</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">e</span><span style="color:#666666;">.</span><span style="color:#BD976A;">target</span><span style="color:#666666;">)</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#BD976A;">console</span><span style="color:#666666;">.</span><span style="color:#80A665;">log</span><span style="color:#666666;">(</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#C98A7D;">[ e.target.result ]-15</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">e</span><span style="color:#666666;">.</span><span style="color:#BD976A;">target</span><span style="color:#666666;">?.</span><span style="color:#BD976A;">result</span><span style="color:#666666;">)</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#BD976A;">console</span><span style="color:#666666;">.</span><span style="color:#80A665;">log</span><span style="color:#666666;">(</span><span style="color:#BD976A;">e</span><span style="color:#666666;">.</span><span style="color:#BD976A;">target</span><span style="color:#666666;">?.</span><span style="color:#BD976A;">result</span><span style="color:#DBD7CAEE;"> </span><span style="color:#CB7676;">===</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">fileArrayBuffer</span><span style="color:#666666;">)</span><span style="color:#DBD7CAEE;"> </span><span style="color:#758575DD;">// false</span></span>
<span class="line"><span style="color:#666666;">}</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#AB5959;">const</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">fileReader</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">new</span><span style="color:#393A34;"> </span><span style="color:#59873A;">FileReader</span><span style="color:#999999;">()</span></span>
<span class="line"><span style="color:#B07D48;">fileReader</span><span style="color:#999999;">.</span><span style="color:#59873A;">readAsArrayBuffer</span><span style="color:#999999;">(</span><span style="color:#B07D48;">file</span><span style="color:#999999;">)</span></span>
<span class="line"><span style="color:#B07D48;">fileReader</span><span style="color:#999999;">.</span><span style="color:#59873A;">onload</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#999999;">(</span><span style="color:#B07D48;">e</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">=&gt;</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#B07D48;">console</span><span style="color:#999999;">.</span><span style="color:#59873A;">log</span><span style="color:#999999;">(</span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">[ e ]-13</span><span style="color:#B5695999;">&#39;</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">e</span><span style="color:#999999;">)</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#B07D48;">console</span><span style="color:#999999;">.</span><span style="color:#59873A;">log</span><span style="color:#999999;">(</span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">[ e.target ]-14</span><span style="color:#B5695999;">&#39;</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">e</span><span style="color:#999999;">.</span><span style="color:#B07D48;">target</span><span style="color:#999999;">)</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#B07D48;">console</span><span style="color:#999999;">.</span><span style="color:#59873A;">log</span><span style="color:#999999;">(</span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">[ e.target.result ]-15</span><span style="color:#B5695999;">&#39;</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">e</span><span style="color:#999999;">.</span><span style="color:#B07D48;">target</span><span style="color:#999999;">?.</span><span style="color:#B07D48;">result</span><span style="color:#999999;">)</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#B07D48;">console</span><span style="color:#999999;">.</span><span style="color:#59873A;">log</span><span style="color:#999999;">(</span><span style="color:#B07D48;">e</span><span style="color:#999999;">.</span><span style="color:#B07D48;">target</span><span style="color:#999999;">?.</span><span style="color:#B07D48;">result</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">===</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">fileArrayBuffer</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">// false</span></span>
<span class="line"><span style="color:#999999;">}</span></span></code></pre></div><p><img src="https://zerdocs.oss-cn-shanghai.aliyuncs.com/febasis/2023-02-11-18-18-03.png" alt="2023-02-11-18-18-03"></p><h2 id="dataview" tabindex="-1">DataView <a class="header-anchor" href="#dataview" aria-label="Permalink to &quot;DataView&quot;">​</a></h2><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#CB7676;">const</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">dataView</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#CB7676;">new</span><span style="color:#DBD7CAEE;"> </span><span style="color:#80A665;">DataView</span><span style="color:#666666;">(</span><span style="color:#BD976A;">blobArrayBuffer</span><span style="color:#666666;">)</span></span>
<span class="line"><span style="color:#BD976A;">console</span><span style="color:#666666;">.</span><span style="color:#80A665;">log</span><span style="color:#666666;">(</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#C98A7D;">[ dataView ]-19</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">dataView</span><span style="color:#666666;">)</span></span>
<span class="line"><span style="color:#BD976A;">console</span><span style="color:#666666;">.</span><span style="color:#80A665;">log</span><span style="color:#666666;">(</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#C98A7D;">[ dataView.getUint8(0) ]-20</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">dataView</span><span style="color:#666666;">.</span><span style="color:#80A665;">getUint8</span><span style="color:#666666;">(</span><span style="color:#4C9A91;">0</span><span style="color:#666666;">))</span></span>
<span class="line"><span style="color:#BD976A;">dataView</span><span style="color:#666666;">.</span><span style="color:#80A665;">setUint8</span><span style="color:#666666;">(</span><span style="color:#4C9A91;">0</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">4</span><span style="color:#666666;">)</span></span>
<span class="line"><span style="color:#BD976A;">console</span><span style="color:#666666;">.</span><span style="color:#80A665;">log</span><span style="color:#666666;">(</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#C98A7D;">[ dataView.getUint8(0) ]-20</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">dataView</span><span style="color:#666666;">.</span><span style="color:#80A665;">getUint8</span><span style="color:#666666;">(</span><span style="color:#4C9A91;">0</span><span style="color:#666666;">))</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#AB5959;">const</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">dataView</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">new</span><span style="color:#393A34;"> </span><span style="color:#59873A;">DataView</span><span style="color:#999999;">(</span><span style="color:#B07D48;">blobArrayBuffer</span><span style="color:#999999;">)</span></span>
<span class="line"><span style="color:#B07D48;">console</span><span style="color:#999999;">.</span><span style="color:#59873A;">log</span><span style="color:#999999;">(</span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">[ dataView ]-19</span><span style="color:#B5695999;">&#39;</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">dataView</span><span style="color:#999999;">)</span></span>
<span class="line"><span style="color:#B07D48;">console</span><span style="color:#999999;">.</span><span style="color:#59873A;">log</span><span style="color:#999999;">(</span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">[ dataView.getUint8(0) ]-20</span><span style="color:#B5695999;">&#39;</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">dataView</span><span style="color:#999999;">.</span><span style="color:#59873A;">getUint8</span><span style="color:#999999;">(</span><span style="color:#2F798A;">0</span><span style="color:#999999;">))</span></span>
<span class="line"><span style="color:#B07D48;">dataView</span><span style="color:#999999;">.</span><span style="color:#59873A;">setUint8</span><span style="color:#999999;">(</span><span style="color:#2F798A;">0</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">4</span><span style="color:#999999;">)</span></span>
<span class="line"><span style="color:#B07D48;">console</span><span style="color:#999999;">.</span><span style="color:#59873A;">log</span><span style="color:#999999;">(</span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">[ dataView.getUint8(0) ]-20</span><span style="color:#B5695999;">&#39;</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">dataView</span><span style="color:#999999;">.</span><span style="color:#59873A;">getUint8</span><span style="color:#999999;">(</span><span style="color:#2F798A;">0</span><span style="color:#999999;">))</span></span></code></pre></div><p><img src="https://zerdocs.oss-cn-shanghai.aliyuncs.com/febasis/2023-02-11-18-25-32.png" alt="2023-02-11-18-25-32"></p><h2 id="filepicker" tabindex="-1">FilePicker <a class="header-anchor" href="#filepicker" aria-label="Permalink to &quot;FilePicker&quot;">​</a></h2><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#CB7676;">const</span><span style="color:#DBD7CAEE;"> </span><span style="color:#80A665;">openFilePicker</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#CB7676;">async</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">(</span><span style="color:#BD976A;">e</span><span style="color:#666666;">: </span><span style="color:#5DA994;">any</span><span style="color:#666666;">)</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=&gt;</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">   </span><span style="color:#CB7676;">const</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">option</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">     </span><span style="color:#B8A965;">title</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D99;">&#39;</span><span style="color:#C98A7D;">Open File</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">     </span><span style="color:#B8A965;">accept</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">      </span><span style="color:#C98A7D99;">&#39;</span><span style="color:#C98A7D;">image/*</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">[</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#C98A7D;">.png</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D99;">&#39;</span><span style="color:#C98A7D;">.jpg</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D99;">&#39;</span><span style="color:#C98A7D;">.jpeg</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#666666;">],</span></span>
<span class="line"><span style="color:#DBD7CAEE;">     </span><span style="color:#666666;">},</span></span>
<span class="line"><span style="color:#DBD7CAEE;">   </span><span style="color:#666666;">}</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#CB7676;">const</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">[</span><span style="color:#BD976A;">fileHandle</span><span style="color:#666666;">]</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">await</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">(</span><span style="color:#BD976A;">window</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">as</span><span style="color:#DBD7CAEE;"> </span><span style="color:#5DA994;">any</span><span style="color:#666666;">).</span><span style="color:#80A665;">showOpenFilePicker</span><span style="color:#666666;">(</span><span style="color:#BD976A;">option</span><span style="color:#666666;">)</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#CB7676;">const</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">file</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">await</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">fileHandle</span><span style="color:#666666;">.</span><span style="color:#80A665;">getFile</span><span style="color:#666666;">()</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#CB7676;">const</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">fileReader</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#CB7676;">new</span><span style="color:#DBD7CAEE;"> </span><span style="color:#80A665;">FileReader</span><span style="color:#666666;">()</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#BD976A;">fileReader</span><span style="color:#666666;">.</span><span style="color:#80A665;">readAsArrayBuffer</span><span style="color:#666666;">(</span><span style="color:#BD976A;">file</span><span style="color:#666666;">)</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#BD976A;">fileReader</span><span style="color:#666666;">.</span><span style="color:#80A665;">onload</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">(</span><span style="color:#BD976A;">e</span><span style="color:#666666;">)</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=&gt;</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">      </span><span style="color:#BD976A;">console</span><span style="color:#666666;">.</span><span style="color:#80A665;">log</span><span style="color:#666666;">(</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#C98A7D;">[ e ]-11</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">e</span><span style="color:#666666;">.</span><span style="color:#BD976A;">target</span><span style="color:#666666;">?.</span><span style="color:#BD976A;">result</span><span style="color:#666666;">)</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#666666;">}</span></span>
<span class="line"><span style="color:#666666;">}</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#AB5959;">const</span><span style="color:#393A34;"> </span><span style="color:#59873A;">openFilePicker</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">async</span><span style="color:#393A34;"> </span><span style="color:#999999;">(</span><span style="color:#B07D48;">e</span><span style="color:#999999;">: </span><span style="color:#2E8F82;">any</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">=&gt;</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">   </span><span style="color:#AB5959;">const</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">option</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">     </span><span style="color:#998418;">title</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">Open File</span><span style="color:#B5695999;">&#39;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">     </span><span style="color:#998418;">accept</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">image/*</span><span style="color:#B5695999;">&#39;</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#999999;">[</span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">.png</span><span style="color:#B5695999;">&#39;</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">.jpg</span><span style="color:#B5695999;">&#39;</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">.jpeg</span><span style="color:#B5695999;">&#39;</span><span style="color:#999999;">],</span></span>
<span class="line"><span style="color:#393A34;">     </span><span style="color:#999999;">},</span></span>
<span class="line"><span style="color:#393A34;">   </span><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#AB5959;">const</span><span style="color:#393A34;"> </span><span style="color:#999999;">[</span><span style="color:#B07D48;">fileHandle</span><span style="color:#999999;">]</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">await</span><span style="color:#393A34;"> </span><span style="color:#999999;">(</span><span style="color:#B07D48;">window</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">as</span><span style="color:#393A34;"> </span><span style="color:#2E8F82;">any</span><span style="color:#999999;">).</span><span style="color:#59873A;">showOpenFilePicker</span><span style="color:#999999;">(</span><span style="color:#B07D48;">option</span><span style="color:#999999;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#AB5959;">const</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">file</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">await</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">fileHandle</span><span style="color:#999999;">.</span><span style="color:#59873A;">getFile</span><span style="color:#999999;">()</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#AB5959;">const</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">fileReader</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">new</span><span style="color:#393A34;"> </span><span style="color:#59873A;">FileReader</span><span style="color:#999999;">()</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B07D48;">fileReader</span><span style="color:#999999;">.</span><span style="color:#59873A;">readAsArrayBuffer</span><span style="color:#999999;">(</span><span style="color:#B07D48;">file</span><span style="color:#999999;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B07D48;">fileReader</span><span style="color:#999999;">.</span><span style="color:#59873A;">onload</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#999999;">(</span><span style="color:#B07D48;">e</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">=&gt;</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#B07D48;">console</span><span style="color:#999999;">.</span><span style="color:#59873A;">log</span><span style="color:#999999;">(</span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">[ e ]-11</span><span style="color:#B5695999;">&#39;</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">e</span><span style="color:#999999;">.</span><span style="color:#B07D48;">target</span><span style="color:#999999;">?.</span><span style="color:#B07D48;">result</span><span style="color:#999999;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#999999;">}</span></span></code></pre></div><h2 id="文件操作" tabindex="-1">文件操作 <a class="header-anchor" href="#文件操作" aria-label="Permalink to &quot;文件操作&quot;">​</a></h2><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"></span>
<span class="line"><span style="color:#CB7676;">const </span><span style="color:#BD976A;">textarea</span><span style="color:#CB7676;"> </span><span style="color:#666666;">=</span><span style="color:#CB7676;"> </span><span style="color:#80A665;">ref</span><span style="color:#666666;">(</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#C98A7D;">Hello World</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#666666;">)</span></span>
<span class="line"><span style="color:#CB7676;">const </span><span style="color:#BD976A;">fh</span><span style="color:#CB7676;"> </span><span style="color:#666666;">=</span><span style="color:#CB7676;"> </span><span style="color:#80A665;">ref</span><span style="color:#666666;">(</span><span style="color:#CB7676;">null</span><span style="color:#666666;">)</span></span>
<span class="line"><span style="color:#758575DD;">//创建文件</span></span>
<span class="line"><span style="color:#CB7676;">const </span><span style="color:#80A665;">openCreate</span><span style="color:#CB7676;"> </span><span style="color:#666666;">=</span><span style="color:#CB7676;"> async </span><span style="color:#666666;">()</span><span style="color:#CB7676;"> </span><span style="color:#666666;">=&gt;</span><span style="color:#CB7676;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#CB7676;">  const  </span><span style="color:#BD976A;">fileHandle</span><span style="color:#CB7676;">  </span><span style="color:#666666;">=</span><span style="color:#CB7676;">  </span><span style="color:#4D9375;">await</span><span style="color:#CB7676;">  </span><span style="color:#666666;">(</span><span style="color:#BD976A;">window</span><span style="color:#CB7676;"> </span><span style="color:#4D9375;">as</span><span style="color:#CB7676;"> </span><span style="color:#5DA994;">any</span><span style="color:#666666;">).</span><span style="color:#80A665;">showSaveFilePicker</span><span style="color:#666666;">()</span></span>
<span class="line"><span style="color:#CB7676;">  const </span><span style="color:#BD976A;">fileSteam</span><span style="color:#CB7676;"> </span><span style="color:#666666;">=</span><span style="color:#CB7676;"> </span><span style="color:#4D9375;">await</span><span style="color:#CB7676;"> </span><span style="color:#BD976A;">fileHandle</span><span style="color:#666666;">.</span><span style="color:#80A665;">createWritable</span><span style="color:#666666;">()</span></span>
<span class="line"><span style="color:#CB7676;">  </span><span style="color:#4D9375;">await</span><span style="color:#CB7676;"> </span><span style="color:#BD976A;">fileSteam</span><span style="color:#666666;">.</span><span style="color:#80A665;">write</span><span style="color:#666666;">(</span><span style="color:#BD976A;">textarea</span><span style="color:#666666;">.</span><span style="color:#BD976A;">value</span><span style="color:#666666;">)</span></span>
<span class="line"><span style="color:#CB7676;">  </span><span style="color:#4D9375;">await</span><span style="color:#CB7676;"> </span><span style="color:#BD976A;">fileSteam</span><span style="color:#666666;">.</span><span style="color:#80A665;">close</span><span style="color:#666666;">()</span></span>
<span class="line"><span style="color:#666666;">}</span></span>
<span class="line"><span style="color:#758575DD;">//打开文件</span></span>
<span class="line"><span style="color:#CB7676;">const </span><span style="color:#80A665;">openShow</span><span style="color:#CB7676;"> </span><span style="color:#666666;">=</span><span style="color:#CB7676;"> async </span><span style="color:#666666;">()</span><span style="color:#CB7676;"> </span><span style="color:#666666;">=&gt;</span><span style="color:#CB7676;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#CB7676;">  const </span><span style="color:#666666;">[</span><span style="color:#CB7676;"> </span><span style="color:#BD976A;">fileHandle</span><span style="color:#CB7676;"> </span><span style="color:#666666;">]</span><span style="color:#CB7676;"> </span><span style="color:#666666;">=</span><span style="color:#CB7676;">  </span><span style="color:#4D9375;">await</span><span style="color:#CB7676;">  </span><span style="color:#666666;">(</span><span style="color:#BD976A;">window</span><span style="color:#CB7676;"> </span><span style="color:#4D9375;">as</span><span style="color:#CB7676;"> </span><span style="color:#5DA994;">any</span><span style="color:#666666;">).</span><span style="color:#80A665;">showOpenFilePicker</span><span style="color:#666666;">(</span><span style="color:#BD976A;">option</span><span style="color:#666666;">)</span></span>
<span class="line"><span style="color:#CB7676;">  </span><span style="color:#BD976A;">fh</span><span style="color:#666666;">.</span><span style="color:#BD976A;">value</span><span style="color:#CB7676;"> </span><span style="color:#666666;">=</span><span style="color:#CB7676;"> </span><span style="color:#BD976A;">fileHandle</span></span>
<span class="line"><span style="color:#CB7676;">  const </span><span style="color:#BD976A;">file</span><span style="color:#CB7676;"> </span><span style="color:#666666;">=</span><span style="color:#CB7676;">  </span><span style="color:#4D9375;">await</span><span style="color:#CB7676;">  </span><span style="color:#BD976A;">fileHandle</span><span style="color:#666666;">.</span><span style="color:#80A665;">getFile</span><span style="color:#666666;">()</span></span>
<span class="line"><span style="color:#CB7676;">  </span><span style="color:#BD976A;">textarea</span><span style="color:#666666;">.</span><span style="color:#BD976A;">value</span><span style="color:#CB7676;"> </span><span style="color:#666666;">=</span><span style="color:#CB7676;"> </span><span style="color:#4D9375;">await</span><span style="color:#CB7676;"> </span><span style="color:#BD976A;">file</span><span style="color:#666666;">.</span><span style="color:#80A665;">text</span><span style="color:#666666;">()</span></span>
<span class="line"><span style="color:#666666;">}</span></span>
<span class="line"><span style="color:#758575DD;">//保存文件</span></span>
<span class="line"><span style="color:#CB7676;">const </span><span style="color:#80A665;">openSave</span><span style="color:#CB7676;"> </span><span style="color:#666666;">=</span><span style="color:#CB7676;"> async </span><span style="color:#666666;">()</span><span style="color:#CB7676;"> </span><span style="color:#666666;">=&gt;</span><span style="color:#CB7676;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#CB7676;">  </span><span style="color:#4D9375;">if</span><span style="color:#666666;">(</span><span style="color:#BD976A;">fh</span><span style="color:#666666;">.</span><span style="color:#BD976A;">value</span><span style="color:#666666;">){</span></span>
<span class="line"><span style="color:#CB7676;">    const </span><span style="color:#BD976A;">fileSteam</span><span style="color:#CB7676;"> </span><span style="color:#666666;">=</span><span style="color:#CB7676;"> </span><span style="color:#4D9375;">await</span><span style="color:#CB7676;"> </span><span style="color:#BD976A;">fh</span><span style="color:#666666;">.</span><span style="color:#BD976A;">value</span><span style="color:#666666;">.</span><span style="color:#80A665;">createWritable</span><span style="color:#666666;">()</span></span>
<span class="line"><span style="color:#CB7676;">    </span><span style="color:#4D9375;">await</span><span style="color:#CB7676;"> </span><span style="color:#BD976A;">fileSteam</span><span style="color:#666666;">.</span><span style="color:#80A665;">write</span><span style="color:#666666;">(</span><span style="color:#BD976A;">textarea</span><span style="color:#666666;">.</span><span style="color:#BD976A;">value</span><span style="color:#666666;">)</span></span>
<span class="line"><span style="color:#CB7676;">    </span><span style="color:#4D9375;">await</span><span style="color:#CB7676;"> </span><span style="color:#BD976A;">fileSteam</span><span style="color:#666666;">.</span><span style="color:#80A665;">close</span><span style="color:#666666;">()</span></span>
<span class="line"><span style="color:#CB7676;">  </span><span style="color:#666666;">}</span></span>
<span class="line"><span style="color:#666666;">}</span></span>
<span class="line"><span style="color:#758575DD;">//保存为文件</span></span>
<span class="line"><span style="color:#CB7676;">const </span><span style="color:#80A665;">openSaveAs</span><span style="color:#CB7676;"> </span><span style="color:#666666;">=</span><span style="color:#CB7676;"> </span><span style="color:#666666;">()</span><span style="color:#CB7676;"> </span><span style="color:#666666;">=&gt;</span><span style="color:#CB7676;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#CB7676;">  </span><span style="color:#80A665;">openCreate</span><span style="color:#666666;">()</span></span>
<span class="line"><span style="color:#666666;">}</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"></span>
<span class="line"><span style="color:#AB5959;">const </span><span style="color:#B07D48;">textarea</span><span style="color:#AB5959;"> </span><span style="color:#999999;">=</span><span style="color:#AB5959;"> </span><span style="color:#59873A;">ref</span><span style="color:#999999;">(</span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">Hello World</span><span style="color:#B5695999;">&#39;</span><span style="color:#999999;">)</span></span>
<span class="line"><span style="color:#AB5959;">const </span><span style="color:#B07D48;">fh</span><span style="color:#AB5959;"> </span><span style="color:#999999;">=</span><span style="color:#AB5959;"> </span><span style="color:#59873A;">ref</span><span style="color:#999999;">(</span><span style="color:#AB5959;">null</span><span style="color:#999999;">)</span></span>
<span class="line"><span style="color:#A0ADA0;">//创建文件</span></span>
<span class="line"><span style="color:#AB5959;">const </span><span style="color:#59873A;">openCreate</span><span style="color:#AB5959;"> </span><span style="color:#999999;">=</span><span style="color:#AB5959;"> async </span><span style="color:#999999;">()</span><span style="color:#AB5959;"> </span><span style="color:#999999;">=&gt;</span><span style="color:#AB5959;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#AB5959;">  const  </span><span style="color:#B07D48;">fileHandle</span><span style="color:#AB5959;">  </span><span style="color:#999999;">=</span><span style="color:#AB5959;">  </span><span style="color:#1E754F;">await</span><span style="color:#AB5959;">  </span><span style="color:#999999;">(</span><span style="color:#B07D48;">window</span><span style="color:#AB5959;"> </span><span style="color:#1E754F;">as</span><span style="color:#AB5959;"> </span><span style="color:#2E8F82;">any</span><span style="color:#999999;">).</span><span style="color:#59873A;">showSaveFilePicker</span><span style="color:#999999;">()</span></span>
<span class="line"><span style="color:#AB5959;">  const </span><span style="color:#B07D48;">fileSteam</span><span style="color:#AB5959;"> </span><span style="color:#999999;">=</span><span style="color:#AB5959;"> </span><span style="color:#1E754F;">await</span><span style="color:#AB5959;"> </span><span style="color:#B07D48;">fileHandle</span><span style="color:#999999;">.</span><span style="color:#59873A;">createWritable</span><span style="color:#999999;">()</span></span>
<span class="line"><span style="color:#AB5959;">  </span><span style="color:#1E754F;">await</span><span style="color:#AB5959;"> </span><span style="color:#B07D48;">fileSteam</span><span style="color:#999999;">.</span><span style="color:#59873A;">write</span><span style="color:#999999;">(</span><span style="color:#B07D48;">textarea</span><span style="color:#999999;">.</span><span style="color:#B07D48;">value</span><span style="color:#999999;">)</span></span>
<span class="line"><span style="color:#AB5959;">  </span><span style="color:#1E754F;">await</span><span style="color:#AB5959;"> </span><span style="color:#B07D48;">fileSteam</span><span style="color:#999999;">.</span><span style="color:#59873A;">close</span><span style="color:#999999;">()</span></span>
<span class="line"><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#A0ADA0;">//打开文件</span></span>
<span class="line"><span style="color:#AB5959;">const </span><span style="color:#59873A;">openShow</span><span style="color:#AB5959;"> </span><span style="color:#999999;">=</span><span style="color:#AB5959;"> async </span><span style="color:#999999;">()</span><span style="color:#AB5959;"> </span><span style="color:#999999;">=&gt;</span><span style="color:#AB5959;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#AB5959;">  const </span><span style="color:#999999;">[</span><span style="color:#AB5959;"> </span><span style="color:#B07D48;">fileHandle</span><span style="color:#AB5959;"> </span><span style="color:#999999;">]</span><span style="color:#AB5959;"> </span><span style="color:#999999;">=</span><span style="color:#AB5959;">  </span><span style="color:#1E754F;">await</span><span style="color:#AB5959;">  </span><span style="color:#999999;">(</span><span style="color:#B07D48;">window</span><span style="color:#AB5959;"> </span><span style="color:#1E754F;">as</span><span style="color:#AB5959;"> </span><span style="color:#2E8F82;">any</span><span style="color:#999999;">).</span><span style="color:#59873A;">showOpenFilePicker</span><span style="color:#999999;">(</span><span style="color:#B07D48;">option</span><span style="color:#999999;">)</span></span>
<span class="line"><span style="color:#AB5959;">  </span><span style="color:#B07D48;">fh</span><span style="color:#999999;">.</span><span style="color:#B07D48;">value</span><span style="color:#AB5959;"> </span><span style="color:#999999;">=</span><span style="color:#AB5959;"> </span><span style="color:#B07D48;">fileHandle</span></span>
<span class="line"><span style="color:#AB5959;">  const </span><span style="color:#B07D48;">file</span><span style="color:#AB5959;"> </span><span style="color:#999999;">=</span><span style="color:#AB5959;">  </span><span style="color:#1E754F;">await</span><span style="color:#AB5959;">  </span><span style="color:#B07D48;">fileHandle</span><span style="color:#999999;">.</span><span style="color:#59873A;">getFile</span><span style="color:#999999;">()</span></span>
<span class="line"><span style="color:#AB5959;">  </span><span style="color:#B07D48;">textarea</span><span style="color:#999999;">.</span><span style="color:#B07D48;">value</span><span style="color:#AB5959;"> </span><span style="color:#999999;">=</span><span style="color:#AB5959;"> </span><span style="color:#1E754F;">await</span><span style="color:#AB5959;"> </span><span style="color:#B07D48;">file</span><span style="color:#999999;">.</span><span style="color:#59873A;">text</span><span style="color:#999999;">()</span></span>
<span class="line"><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#A0ADA0;">//保存文件</span></span>
<span class="line"><span style="color:#AB5959;">const </span><span style="color:#59873A;">openSave</span><span style="color:#AB5959;"> </span><span style="color:#999999;">=</span><span style="color:#AB5959;"> async </span><span style="color:#999999;">()</span><span style="color:#AB5959;"> </span><span style="color:#999999;">=&gt;</span><span style="color:#AB5959;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#AB5959;">  </span><span style="color:#1E754F;">if</span><span style="color:#999999;">(</span><span style="color:#B07D48;">fh</span><span style="color:#999999;">.</span><span style="color:#B07D48;">value</span><span style="color:#999999;">){</span></span>
<span class="line"><span style="color:#AB5959;">    const </span><span style="color:#B07D48;">fileSteam</span><span style="color:#AB5959;"> </span><span style="color:#999999;">=</span><span style="color:#AB5959;"> </span><span style="color:#1E754F;">await</span><span style="color:#AB5959;"> </span><span style="color:#B07D48;">fh</span><span style="color:#999999;">.</span><span style="color:#B07D48;">value</span><span style="color:#999999;">.</span><span style="color:#59873A;">createWritable</span><span style="color:#999999;">()</span></span>
<span class="line"><span style="color:#AB5959;">    </span><span style="color:#1E754F;">await</span><span style="color:#AB5959;"> </span><span style="color:#B07D48;">fileSteam</span><span style="color:#999999;">.</span><span style="color:#59873A;">write</span><span style="color:#999999;">(</span><span style="color:#B07D48;">textarea</span><span style="color:#999999;">.</span><span style="color:#B07D48;">value</span><span style="color:#999999;">)</span></span>
<span class="line"><span style="color:#AB5959;">    </span><span style="color:#1E754F;">await</span><span style="color:#AB5959;"> </span><span style="color:#B07D48;">fileSteam</span><span style="color:#999999;">.</span><span style="color:#59873A;">close</span><span style="color:#999999;">()</span></span>
<span class="line"><span style="color:#AB5959;">  </span><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#A0ADA0;">//保存为文件</span></span>
<span class="line"><span style="color:#AB5959;">const </span><span style="color:#59873A;">openSaveAs</span><span style="color:#AB5959;"> </span><span style="color:#999999;">=</span><span style="color:#AB5959;"> </span><span style="color:#999999;">()</span><span style="color:#AB5959;"> </span><span style="color:#999999;">=&gt;</span><span style="color:#AB5959;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#AB5959;">  </span><span style="color:#59873A;">openCreate</span><span style="color:#999999;">()</span></span>
<span class="line"><span style="color:#999999;">}</span></span></code></pre></div><p><strong>filepicker</strong></p>`,11),ss=f(`<h2 id="url" tabindex="-1">URL <a class="header-anchor" href="#url" aria-label="Permalink to &quot;URL&quot;">​</a></h2><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#758575DD;">// Blob URL</span></span>
<span class="line"><span style="color:#BD976A;">URL</span><span style="color:#666666;">.</span><span style="color:#80A665;">createObjectURL</span><span style="color:#666666;">(</span><span style="color:#BD976A;">blob</span><span style="color:#666666;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#758575DD;">// Data  URL</span></span>
<span class="line"><span style="color:#BD976A;">FileReader</span><span style="color:#666666;">.</span><span style="color:#80A665;">readAsDataURL</span><span style="color:#666666;">(</span><span style="color:#BD976A;">file</span><span style="color:#666666;">)</span></span>
<span class="line"><span style="color:#BD976A;">canvas</span><span style="color:#666666;">.</span><span style="color:#80A665;">toDataURL</span><span style="color:#666666;">()</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#A0ADA0;">// Blob URL</span></span>
<span class="line"><span style="color:#B07D48;">URL</span><span style="color:#999999;">.</span><span style="color:#59873A;">createObjectURL</span><span style="color:#999999;">(</span><span style="color:#B07D48;">blob</span><span style="color:#999999;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A0ADA0;">// Data  URL</span></span>
<span class="line"><span style="color:#B07D48;">FileReader</span><span style="color:#999999;">.</span><span style="color:#59873A;">readAsDataURL</span><span style="color:#999999;">(</span><span style="color:#B07D48;">file</span><span style="color:#999999;">)</span></span>
<span class="line"><span style="color:#B07D48;">canvas</span><span style="color:#999999;">.</span><span style="color:#59873A;">toDataURL</span><span style="color:#999999;">()</span></span></code></pre></div><div class="language-vue vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">a</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">:</span><span style="color:#80A665;">href</span><span style="color:#666666;">=</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#BD976A;">url</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#666666;">&gt;</span><span style="color:#DBD7CAEE;">   </span><span style="color:#666666;">&lt;/</span><span style="color:#4D9375;">a</span><span style="color:#666666;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">img</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">:</span><span style="color:#80A665;">src</span><span style="color:#666666;">=</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#BD976A;">url</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">/&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">iframe</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">:</span><span style="color:#80A665;">src</span><span style="color:#666666;">=</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#BD976A;">url</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#666666;">&gt;&lt;/</span><span style="color:#4D9375;">iframe</span><span style="color:#666666;">&gt;</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">a</span><span style="color:#393A34;"> </span><span style="color:#999999;">:</span><span style="color:#59873A;">href</span><span style="color:#999999;">=</span><span style="color:#B5695999;">&quot;</span><span style="color:#B07D48;">url</span><span style="color:#B5695999;">&quot;</span><span style="color:#999999;">&gt;</span><span style="color:#393A34;">   </span><span style="color:#999999;">&lt;/</span><span style="color:#1E754F;">a</span><span style="color:#999999;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">img</span><span style="color:#393A34;"> </span><span style="color:#999999;">:</span><span style="color:#59873A;">src</span><span style="color:#999999;">=</span><span style="color:#B5695999;">&quot;</span><span style="color:#B07D48;">url</span><span style="color:#B5695999;">&quot;</span><span style="color:#393A34;"> </span><span style="color:#999999;">/&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">iframe</span><span style="color:#393A34;"> </span><span style="color:#999999;">:</span><span style="color:#59873A;">src</span><span style="color:#999999;">=</span><span style="color:#B5695999;">&quot;</span><span style="color:#B07D48;">url</span><span style="color:#B5695999;">&quot;</span><span style="color:#999999;">&gt;&lt;/</span><span style="color:#1E754F;">iframe</span><span style="color:#999999;">&gt;</span></span></code></pre></div><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#CB7676;">type</span><span style="color:#DBD7CAEE;"> </span><span style="color:#5DA994;">TYPE</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D99;">&#39;</span><span style="color:#C98A7D;">text</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">|</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D99;">&#39;</span><span style="color:#C98A7D;">image</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">|</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D99;">&#39;&#39;</span></span>
<span class="line"><span style="color:#CB7676;">const </span><span style="color:#BD976A;">url</span><span style="color:#CB7676;"> </span><span style="color:#666666;">=</span><span style="color:#CB7676;"> </span><span style="color:#80A665;">ref</span><span style="color:#666666;">&lt;</span><span style="color:#5DA994;">string</span><span style="color:#666666;">&gt;(</span><span style="color:#C98A7D99;">&#39;&#39;</span><span style="color:#666666;">)</span></span>
<span class="line"><span style="color:#CB7676;">const </span><span style="color:#80A665;">onFetch</span><span style="color:#CB7676;"> </span><span style="color:#666666;">=</span><span style="color:#CB7676;"> async </span><span style="color:#666666;">(</span><span style="color:#BD976A;">type</span><span style="color:#666666;">: </span><span style="color:#5DA994;">TYPE</span><span style="color:#666666;">,</span><span style="color:#CB7676;"> </span><span style="color:#BD976A;">path</span><span style="color:#666666;">: </span><span style="color:#5DA994;">string</span><span style="color:#666666;">)</span><span style="color:#CB7676;"> </span><span style="color:#666666;">=&gt;</span><span style="color:#CB7676;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#CB7676;">  const </span><span style="color:#BD976A;">response</span><span style="color:#CB7676;"> </span><span style="color:#666666;">=</span><span style="color:#CB7676;"> </span><span style="color:#4D9375;">await</span><span style="color:#CB7676;"> </span><span style="color:#80A665;">fetch</span><span style="color:#666666;">(</span><span style="color:#BD976A;">path</span><span style="color:#666666;">)</span></span>
<span class="line"><span style="color:#666666;">  </span><span style="color:#758575DD;">//BLOB URL</span></span>
<span class="line"><span style="color:#666666;">  </span><span style="color:#758575DD;">// const data = await response.blob()</span></span>
<span class="line"><span style="color:#666666;">  </span><span style="color:#758575DD;">// url.value = URL.createObjectURL(data)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#666666;">  </span><span style="color:#758575DD;">//Data URL</span></span>
<span class="line"><span style="color:#CB7676;">  const </span><span style="color:#BD976A;">fr</span><span style="color:#CB7676;"> </span><span style="color:#666666;">=</span><span style="color:#CB7676;"> new </span><span style="color:#80A665;">FileReader</span><span style="color:#666666;">()</span></span>
<span class="line"><span style="color:#CB7676;">  </span><span style="color:#BD976A;">fr</span><span style="color:#666666;">.</span><span style="color:#80A665;">onload</span><span style="color:#CB7676;"> </span><span style="color:#666666;">=</span><span style="color:#CB7676;"> </span><span style="color:#666666;">(</span><span style="color:#BD976A;">e</span><span style="color:#666666;">)</span><span style="color:#CB7676;"> </span><span style="color:#666666;">=&gt;</span><span style="color:#CB7676;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#CB7676;">    </span><span style="color:#BD976A;">url</span><span style="color:#666666;">.</span><span style="color:#BD976A;">value</span><span style="color:#CB7676;"> </span><span style="color:#666666;">=</span><span style="color:#CB7676;"> </span><span style="color:#BD976A;">e</span><span style="color:#666666;">.</span><span style="color:#BD976A;">target</span><span style="color:#666666;">?.</span><span style="color:#BD976A;">result</span><span style="color:#CB7676;"> </span><span style="color:#4D9375;">as</span><span style="color:#CB7676;"> </span><span style="color:#5DA994;">string</span></span>
<span class="line"><span style="color:#CB7676;">  </span><span style="color:#666666;">}</span></span>
<span class="line"><span style="color:#CB7676;">  </span><span style="color:#BD976A;">fr</span><span style="color:#666666;">.</span><span style="color:#80A665;">readAsDataURL</span><span style="color:#666666;">(</span><span style="color:#4D9375;">await</span><span style="color:#CB7676;"> </span><span style="color:#BD976A;">response</span><span style="color:#666666;">.</span><span style="color:#80A665;">blob</span><span style="color:#666666;">())</span></span>
<span class="line"><span style="color:#666666;">}</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#AB5959;">type</span><span style="color:#393A34;"> </span><span style="color:#2E8F82;">TYPE</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">text</span><span style="color:#B5695999;">&#39;</span><span style="color:#393A34;"> </span><span style="color:#999999;">|</span><span style="color:#393A34;"> </span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">image</span><span style="color:#B5695999;">&#39;</span><span style="color:#393A34;"> </span><span style="color:#999999;">|</span><span style="color:#393A34;"> </span><span style="color:#B5695999;">&#39;&#39;</span></span>
<span class="line"><span style="color:#AB5959;">const </span><span style="color:#B07D48;">url</span><span style="color:#AB5959;"> </span><span style="color:#999999;">=</span><span style="color:#AB5959;"> </span><span style="color:#59873A;">ref</span><span style="color:#999999;">&lt;</span><span style="color:#2E8F82;">string</span><span style="color:#999999;">&gt;(</span><span style="color:#B5695999;">&#39;&#39;</span><span style="color:#999999;">)</span></span>
<span class="line"><span style="color:#AB5959;">const </span><span style="color:#59873A;">onFetch</span><span style="color:#AB5959;"> </span><span style="color:#999999;">=</span><span style="color:#AB5959;"> async </span><span style="color:#999999;">(</span><span style="color:#B07D48;">type</span><span style="color:#999999;">: </span><span style="color:#2E8F82;">TYPE</span><span style="color:#999999;">,</span><span style="color:#AB5959;"> </span><span style="color:#B07D48;">path</span><span style="color:#999999;">: </span><span style="color:#2E8F82;">string</span><span style="color:#999999;">)</span><span style="color:#AB5959;"> </span><span style="color:#999999;">=&gt;</span><span style="color:#AB5959;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#AB5959;">  const </span><span style="color:#B07D48;">response</span><span style="color:#AB5959;"> </span><span style="color:#999999;">=</span><span style="color:#AB5959;"> </span><span style="color:#1E754F;">await</span><span style="color:#AB5959;"> </span><span style="color:#59873A;">fetch</span><span style="color:#999999;">(</span><span style="color:#B07D48;">path</span><span style="color:#999999;">)</span></span>
<span class="line"><span style="color:#999999;">  </span><span style="color:#A0ADA0;">//BLOB URL</span></span>
<span class="line"><span style="color:#999999;">  </span><span style="color:#A0ADA0;">// const data = await response.blob()</span></span>
<span class="line"><span style="color:#999999;">  </span><span style="color:#A0ADA0;">// url.value = URL.createObjectURL(data)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#999999;">  </span><span style="color:#A0ADA0;">//Data URL</span></span>
<span class="line"><span style="color:#AB5959;">  const </span><span style="color:#B07D48;">fr</span><span style="color:#AB5959;"> </span><span style="color:#999999;">=</span><span style="color:#AB5959;"> new </span><span style="color:#59873A;">FileReader</span><span style="color:#999999;">()</span></span>
<span class="line"><span style="color:#AB5959;">  </span><span style="color:#B07D48;">fr</span><span style="color:#999999;">.</span><span style="color:#59873A;">onload</span><span style="color:#AB5959;"> </span><span style="color:#999999;">=</span><span style="color:#AB5959;"> </span><span style="color:#999999;">(</span><span style="color:#B07D48;">e</span><span style="color:#999999;">)</span><span style="color:#AB5959;"> </span><span style="color:#999999;">=&gt;</span><span style="color:#AB5959;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#AB5959;">    </span><span style="color:#B07D48;">url</span><span style="color:#999999;">.</span><span style="color:#B07D48;">value</span><span style="color:#AB5959;"> </span><span style="color:#999999;">=</span><span style="color:#AB5959;"> </span><span style="color:#B07D48;">e</span><span style="color:#999999;">.</span><span style="color:#B07D48;">target</span><span style="color:#999999;">?.</span><span style="color:#B07D48;">result</span><span style="color:#AB5959;"> </span><span style="color:#1E754F;">as</span><span style="color:#AB5959;"> </span><span style="color:#2E8F82;">string</span></span>
<span class="line"><span style="color:#AB5959;">  </span><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#AB5959;">  </span><span style="color:#B07D48;">fr</span><span style="color:#999999;">.</span><span style="color:#59873A;">readAsDataURL</span><span style="color:#999999;">(</span><span style="color:#1E754F;">await</span><span style="color:#AB5959;"> </span><span style="color:#B07D48;">response</span><span style="color:#999999;">.</span><span style="color:#59873A;">blob</span><span style="color:#999999;">())</span></span>
<span class="line"><span style="color:#999999;">}</span></span></code></pre></div>`,4),as=f('<h2 id="参考资料" tabindex="-1">参考资料 <a class="header-anchor" href="#参考资料" aria-label="Permalink to &quot;参考资料&quot;">​</a></h2><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Blob" target="_blank" rel="noreferrer">MDN Blob API 参考</a><br><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/File" target="_blank" rel="noreferrer">MDN File API 参考</a><br><a href="https://zhuanlan.zhihu.com/p/568915443" target="_blank" rel="noreferrer">谈谈JS二进制：File、Blob、FileReader、ArrayBuffer、Base64</a></p>',2),os=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"FrontEnd/JavaScript/文件系统.md","filePath":"FrontEnd/JavaScript/文件系统.md"}'),ns={name:"FrontEnd/JavaScript/文件系统.md"},es=Object.assign(ns,{setup(r){return(l,t)=>{const s=x;return C(),d("div",null,[X,i(s,{pkg:"FrontEnd/JavaScript/demo",path:"demo1.vue"},{default:E(()=>[i(j)]),_:1}),Z,i(s,{pkg:"FrontEnd/JavaScript/demo",path:"FilePicker.vue"},{default:E(()=>[i(I)]),_:1}),ss,i(s,{pkg:"FrontEnd/JavaScript/demo",path:"DemoUrl.vue"},{default:E(()=>[i(K)]),_:1}),as])}}});export{os as __pageData,es as default};
