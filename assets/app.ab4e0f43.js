import{d as Y,u as q,o as ve,b as he,l as ze,Z as ye,O as V,K as be,j as X,x as Ee,ab as K,s as D,ac as we,ad as Le,ae as Ce,af as He,ag as Ae,ah as Oe,ai as xe,aj as Se,ak as Te,al as Pe,X as _e,y as Ie,am as Ne,an as ke,ao as je}from"./chunks/framework.fe6e07c1.js";import{t as G}from"./chunks/theme.33727ed0.js";import{D as Me}from"./chunks/DemoWrap.1a5d67bd.js";/*! medium-zoom 1.1.0 | MIT License | https://github.com/francoischalifour/medium-zoom */var b=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var d in r)Object.prototype.hasOwnProperty.call(r,d)&&(n[d]=r[d])}return n},P=function(t){return t.tagName==="IMG"},Re=function(t){return NodeList.prototype.isPrototypeOf(t)},_=function(t){return t&&t.nodeType===1},F=function(t){var r=t.currentSrc||t.src;return r.substr(-4).toLowerCase()===".svg"},U=function(t){try{return Array.isArray(t)?t.filter(P):Re(t)?[].slice.call(t).filter(P):_(t)?[t].filter(P):typeof t=="string"?[].slice.call(document.querySelectorAll(t)).filter(P):[]}catch{throw new TypeError(`The provided selector is invalid.
Expects a CSS selector, a Node element, a NodeList or an array.
See: https://github.com/francoischalifour/medium-zoom`)}},De=function(t){var r=document.createElement("div");return r.classList.add("medium-zoom-overlay"),r.style.background=t,r},$e=function(t){var r=t.getBoundingClientRect(),d=r.top,s=r.left,E=r.width,I=r.height,h=t.cloneNode(),N=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,O=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0;return h.removeAttribute("id"),h.style.position="absolute",h.style.top=d+N+"px",h.style.left=s+O+"px",h.style.width=E+"px",h.style.height=I+"px",h.style.transform="",h},C=function(t,r){var d=b({bubbles:!1,cancelable:!1,detail:void 0},r);if(typeof window.CustomEvent=="function")return new CustomEvent(t,d);var s=document.createEvent("CustomEvent");return s.initCustomEvent(t,d.bubbles,d.cancelable,d.detail),s},Be=function n(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},d=window.Promise||function(o){function a(){}o(a,a)},s=function(o){var a=o.target;if(a===S){z();return}g.indexOf(a)!==-1&&B({target:a})},E=function(){if(!(w||!e.original)){var o=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0;Math.abs(W-o)>m.scrollOffset&&setTimeout(z,150)}},I=function(o){var a=o.key||o.keyCode;(a==="Escape"||a==="Esc"||a===27)&&z()},h=function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=o;if(o.background&&(S.style.background=o.background),o.container&&o.container instanceof Object&&(a.container=b({},m.container,o.container)),o.template){var l=_(o.template)?o.template:document.querySelector(o.template);a.template=l}return m=b({},m,a),g.forEach(function(u){u.dispatchEvent(C("medium-zoom:update",{detail:{zoom:c}}))}),c},N=function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return n(b({},m,o))},O=function(){for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];var u=a.reduce(function(i,f){return[].concat(i,U(f))},[]);return u.filter(function(i){return g.indexOf(i)===-1}).forEach(function(i){g.push(i),i.classList.add("medium-zoom-image")}),x.forEach(function(i){var f=i.type,v=i.listener,L=i.options;u.forEach(function(y){y.addEventListener(f,v,L)})}),c},Q=function(){for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];e.zoomed&&z();var u=a.length>0?a.reduce(function(i,f){return[].concat(i,U(f))},[]):g;return u.forEach(function(i){i.classList.remove("medium-zoom-image"),i.dispatchEvent(C("medium-zoom:detach",{detail:{zoom:c}}))}),g=g.filter(function(i){return u.indexOf(i)===-1}),c},ee=function(o,a){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return g.forEach(function(u){u.addEventListener("medium-zoom:"+o,a,l)}),x.push({type:"medium-zoom:"+o,listener:a,options:l}),c},te=function(o,a){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return g.forEach(function(u){u.removeEventListener("medium-zoom:"+o,a,l)}),x=x.filter(function(u){return!(u.type==="medium-zoom:"+o&&u.listener.toString()===a.toString())}),c},$=function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=o.target,l=function(){var i={width:document.documentElement.clientWidth,height:document.documentElement.clientHeight,left:0,top:0,right:0,bottom:0},f=void 0,v=void 0;if(m.container)if(m.container instanceof Object)i=b({},i,m.container),f=i.width-i.left-i.right-m.margin*2,v=i.height-i.top-i.bottom-m.margin*2;else{var L=_(m.container)?m.container:document.querySelector(m.container),y=L.getBoundingClientRect(),k=y.width,re=y.height,ie=y.left,de=y.top;i=b({},i,{width:k,height:re,left:ie,top:de})}f=f||i.width-m.margin*2,v=v||i.height-m.margin*2;var A=e.zoomedHd||e.original,me=F(A)?f:A.naturalWidth||f,se=F(A)?v:A.naturalHeight||v,T=A.getBoundingClientRect(),le=T.top,ue=T.left,j=T.width,M=T.height,ce=Math.min(Math.max(j,me),f)/j,pe=Math.min(Math.max(M,se),v)/M,R=Math.min(ce,pe),fe=(-ue+(f-j)/2+m.margin+i.left)/R,ge=(-le+(v-M)/2+m.margin+i.top)/R,Z="scale("+R+") translate3d("+fe+"px, "+ge+"px, 0)";e.zoomed.style.transform=Z,e.zoomedHd&&(e.zoomedHd.style.transform=Z)};return new d(function(u){if(a&&g.indexOf(a)===-1){u(c);return}var i=function k(){w=!1,e.zoomed.removeEventListener("transitionend",k),e.original.dispatchEvent(C("medium-zoom:opened",{detail:{zoom:c}})),u(c)};if(e.zoomed){u(c);return}if(a)e.original=a;else if(g.length>0){var f=g;e.original=f[0]}else{u(c);return}if(e.original.dispatchEvent(C("medium-zoom:open",{detail:{zoom:c}})),W=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,w=!0,e.zoomed=$e(e.original),document.body.appendChild(S),m.template){var v=_(m.template)?m.template:document.querySelector(m.template);e.template=document.createElement("div"),e.template.appendChild(v.content.cloneNode(!0)),document.body.appendChild(e.template)}if(e.original.parentElement&&e.original.parentElement.tagName==="PICTURE"&&e.original.currentSrc&&(e.zoomed.src=e.original.currentSrc),document.body.appendChild(e.zoomed),window.requestAnimationFrame(function(){document.body.classList.add("medium-zoom--opened")}),e.original.classList.add("medium-zoom-image--hidden"),e.zoomed.classList.add("medium-zoom-image--opened"),e.zoomed.addEventListener("click",z),e.zoomed.addEventListener("transitionend",i),e.original.getAttribute("data-zoom-src")){e.zoomedHd=e.zoomed.cloneNode(),e.zoomedHd.removeAttribute("srcset"),e.zoomedHd.removeAttribute("sizes"),e.zoomedHd.removeAttribute("loading"),e.zoomedHd.src=e.zoomed.getAttribute("data-zoom-src"),e.zoomedHd.onerror=function(){clearInterval(L),console.warn("Unable to reach the zoom image target "+e.zoomedHd.src),e.zoomedHd=null,l()};var L=setInterval(function(){e.zoomedHd.complete&&(clearInterval(L),e.zoomedHd.classList.add("medium-zoom-image--opened"),e.zoomedHd.addEventListener("click",z),document.body.appendChild(e.zoomedHd),l())},10)}else if(e.original.hasAttribute("srcset")){e.zoomedHd=e.zoomed.cloneNode(),e.zoomedHd.removeAttribute("sizes"),e.zoomedHd.removeAttribute("loading");var y=e.zoomedHd.addEventListener("load",function(){e.zoomedHd.removeEventListener("load",y),e.zoomedHd.classList.add("medium-zoom-image--opened"),e.zoomedHd.addEventListener("click",z),document.body.appendChild(e.zoomedHd),l()})}else l()})},z=function(){return new d(function(o){if(w||!e.original){o(c);return}var a=function l(){e.original.classList.remove("medium-zoom-image--hidden"),document.body.removeChild(e.zoomed),e.zoomedHd&&document.body.removeChild(e.zoomedHd),document.body.removeChild(S),e.zoomed.classList.remove("medium-zoom-image--opened"),e.template&&document.body.removeChild(e.template),w=!1,e.zoomed.removeEventListener("transitionend",l),e.original.dispatchEvent(C("medium-zoom:closed",{detail:{zoom:c}})),e.original=null,e.zoomed=null,e.zoomedHd=null,e.template=null,o(c)};w=!0,document.body.classList.remove("medium-zoom--opened"),e.zoomed.style.transform="",e.zoomedHd&&(e.zoomedHd.style.transform=""),e.template&&(e.template.style.transition="opacity 150ms",e.template.style.opacity=0),e.original.dispatchEvent(C("medium-zoom:close",{detail:{zoom:c}})),e.zoomed.addEventListener("transitionend",a)})},B=function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=o.target;return e.original?z():$({target:a})},ne=function(){return m},oe=function(){return g},ae=function(){return e.original},g=[],x=[],w=!1,W=0,m=r,e={original:null,zoomed:null,zoomedHd:null,template:null};Object.prototype.toString.call(t)==="[object Object]"?m=t:(t||typeof t=="string")&&O(t),m=b({margin:0,background:"#fff",scrollOffset:40,container:null,template:null},m);var S=De(m.background);document.addEventListener("click",s),document.addEventListener("keyup",I),document.addEventListener("scroll",E),window.addEventListener("resize",z);var c={open:$,close:z,toggle:B,update:h,clone:N,attach:O,detach:Q,on:ee,off:te,getOptions:ne,getImages:oe,getZoomedImage:ae};return c};function We(n,t){t===void 0&&(t={});var r=t.insertAt;if(!(!n||typeof document>"u")){var d=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",r==="top"&&d.firstChild?d.insertBefore(s,d.firstChild):d.appendChild(s),s.styleSheet?s.styleSheet.cssText=n:s.appendChild(document.createTextNode(n))}}var Ze=".medium-zoom-overlay{position:fixed;top:0;right:0;bottom:0;left:0;opacity:0;transition:opacity .3s;will-change:opacity}.medium-zoom--opened .medium-zoom-overlay{cursor:pointer;cursor:zoom-out;opacity:1}.medium-zoom-image{cursor:pointer;cursor:zoom-in;transition:transform .3s cubic-bezier(.2,0,.2,1)!important}.medium-zoom-image--hidden{visibility:hidden}.medium-zoom-image--opened{position:relative;cursor:pointer;cursor:zoom-out;will-change:transform}";We(Ze);const Fe=Be,Ue=Y({__name:"UnoCSSLayout",setup(n){const{isDark:t}=q();function r(){return"startViewTransition"in document&&window.matchMedia("(prefers-reduced-motion: no-preference)").matches}return ye("toggle-appearance",async({clientX:d,clientY:s})=>{if(!r()){t.value=!t.value;return}const E=[`circle(0px at ${d}px ${s}px)`,`circle(${Math.hypot(Math.max(d,innerWidth-d),Math.max(s,innerHeight-s))}px at ${d}px ${s}px)`];await document.startViewTransition(async()=>{t.value=!t.value,await V()}).ready,document.documentElement.animate({clipPath:t.value?E.reverse():E},{duration:300,easing:"ease-in",pseudoElement:`::view-transition-${t.value?"old":"new"}(root)`})}),(d,s)=>(ve(),he(ze(G).Layout))}}),Ye={...G,setup(){const n=be(),t=()=>{new Fe("[data-zoomable]",{background:"var(--vp-c-bg)"})};X(()=>{t()}),Ee(()=>n.path,()=>V(()=>t()))},Layout:()=>K(Ue,null,{}),enhanceApp(n){n.app.component("DemoWrap",Me)}};function J(n){if(n.extends){const t=J(n.extends);return{...t,...n,async enhanceApp(r){t.enhanceApp&&await t.enhanceApp(r),n.enhanceApp&&await n.enhanceApp(r)}}}return n}const H=J(Ye),qe=Y({name:"VitePressApp",setup(){const{site:n}=q();return X(()=>{Ie(()=>{document.documentElement.lang=n.value.lang,document.documentElement.dir=n.value.dir})}),Ne(),ke(),je(),H.setup&&H.setup(),()=>K(H.Layout)}});async function Ve(){const n=Ke(),t=Xe();t.provide(Le,n);const r=Ce(n.route);return t.provide(He,r),t.component("Content",Ae),t.component("ClientOnly",Oe),Object.defineProperties(t.config.globalProperties,{$frontmatter:{get(){return r.frontmatter.value}},$params:{get(){return r.page.value.params}}}),H.enhanceApp&&await H.enhanceApp({app:t,router:n,siteData:xe}),{app:t,router:n,data:r}}function Xe(){return Se(qe)}function Ke(){let n=D,t;return Te(r=>{let d=Pe(r),s=null;return d&&(n&&(t=d),(n||t===d)&&(d=d.replace(/\.js$/,".lean.js")),s=_e(()=>import(d),[])),D&&(n=!1),s},H.NotFound)}D&&Ve().then(({app:n,router:t,data:r})=>{t.go().then(()=>{we(t.route,r.site),n.mount("#app")})});export{Ve as createApp};
