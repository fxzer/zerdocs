import{_ as s,o as a,c as n,Q as l}from"./chunks/framework.d2d9e35b.js";const g=JSON.parse('{"title":"Git常用操作","description":"","frontmatter":{},"headers":[],"relativePath":"FrontEnd/Git/Git常用操作.md","filePath":"FrontEnd/Git/Git常用操作.md"}'),o={name:"FrontEnd/Git/Git常用操作.md"},p=l(`<h1 id="git常用操作" tabindex="-1">Git常用操作 <a class="header-anchor" href="#git常用操作" aria-label="Permalink to &quot;Git常用操作&quot;">​</a></h1><h2 id="拉取最新提交" tabindex="-1">拉取最新提交 <a class="header-anchor" href="#拉取最新提交" aria-label="Permalink to &quot;拉取最新提交&quot;">​</a></h2><div class="language-zsh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">zsh</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#80A665;">git</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D;">fetch</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C99076;">-p</span><span style="color:#DBD7CAEE;">  </span><span style="color:#758575DD;">#或 git fetch -p origin</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#393A34;">  </span><span style="color:#59873A;">git</span><span style="color:#393A34;"> </span><span style="color:#B56959;">fetch</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">-p</span><span style="color:#393A34;">  </span><span style="color:#A0ADA0;">#或 git fetch -p origin</span></span></code></pre></div><p><code>git fetch -p</code> （或者 <code>--prune</code>）命令用于从远程仓库中拉取最新的提交记录，同时也会删除 <em>本地不存在的远程分支</em>；不会更新本地分支和远程分支之间的关联关系，需要手动执行 <code>git merge</code> 或 <code>git rebase</code> 命令，或者使用 <code>git pull</code> 命令。例：删除远程 <code>dev</code>分支后，使用此命令，本地的远程分支也会被清理。</p><p><code>git fetch</code> 命令用于将远程仓库中的最新提交记录拉取到本地仓库中，但是不会自动合并（merge）这些提交；不会删除本地不存在的远程分支，可能会导致本地分支列表过长，不便于管理。</p><h2 id="删除远程分支" tabindex="-1">删除远程分支 <a class="header-anchor" href="#删除远程分支" aria-label="Permalink to &quot;删除远程分支&quot;">​</a></h2><div class="language-zsh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">zsh</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#80A665;">git</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D;">branch</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D;">/</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D;">git</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D;">branch</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C99076;">-r</span><span style="color:#DBD7CAEE;">        </span><span style="color:#758575DD;">#列出所有本地/远程分支</span></span>
<span class="line"><span style="color:#80A665;">git</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D;">branch</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C99076;">-D</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D;">分支名</span><span style="color:#DBD7CAEE;">              </span><span style="color:#758575DD;">#删除本地库分支</span></span>
<span class="line"><span style="color:#80A665;">git</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D;">push</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D;">origin</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C99076;">--delete</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D;">分支名</span><span style="color:#DBD7CAEE;">   </span><span style="color:#758575DD;">#删除远程库分支</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#59873A;">git</span><span style="color:#393A34;"> </span><span style="color:#B56959;">branch</span><span style="color:#393A34;"> </span><span style="color:#B56959;">/</span><span style="color:#393A34;"> </span><span style="color:#B56959;">git</span><span style="color:#393A34;"> </span><span style="color:#B56959;">branch</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">-r</span><span style="color:#393A34;">        </span><span style="color:#A0ADA0;">#列出所有本地/远程分支</span></span>
<span class="line"><span style="color:#59873A;">git</span><span style="color:#393A34;"> </span><span style="color:#B56959;">branch</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">-D</span><span style="color:#393A34;"> </span><span style="color:#B56959;">分支名</span><span style="color:#393A34;">              </span><span style="color:#A0ADA0;">#删除本地库分支</span></span>
<span class="line"><span style="color:#59873A;">git</span><span style="color:#393A34;"> </span><span style="color:#B56959;">push</span><span style="color:#393A34;"> </span><span style="color:#B56959;">origin</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">--delete</span><span style="color:#393A34;"> </span><span style="color:#B56959;">分支名</span><span style="color:#393A34;">   </span><span style="color:#A0ADA0;">#删除远程库分支</span></span></code></pre></div><h2 id="删除tag" tabindex="-1">删除Tag <a class="header-anchor" href="#删除tag" aria-label="Permalink to &quot;删除Tag&quot;">​</a></h2><div class="language-zsh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">zsh</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#80A665;">git</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D;">tag</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C99076;">-l</span><span style="color:#DBD7CAEE;">                       </span><span style="color:#758575DD;">#列出所有本地/远程tag</span></span>
<span class="line"><span style="color:#80A665;">git</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D;">tag</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C99076;">-D</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D;">tag名</span><span style="color:#DBD7CAEE;">                 </span><span style="color:#758575DD;">#删除本地库tag</span></span>
<span class="line"><span style="color:#80A665;">git</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D;">push</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D;">origin</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C99076;">--delete</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D;">tag名</span><span style="color:#DBD7CAEE;">   </span><span style="color:#758575DD;">#删除远程库tag</span></span>
<span class="line"><span style="color:#80A665;">git</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D;">tag</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C99076;">-l</span><span style="color:#DBD7CAEE;"> </span><span style="color:#CB7676;">|</span><span style="color:#DBD7CAEE;"> </span><span style="color:#80A665;">xargs</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D;">git</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D;">tag</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C99076;">-d</span><span style="color:#DBD7CAEE;">   </span><span style="color:#758575DD;">#删除本地所有 tag</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#59873A;">git</span><span style="color:#393A34;"> </span><span style="color:#B56959;">tag</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">-l</span><span style="color:#393A34;">                       </span><span style="color:#A0ADA0;">#列出所有本地/远程tag</span></span>
<span class="line"><span style="color:#59873A;">git</span><span style="color:#393A34;"> </span><span style="color:#B56959;">tag</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">-D</span><span style="color:#393A34;"> </span><span style="color:#B56959;">tag名</span><span style="color:#393A34;">                 </span><span style="color:#A0ADA0;">#删除本地库tag</span></span>
<span class="line"><span style="color:#59873A;">git</span><span style="color:#393A34;"> </span><span style="color:#B56959;">push</span><span style="color:#393A34;"> </span><span style="color:#B56959;">origin</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">--delete</span><span style="color:#393A34;"> </span><span style="color:#B56959;">tag名</span><span style="color:#393A34;">   </span><span style="color:#A0ADA0;">#删除远程库tag</span></span>
<span class="line"><span style="color:#59873A;">git</span><span style="color:#393A34;"> </span><span style="color:#B56959;">tag</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">-l</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">|</span><span style="color:#393A34;"> </span><span style="color:#59873A;">xargs</span><span style="color:#393A34;"> </span><span style="color:#B56959;">git</span><span style="color:#393A34;"> </span><span style="color:#B56959;">tag</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">-d</span><span style="color:#393A34;">   </span><span style="color:#A0ADA0;">#删除本地所有 tag</span></span></code></pre></div><h2 id="删除添加到暂存区的文件" tabindex="-1">删除添加到暂存区的文件 <a class="header-anchor" href="#删除添加到暂存区的文件" aria-label="Permalink to &quot;删除添加到暂存区的文件&quot;">​</a></h2><div class="language-zsh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">zsh</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#80A665;">git</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D;">rm</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C99076;">-r</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C99076;">-n</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C99076;">--cached</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D;">文件/文件夹名称</span><span style="color:#DBD7CAEE;">   </span><span style="color:#758575DD;">#预览要删除的文件列表</span></span>
<span class="line"><span style="color:#80A665;">git</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D;">rm</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C99076;">-r</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C99076;">--cached</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D;">文件/文件夹名称</span><span style="color:#DBD7CAEE;">      </span><span style="color:#758575DD;">#确定无误后删除文件</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#59873A;">git</span><span style="color:#393A34;"> </span><span style="color:#B56959;">rm</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">-r</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">-n</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">--cached</span><span style="color:#393A34;"> </span><span style="color:#B56959;">文件/文件夹名称</span><span style="color:#393A34;">   </span><span style="color:#A0ADA0;">#预览要删除的文件列表</span></span>
<span class="line"><span style="color:#59873A;">git</span><span style="color:#393A34;"> </span><span style="color:#B56959;">rm</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">-r</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">--cached</span><span style="color:#393A34;"> </span><span style="color:#B56959;">文件/文件夹名称</span><span style="color:#393A34;">      </span><span style="color:#A0ADA0;">#确定无误后删除文件</span></span></code></pre></div><h2 id="删除本地仓库文件" tabindex="-1">删除本地仓库文件 <a class="header-anchor" href="#删除本地仓库文件" aria-label="Permalink to &quot;删除本地仓库文件&quot;">​</a></h2><div class="language-zsh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">zsh</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#80A665;">git</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D;">reset</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D;">HEAD^1</span><span style="color:#DBD7CAEE;">  </span><span style="color:#758575DD;">#上一个提交的所有文件回退到工作区， 处于未添加到暂存库状态</span></span>
<span class="line"><span style="color:#80A665;">git</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D;">reset</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C99076;">--hard</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D;">HEAD^1</span><span style="color:#DBD7CAEE;">  </span><span style="color:#758575DD;">#回退到上一个版本:最新一次提交的所有内容都被删除，本地文件也不存在</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#59873A;">git</span><span style="color:#393A34;"> </span><span style="color:#B56959;">reset</span><span style="color:#393A34;"> </span><span style="color:#B56959;">HEAD^1</span><span style="color:#393A34;">  </span><span style="color:#A0ADA0;">#上一个提交的所有文件回退到工作区， 处于未添加到暂存库状态</span></span>
<span class="line"><span style="color:#59873A;">git</span><span style="color:#393A34;"> </span><span style="color:#B56959;">reset</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">--hard</span><span style="color:#393A34;"> </span><span style="color:#B56959;">HEAD^1</span><span style="color:#393A34;">  </span><span style="color:#A0ADA0;">#回退到上一个版本:最新一次提交的所有内容都被删除，本地文件也不存在</span></span></code></pre></div><h2 id="删除远程库文件" tabindex="-1">删除远程库文件 <a class="header-anchor" href="#删除远程库文件" aria-label="Permalink to &quot;删除远程库文件&quot;">​</a></h2><div class="language-zsh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">zsh</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#80A665;">git</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D;">push</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D;">origin</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C99076;">--delete</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D;">node_modules</span><span style="color:#DBD7CAEE;">  </span><span style="color:#758575DD;">#git push &lt;远程仓库名称&gt; --delete &lt;文件路径&gt;</span></span>
<span class="line"><span style="color:#80A665;">git</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D;">ls-remote</span><span style="color:#DBD7CAEE;">  </span><span style="color:#758575DD;">#确认文件是否成功删除</span></span>
<span class="line"><span style="color:#80A665;">git</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D;">rebase</span><span style="color:#DBD7CAEE;"> </span><span style="color:#758575DD;">#变更历史记录</span></span>
<span class="line"><span style="color:#80A665;">git</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D;">remote</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D;">prune</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D;">origin</span><span style="color:#DBD7CAEE;">  </span><span style="color:#758575DD;"># git remote prune &lt;远程仓库名称&gt; : 理远程仓库中已删除文件的缓存</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#59873A;">git</span><span style="color:#393A34;"> </span><span style="color:#B56959;">push</span><span style="color:#393A34;"> </span><span style="color:#B56959;">origin</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">--delete</span><span style="color:#393A34;"> </span><span style="color:#B56959;">node_modules</span><span style="color:#393A34;">  </span><span style="color:#A0ADA0;">#git push &lt;远程仓库名称&gt; --delete &lt;文件路径&gt;</span></span>
<span class="line"><span style="color:#59873A;">git</span><span style="color:#393A34;"> </span><span style="color:#B56959;">ls-remote</span><span style="color:#393A34;">  </span><span style="color:#A0ADA0;">#确认文件是否成功删除</span></span>
<span class="line"><span style="color:#59873A;">git</span><span style="color:#393A34;"> </span><span style="color:#B56959;">rebase</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">#变更历史记录</span></span>
<span class="line"><span style="color:#59873A;">git</span><span style="color:#393A34;"> </span><span style="color:#B56959;">remote</span><span style="color:#393A34;"> </span><span style="color:#B56959;">prune</span><span style="color:#393A34;"> </span><span style="color:#B56959;">origin</span><span style="color:#393A34;">  </span><span style="color:#A0ADA0;"># git remote prune &lt;远程仓库名称&gt; : 理远程仓库中已删除文件的缓存</span></span></code></pre></div><h2 id="fork后的仓库-拉取合并原仓库的更新" tabindex="-1">fork后的仓库，拉取合并原仓库的更新 <a class="header-anchor" href="#fork后的仓库-拉取合并原仓库的更新" aria-label="Permalink to &quot;fork后的仓库，拉取合并原仓库的更新&quot;">​</a></h2><div class="language-zsh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">zsh</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#80A665;">git</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D;">remote</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D;">add</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D;">upstream</span><span style="color:#DBD7CAEE;"> [原仓库URL] </span><span style="color:#758575DD;">#添加上游分支路径</span></span>
<span class="line"><span style="color:#80A665;">git</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D;">pull</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D;">upstream</span><span style="color:#DBD7CAEE;"> [分支名]          </span><span style="color:#758575DD;">#拉取上游分支更新并合并</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#59873A;">git</span><span style="color:#393A34;"> </span><span style="color:#B56959;">remote</span><span style="color:#393A34;"> </span><span style="color:#B56959;">add</span><span style="color:#393A34;"> </span><span style="color:#B56959;">upstream</span><span style="color:#393A34;"> [原仓库URL] </span><span style="color:#A0ADA0;">#添加上游分支路径</span></span>
<span class="line"><span style="color:#59873A;">git</span><span style="color:#393A34;"> </span><span style="color:#B56959;">pull</span><span style="color:#393A34;"> </span><span style="color:#B56959;">upstream</span><span style="color:#393A34;"> [分支名]          </span><span style="color:#A0ADA0;">#拉取上游分支更新并合并</span></span></code></pre></div><h2 id="合并多次提交" tabindex="-1">合并多次提交 <a class="header-anchor" href="#合并多次提交" aria-label="Permalink to &quot;合并多次提交&quot;">​</a></h2><div class="language-zsh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">zsh</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#80A665;">git</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D;">rebase</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C99076;">-i</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D;">HEAD~3</span><span style="color:#DBD7CAEE;">        </span><span style="color:#758575DD;">#合并最近的 3 次提交，并开启交互模式</span></span>
<span class="line"><span style="color:#80A665;">git</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D;">rebase</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C99076;">-i</span><span style="color:#DBD7CAEE;"> </span><span style="color:#CB7676;">&lt;</span><span style="color:#C98A7D;">commit_sh</span><span style="color:#DBD7CAEE;">a</span><span style="color:#CB7676;">&gt;</span><span style="color:#DBD7CAEE;">  </span><span style="color:#758575DD;">#开启交互模式</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#59873A;">git</span><span style="color:#393A34;"> </span><span style="color:#B56959;">rebase</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">-i</span><span style="color:#393A34;"> </span><span style="color:#B56959;">HEAD~3</span><span style="color:#393A34;">        </span><span style="color:#A0ADA0;">#合并最近的 3 次提交，并开启交互模式</span></span>
<span class="line"><span style="color:#59873A;">git</span><span style="color:#393A34;"> </span><span style="color:#B56959;">rebase</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">-i</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">&lt;</span><span style="color:#B56959;">commit_sh</span><span style="color:#393A34;">a</span><span style="color:#AB5959;">&gt;</span><span style="color:#393A34;">  </span><span style="color:#A0ADA0;">#开启交互模式</span></span></code></pre></div><div class="language-zsh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">zsh</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#80A665;">git</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D;">rebase</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C99076;">-i</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">8</span><span style="color:#C98A7D;">fc6389</span><span style="color:#DBD7CAEE;">   </span><span style="color:#758575DD;">#填第2 次提交的 hash，则表示合并 2 之后（3和 4）的提交</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#59873A;">git</span><span style="color:#393A34;"> </span><span style="color:#B56959;">rebase</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">-i</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">8</span><span style="color:#B56959;">fc6389</span><span style="color:#393A34;">   </span><span style="color:#A0ADA0;">#填第2 次提交的 hash，则表示合并 2 之后（3和 4）的提交</span></span></code></pre></div><p><img src="https://zerdocs.oss-cn-shanghai.aliyuncs.com/febasis/202302272058564.png" alt="image-20230227205854474"></p><p>把需要压缩的提交 <code>pick </code> 改为 <code>s</code>，必须保留一个 <code>pick</code>，下一步填写合并提交信息，保存退出(<code>:wq</code>)完成合并</p><p><img src="https://zerdocs.oss-cn-shanghai.aliyuncs.com/febasis/202302271055952.png" alt="image-20230227105523929"></p><p><img src="https://zerdocs.oss-cn-shanghai.aliyuncs.com/febasis/202302272059457.png" alt="image-20230227205916425"></p><h2 id="关联多个代码托管平台" tabindex="-1">关联多个代码托管平台 <a class="header-anchor" href="#关联多个代码托管平台" aria-label="Permalink to &quot;关联多个代码托管平台&quot;">​</a></h2><blockquote><p>当本地仓库项同时关联 github 和 gitee，同步更新两边代码</p></blockquote><ol><li><strong>方法一</strong> <code> git remote add gitee [gitee_repo_url]</code>，需要多次推送</li></ol><p>效果：</p><div class="language-zsh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">zsh</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#666666;">[</span><span style="color:#DBD7CAEE;">branch </span><span style="color:#C98A7D99;">&quot;</span><span style="color:#C98A7D;">master</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#666666;">]</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#80A665;">remote</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D;">origin</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#80A665;">merge</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D;">refs/heads/master</span></span>
<span class="line"><span style="color:#666666;">[</span><span style="color:#DBD7CAEE;">remote </span><span style="color:#C98A7D99;">&quot;</span><span style="color:#C98A7D;">origin</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#666666;">]</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#80A665;">url</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D;">git@github.com:fxzer/juejin-server-mysql.git</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#80A665;">fetch</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D;">+refs/heads/</span><span style="color:#C99076;">*</span><span style="color:#C98A7D;">:refs/remotes/origin/</span><span style="color:#C99076;">*</span></span>
<span class="line"><span style="color:#666666;">[</span><span style="color:#DBD7CAEE;">remote </span><span style="color:#C98A7D99;">&quot;</span><span style="color:#C98A7D;">gitee</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#666666;">]</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#80A665;">url</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D;">git@gitee.com:fxzer/juejin-server-mysql.git</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#80A665;">fetch</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D;">+refs/heads/</span><span style="color:#C99076;">*</span><span style="color:#C98A7D;">:refs/remotes/gitee/</span><span style="color:#C99076;">*</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#999999;">[</span><span style="color:#393A34;">branch </span><span style="color:#B5695999;">&quot;</span><span style="color:#B56959;">master</span><span style="color:#B5695999;">&quot;</span><span style="color:#999999;">]</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#59873A;">remote</span><span style="color:#393A34;"> </span><span style="color:#B56959;">=</span><span style="color:#393A34;"> </span><span style="color:#B56959;">origin</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#59873A;">merge</span><span style="color:#393A34;"> </span><span style="color:#B56959;">=</span><span style="color:#393A34;"> </span><span style="color:#B56959;">refs/heads/master</span></span>
<span class="line"><span style="color:#999999;">[</span><span style="color:#393A34;">remote </span><span style="color:#B5695999;">&quot;</span><span style="color:#B56959;">origin</span><span style="color:#B5695999;">&quot;</span><span style="color:#999999;">]</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#59873A;">url</span><span style="color:#393A34;"> </span><span style="color:#B56959;">=</span><span style="color:#393A34;"> </span><span style="color:#B56959;">git@github.com:fxzer/juejin-server-mysql.git</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#59873A;">fetch</span><span style="color:#393A34;"> </span><span style="color:#B56959;">=</span><span style="color:#393A34;"> </span><span style="color:#B56959;">+refs/heads/</span><span style="color:#A65E2B;">*</span><span style="color:#B56959;">:refs/remotes/origin/</span><span style="color:#A65E2B;">*</span></span>
<span class="line"><span style="color:#999999;">[</span><span style="color:#393A34;">remote </span><span style="color:#B5695999;">&quot;</span><span style="color:#B56959;">gitee</span><span style="color:#B5695999;">&quot;</span><span style="color:#999999;">]</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#59873A;">url</span><span style="color:#393A34;"> </span><span style="color:#B56959;">=</span><span style="color:#393A34;"> </span><span style="color:#B56959;">git@gitee.com:fxzer/juejin-server-mysql.git</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#59873A;">fetch</span><span style="color:#393A34;"> </span><span style="color:#B56959;">=</span><span style="color:#393A34;"> </span><span style="color:#B56959;">+refs/heads/</span><span style="color:#A65E2B;">*</span><span style="color:#B56959;">:refs/remotes/gitee/</span><span style="color:#A65E2B;">*</span></span></code></pre></div><div class="language-zsh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">zsh</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#758575DD;">#git remote -v</span></span>
<span class="line"><span style="color:#80A665;">gitee</span><span style="color:#DBD7CAEE;">   </span><span style="color:#C98A7D;">git@gitee.com:fxzer/juejin-server-mysql.git</span><span style="color:#DBD7CAEE;"> (fetch)</span></span>
<span class="line"><span style="color:#80A665;">gitee</span><span style="color:#DBD7CAEE;">   </span><span style="color:#C98A7D;">git@gitee.com:fxzer/juejin-server-mysql.git</span><span style="color:#DBD7CAEE;"> (push)</span></span>
<span class="line"><span style="color:#80A665;">origin</span><span style="color:#DBD7CAEE;">  </span><span style="color:#C98A7D;">git@github.com:fxzer/juejin-server-mysql.git</span><span style="color:#DBD7CAEE;"> (fetch)</span></span>
<span class="line"><span style="color:#80A665;">origin</span><span style="color:#DBD7CAEE;">  </span><span style="color:#C98A7D;">git@github.com:fxzer/juejin-server-mysql.git</span><span style="color:#DBD7CAEE;"> (push)</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#A0ADA0;">#git remote -v</span></span>
<span class="line"><span style="color:#59873A;">gitee</span><span style="color:#393A34;">   </span><span style="color:#B56959;">git@gitee.com:fxzer/juejin-server-mysql.git</span><span style="color:#393A34;"> (fetch)</span></span>
<span class="line"><span style="color:#59873A;">gitee</span><span style="color:#393A34;">   </span><span style="color:#B56959;">git@gitee.com:fxzer/juejin-server-mysql.git</span><span style="color:#393A34;"> (push)</span></span>
<span class="line"><span style="color:#59873A;">origin</span><span style="color:#393A34;">  </span><span style="color:#B56959;">git@github.com:fxzer/juejin-server-mysql.git</span><span style="color:#393A34;"> (fetch)</span></span>
<span class="line"><span style="color:#59873A;">origin</span><span style="color:#393A34;">  </span><span style="color:#B56959;">git@github.com:fxzer/juejin-server-mysql.git</span><span style="color:#393A34;"> (push)</span></span></code></pre></div><ol start="2"><li><strong>方法二</strong> <code>git remote set-url --add origin [gitee_repo_url]</code> , 只需一次推送</li></ol><p>效果：~</p><div class="language-zsh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">zsh</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#666666;">[</span><span style="color:#DBD7CAEE;">remote </span><span style="color:#C98A7D99;">&quot;</span><span style="color:#C98A7D;">origin</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#666666;">]</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#80A665;">url</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D;">git@github.com:fxzer/json-viewer.git</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#80A665;">fetch</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D;">+refs/heads/</span><span style="color:#C99076;">*</span><span style="color:#C98A7D;">:refs/remotes/origin/</span><span style="color:#C99076;">*</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#80A665;">url</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D;">git@gitee.com:fxzer/json-viewer.git</span></span>
<span class="line"><span style="color:#666666;">[</span><span style="color:#DBD7CAEE;">branch </span><span style="color:#C98A7D99;">&quot;</span><span style="color:#C98A7D;">master</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#666666;">]</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#80A665;">remote</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D;">origin</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#80A665;">merge</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D;">refs/heads/master</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#999999;">[</span><span style="color:#393A34;">remote </span><span style="color:#B5695999;">&quot;</span><span style="color:#B56959;">origin</span><span style="color:#B5695999;">&quot;</span><span style="color:#999999;">]</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#59873A;">url</span><span style="color:#393A34;"> </span><span style="color:#B56959;">=</span><span style="color:#393A34;"> </span><span style="color:#B56959;">git@github.com:fxzer/json-viewer.git</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#59873A;">fetch</span><span style="color:#393A34;"> </span><span style="color:#B56959;">=</span><span style="color:#393A34;"> </span><span style="color:#B56959;">+refs/heads/</span><span style="color:#A65E2B;">*</span><span style="color:#B56959;">:refs/remotes/origin/</span><span style="color:#A65E2B;">*</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#59873A;">url</span><span style="color:#393A34;"> </span><span style="color:#B56959;">=</span><span style="color:#393A34;"> </span><span style="color:#B56959;">git@gitee.com:fxzer/json-viewer.git</span></span>
<span class="line"><span style="color:#999999;">[</span><span style="color:#393A34;">branch </span><span style="color:#B5695999;">&quot;</span><span style="color:#B56959;">master</span><span style="color:#B5695999;">&quot;</span><span style="color:#999999;">]</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#59873A;">remote</span><span style="color:#393A34;"> </span><span style="color:#B56959;">=</span><span style="color:#393A34;"> </span><span style="color:#B56959;">origin</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#59873A;">merge</span><span style="color:#393A34;"> </span><span style="color:#B56959;">=</span><span style="color:#393A34;"> </span><span style="color:#B56959;">refs/heads/master</span></span></code></pre></div><div class="language-zsh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">zsh</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#758575DD;">#git remote -v</span></span>
<span class="line"><span style="color:#80A665;">origin</span><span style="color:#DBD7CAEE;">  </span><span style="color:#C98A7D;">git@github.com:fxzer/json-viewer.git</span><span style="color:#DBD7CAEE;"> (fetch)</span></span>
<span class="line"><span style="color:#80A665;">origin</span><span style="color:#DBD7CAEE;">  </span><span style="color:#C98A7D;">git@github.com:fxzer/json-viewer.git</span><span style="color:#DBD7CAEE;"> (push)</span></span>
<span class="line"><span style="color:#80A665;">origin</span><span style="color:#DBD7CAEE;">  </span><span style="color:#C98A7D;">git@gitee.com:fxzer/json-viewer.git</span><span style="color:#DBD7CAEE;"> (push)</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#A0ADA0;">#git remote -v</span></span>
<span class="line"><span style="color:#59873A;">origin</span><span style="color:#393A34;">  </span><span style="color:#B56959;">git@github.com:fxzer/json-viewer.git</span><span style="color:#393A34;"> (fetch)</span></span>
<span class="line"><span style="color:#59873A;">origin</span><span style="color:#393A34;">  </span><span style="color:#B56959;">git@github.com:fxzer/json-viewer.git</span><span style="color:#393A34;"> (push)</span></span>
<span class="line"><span style="color:#59873A;">origin</span><span style="color:#393A34;">  </span><span style="color:#B56959;">git@gitee.com:fxzer/json-viewer.git</span><span style="color:#393A34;"> (push)</span></span></code></pre></div><div class="tip custom-block"><p class="custom-block-title"><code>git remote add</code> 和 <code>git remote set-url --add</code>区别</p><ul><li>git remote add 用于添加一个新的远程仓库。该本地仓库已关联远程库，希望添加新的远程库。**运用：**fork后的仓库，需要拉取合并原仓库的更新。</li><li>git remote set-url --add 用于向已经存在的远程仓库中添加一个新的 URL。**运用：**同一个仓库关联 github 和 gitee 方便同时更新。</li><li>git remote set-url 命令会替换掉原有的链接，git remote set-url --add 命令，则是添加一个标识对应的远程库链接。</li></ul></div><h2 id="改错分支但为未提交" tabindex="-1">改错分支但为未提交 <a class="header-anchor" href="#改错分支但为未提交" aria-label="Permalink to &quot;改错分支但为未提交&quot;">​</a></h2><div class="language-zsh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">zsh</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#80A665;">git</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D;">stash</span><span style="color:#DBD7CAEE;">            </span><span style="color:#758575DD;">#暂存更改到stash</span></span>
<span class="line"><span style="color:#80A665;">git</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D;">checkout</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D;">分支名</span><span style="color:#DBD7CAEE;">   </span><span style="color:#758575DD;">#切换分支</span></span>
<span class="line"><span style="color:#80A665;">git</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D;">stash</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D;">pop</span><span style="color:#DBD7CAEE;">        </span><span style="color:#758575DD;">#从stash中取出暂存的代码修改</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#59873A;">git</span><span style="color:#393A34;"> </span><span style="color:#B56959;">stash</span><span style="color:#393A34;">            </span><span style="color:#A0ADA0;">#暂存更改到stash</span></span>
<span class="line"><span style="color:#59873A;">git</span><span style="color:#393A34;"> </span><span style="color:#B56959;">checkout</span><span style="color:#393A34;"> </span><span style="color:#B56959;">分支名</span><span style="color:#393A34;">   </span><span style="color:#A0ADA0;">#切换分支</span></span>
<span class="line"><span style="color:#59873A;">git</span><span style="color:#393A34;"> </span><span style="color:#B56959;">stash</span><span style="color:#393A34;"> </span><span style="color:#B56959;">pop</span><span style="color:#393A34;">        </span><span style="color:#A0ADA0;">#从stash中取出暂存的代码修改</span></span></code></pre></div><h2 id="提交完未推送前-需要再次提交" tabindex="-1">提交完未推送前，需要再次提交 <a class="header-anchor" href="#提交完未推送前-需要再次提交" aria-label="Permalink to &quot;提交完未推送前，需要再次提交&quot;">​</a></h2><ul><li>提交完未推送前，发现代码有的有点小问题，还需要修改再提交，但是不想新增垃圾提交信息，保持简洁。</li><li>只需要修改提交的内容而不需要改变提交信息， 可以使用 --no-edit 参数来跳过编辑提交信息的步骤。</li></ul><div class="language-zsh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">zsh</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#80A665;">git</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D;">commit</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C99076;">--amend</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C99076;">--no-edit</span><span style="color:#DBD7CAEE;"> </span><span style="color:#758575DD;"># 做的修改合并到最近的提交中，相当于是在原有的提交上进行修改，而不是创建一个新的提交。</span></span>
<span class="line"></span>
<span class="line"><span style="color:#758575DD;"># 使用后在拉取代码会出现：位于分支 master</span></span>
<span class="line"><span style="color:#758575DD;"># 您的分支和 &#39;origin/master&#39; 出现了偏离，</span></span>
<span class="line"><span style="color:#758575DD;"># 并且分别有 1 和 1 处不同的提交。</span></span>
<span class="line"><span style="color:#758575DD;">#   （使用 &quot;git pull&quot; 来合并远程分支）</span></span>
<span class="line"><span style="color:#DBD7CAEE;"> </span><span style="color:#80A665;">git</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D;">config</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D;">pull.rebase</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">true</span><span style="color:#DBD7CAEE;">   </span><span style="color:#758575DD;"># git pull前，需要执行此命令进行变基</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#59873A;">git</span><span style="color:#393A34;"> </span><span style="color:#B56959;">commit</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">--amend</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">--no-edit</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;"># 做的修改合并到最近的提交中，相当于是在原有的提交上进行修改，而不是创建一个新的提交。</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A0ADA0;"># 使用后在拉取代码会出现：位于分支 master</span></span>
<span class="line"><span style="color:#A0ADA0;"># 您的分支和 &#39;origin/master&#39; 出现了偏离，</span></span>
<span class="line"><span style="color:#A0ADA0;"># 并且分别有 1 和 1 处不同的提交。</span></span>
<span class="line"><span style="color:#A0ADA0;">#   （使用 &quot;git pull&quot; 来合并远程分支）</span></span>
<span class="line"><span style="color:#393A34;"> </span><span style="color:#59873A;">git</span><span style="color:#393A34;"> </span><span style="color:#B56959;">config</span><span style="color:#393A34;"> </span><span style="color:#B56959;">pull.rebase</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">true</span><span style="color:#393A34;">   </span><span style="color:#A0ADA0;"># git pull前，需要执行此命令进行变基</span></span></code></pre></div><h2 id="修改第一次提交信息" tabindex="-1">修改第一次提交信息 <a class="header-anchor" href="#修改第一次提交信息" aria-label="Permalink to &quot;修改第一次提交信息&quot;">​</a></h2><div class="language-zsh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">zsh</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#80A665;">git</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D;">rebase</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C99076;">-i</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C99076;">--root</span><span style="color:#DBD7CAEE;">  </span><span style="color:#758575DD;">#把第一次提交的 pick 改为 edit 后 e</span></span>
<span class="line"><span style="color:#80A665;">git</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D;">rebase</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C99076;">--continue</span></span>
<span class="line"><span style="color:#80A665;">git</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D;">rebase</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D;">pull.rebase</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">true</span></span>
<span class="line"><span style="color:#80A665;">git</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D;">pull</span></span>
<span class="line"><span style="color:#80A665;">git</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D;">push</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#59873A;">git</span><span style="color:#393A34;"> </span><span style="color:#B56959;">rebase</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">-i</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">--root</span><span style="color:#393A34;">  </span><span style="color:#A0ADA0;">#把第一次提交的 pick 改为 edit 后 e</span></span>
<span class="line"><span style="color:#59873A;">git</span><span style="color:#393A34;"> </span><span style="color:#B56959;">rebase</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">--continue</span></span>
<span class="line"><span style="color:#59873A;">git</span><span style="color:#393A34;"> </span><span style="color:#B56959;">rebase</span><span style="color:#393A34;"> </span><span style="color:#B56959;">pull.rebase</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">true</span></span>
<span class="line"><span style="color:#59873A;">git</span><span style="color:#393A34;"> </span><span style="color:#B56959;">pull</span></span>
<span class="line"><span style="color:#59873A;">git</span><span style="color:#393A34;"> </span><span style="color:#B56959;">push</span></span></code></pre></div><h2 id="代码提交到了错误的分支" tabindex="-1">代码提交到了错误的分支 <a class="header-anchor" href="#代码提交到了错误的分支" aria-label="Permalink to &quot;代码提交到了错误的分支&quot;">​</a></h2><h3 id="方法一" tabindex="-1">方法一 <a class="header-anchor" href="#方法一" aria-label="Permalink to &quot;方法一&quot;">​</a></h3><p>切换到正确的分支并使用， 将指定的提交复制到当前分支，并将其添加到暂存区</p><div class="language-zsh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">zsh</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#80A665;">git</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D;">cherry-pick</span><span style="color:#DBD7CAEE;"> [commit]</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#59873A;">git</span><span style="color:#393A34;"> </span><span style="color:#B56959;">cherry-pick</span><span style="color:#393A34;"> [commit]</span></span></code></pre></div><h3 id="方法二" tabindex="-1">方法二 <a class="header-anchor" href="#方法二" aria-label="Permalink to &quot;方法二&quot;">​</a></h3><p>使用 <code>git rebase</code> 命令将提交移动到正确的分支上：</p><ol><li>切换到错误分支上：<code>git checkout [error-branch]</code></li><li>将错误分支上的提交移动到正确分支上：<code>git rebase [correct-branch]</code></li><li>解决冲突（如果有）</li><li>将更改提交到正确的分支上：<code>git checkout [correct-branch]</code>，然后 <code>git merge [error-branch]</code></li><li>在错误分支<code>git push -f</code>更新远程代码</li></ol><h2 id="git-提交规范化" tabindex="-1">Git 提交规范化 <a class="header-anchor" href="#git-提交规范化" aria-label="Permalink to &quot;Git 提交规范化&quot;">​</a></h2><ul><li><strong>husky</strong>: Git 钩子工具,在 Git 提交过程的不同阶段自动运行脚本，以此来实现对代码的验证、格式化、测试等操作</li><li><strong>@commitlint/cli</strong>: 提交信息校验脚手架</li><li><strong>@commitlint/config-conventional</strong>: 定义了 commitlint 默认使用的规范。</li><li><strong>commitizen</strong>: 交互式提交工具</li><li><strong>conventional-changelog</strong>: 规范提交信息、并自动生成变更日志</li><li><strong>cz-conventional-changelog</strong>: git cz 提交规范和 changelog 生成工具</li></ul><h3 id="husky-文档" tabindex="-1"><a href="https://typicode.github.io/husky" target="_blank" rel="noreferrer">husky</a> <a href="https://typicode.github.io/husky/getting-started.html" target="_blank" rel="noreferrer">文档</a> <a class="header-anchor" href="#husky-文档" aria-label="Permalink to &quot;[husky](https://typicode.github.io/husky) [文档](https://typicode.github.io/husky/getting-started.html)&quot;">​</a></h3><div class="language-zsh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">zsh</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#758575DD;"># 安装</span></span>
<span class="line"><span style="color:#80A665;">pnpm</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D;">dlx</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D;">husky-init</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">&amp;&amp;</span><span style="color:#DBD7CAEE;"> </span><span style="color:#80A665;">pnpm</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D;">install</span></span>
<span class="line"><span style="color:#758575DD;"># 初始化husky配置，在根目录新增.husky配置文件。初始化配置pre-commit</span></span>
<span class="line"></span>
<span class="line"><span style="color:#758575DD;"># 新增一个提交git commit 执行前的钩子（commit-msg）</span></span>
<span class="line"><span style="color:#80A665;">npx</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D;">husky</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D;">add</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D;">.husky/commit-msg</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#A0ADA0;"># 安装</span></span>
<span class="line"><span style="color:#59873A;">pnpm</span><span style="color:#393A34;"> </span><span style="color:#B56959;">dlx</span><span style="color:#393A34;"> </span><span style="color:#B56959;">husky-init</span><span style="color:#393A34;"> </span><span style="color:#999999;">&amp;&amp;</span><span style="color:#393A34;"> </span><span style="color:#59873A;">pnpm</span><span style="color:#393A34;"> </span><span style="color:#B56959;">install</span></span>
<span class="line"><span style="color:#A0ADA0;"># 初始化husky配置，在根目录新增.husky配置文件。初始化配置pre-commit</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A0ADA0;"># 新增一个提交git commit 执行前的钩子（commit-msg）</span></span>
<span class="line"><span style="color:#59873A;">npx</span><span style="color:#393A34;"> </span><span style="color:#B56959;">husky</span><span style="color:#393A34;"> </span><span style="color:#B56959;">add</span><span style="color:#393A34;"> </span><span style="color:#B56959;">.husky/commit-msg</span></span></code></pre></div><h4 id="注意-需要-git-init后才能初始化-否则报错如下" tabindex="-1">注意：需要 <code>git init</code>后才能初始化，否则报错如下 <a class="header-anchor" href="#注意-需要-git-init后才能初始化-否则报错如下" aria-label="Permalink to &quot;注意：需要 \`git init\`后才能初始化，否则报错如下&quot;">​</a></h4><p><img src="https://zerdocs.oss-cn-shanghai.aliyuncs.com/interview/2023-06-27-20-25-35.png" alt="2023-06-27-20-25-35"></p><h3 id="commitlint-cli与-commitlint-config-conventional" tabindex="-1">@commitlint/cli与@commitlint/config-conventional <a class="header-anchor" href="#commitlint-cli与-commitlint-config-conventional" aria-label="Permalink to &quot;@commitlint/cli与@commitlint/config-conventional&quot;">​</a></h3><div class="language-zsh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">zsh</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#758575DD;">#安装校验脚手架、校验规范</span></span>
<span class="line"><span style="color:#80A665;">pnpm</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D;">i</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D;">@commitlint/cli</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D;">@commitlint/config-conventional</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C99076;">-D</span></span>
<span class="line"></span>
<span class="line"><span style="color:#758575DD;">#添加安装脚本呢</span></span>
<span class="line"><span style="color:#80A665;">pnpm</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D;">set-script</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D99;">&#39;</span><span style="color:#C98A7D;">&quot;prepare&quot;: &quot;husky install&quot;</span><span style="color:#C98A7D99;">&#39;</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#A0ADA0;">#安装校验脚手架、校验规范</span></span>
<span class="line"><span style="color:#59873A;">pnpm</span><span style="color:#393A34;"> </span><span style="color:#B56959;">i</span><span style="color:#393A34;"> </span><span style="color:#B56959;">@commitlint/cli</span><span style="color:#393A34;"> </span><span style="color:#B56959;">@commitlint/config-conventional</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">-D</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A0ADA0;">#添加安装脚本呢</span></span>
<span class="line"><span style="color:#59873A;">pnpm</span><span style="color:#393A34;"> </span><span style="color:#B56959;">set-script</span><span style="color:#393A34;"> </span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">&quot;prepare&quot;: &quot;husky install&quot;</span><span style="color:#B5695999;">&#39;</span></span></code></pre></div><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#758575DD;">// commitlint.config.js （若报错 type:&#39;module&#39;）可改：commitlint.config.js ==&gt; commitlint.config.cjs</span></span>
<span class="line"><span style="color:#B8A965;">module</span><span style="color:#666666;">.</span><span style="color:#B8A965;">exports</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#B8A965;">extends</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">[</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#C98A7D;">@commitlint/config-conventional</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#666666;">],</span></span>
<span class="line"><span style="color:#666666;">}</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#A0ADA0;">// commitlint.config.js （若报错 type:&#39;module&#39;）可改：commitlint.config.js ==&gt; commitlint.config.cjs</span></span>
<span class="line"><span style="color:#998418;">module</span><span style="color:#999999;">.</span><span style="color:#998418;">exports</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#998418;">extends</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#999999;">[</span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">@commitlint/config-conventional</span><span style="color:#B5695999;">&#39;</span><span style="color:#999999;">],</span></span>
<span class="line"><span style="color:#999999;">}</span></span></code></pre></div><h3 id="commitizen" tabindex="-1"><a href="http://commitizen.github.io/cz-cli/" target="_blank" rel="noreferrer">commitizen</a> <a class="header-anchor" href="#commitizen" aria-label="Permalink to &quot;[commitizen](http://commitizen.github.io/cz-cli/)&quot;">​</a></h3><div class="language-zsh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">zsh</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#758575DD;">#全局安装</span></span>
<span class="line"><span style="color:#80A665;">npm</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D;">install</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C99076;">-g</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D;">commitizen</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#A0ADA0;">#全局安装</span></span>
<span class="line"><span style="color:#59873A;">npm</span><span style="color:#393A34;"> </span><span style="color:#B56959;">install</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">-g</span><span style="color:#393A34;"> </span><span style="color:#B56959;">commitizen</span></span></code></pre></div><h3 id="cz-conventional-changelog" tabindex="-1">cz-conventional-changelog <a class="header-anchor" href="#cz-conventional-changelog" aria-label="Permalink to &quot;cz-conventional-changelog&quot;">​</a></h3><div class="language-zsh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">zsh</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#758575DD;">#全局安装</span></span>
<span class="line"><span style="color:#80A665;">npm</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D;">install</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C99076;">-g</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D;">cz-conventional-changelog</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#A0ADA0;">#全局安装</span></span>
<span class="line"><span style="color:#59873A;">npm</span><span style="color:#393A34;"> </span><span style="color:#B56959;">install</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">-g</span><span style="color:#393A34;"> </span><span style="color:#B56959;">cz-conventional-changelog</span></span></code></pre></div><p>配置 <code>~/.czrc</code>， 将其设置为 <code>commitizen</code> 的插件。</p><div class="language-zsh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">zsh</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#80A665;">&quot;path&quot;</span><span style="color:#B8A965;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D99;">&quot;</span><span style="color:#C98A7D;">cz-conventional-changelog</span><span style="color:#C98A7D99;">&quot;</span></span>
<span class="line"><span style="color:#666666;">}</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#59873A;">&quot;path&quot;</span><span style="color:#998418;">:</span><span style="color:#393A34;"> </span><span style="color:#B5695999;">&quot;</span><span style="color:#B56959;">cz-conventional-changelog</span><span style="color:#B5695999;">&quot;</span></span>
<span class="line"><span style="color:#999999;">}</span></span></code></pre></div><div class="tip custom-block"><p class="custom-block-title">作用：提交代码并生成变更日志</p><p>使用 <code>commitizen</code> 提交代码时，会自动启动 <code>cz-conventional-changelog</code> 插件，</p><p>并根据 <code>conventional-commit</code> 规范提示用户输入提交信息。</p><p>输入完毕后，会自动将提交信息转换成符合规范的格式，并将其写入到 <code>CHANGELOG.md</code> 文件中。</p></div><h2 id="浅克隆-github-仓库-push-到-gitee-仓库" tabindex="-1">浅克隆 github 仓库，push 到 gitee 仓库 <a class="header-anchor" href="#浅克隆-github-仓库-push-到-gitee-仓库" aria-label="Permalink to &quot;浅克隆 github 仓库，push 到 gitee 仓库&quot;">​</a></h2><div class="danger custom-block"><p class="custom-block-title">报错：</p><blockquote><p><code>! [remote rejected] main -&gt; main (shallow update not allowed)</code> :::</p></blockquote><div class="language-zsh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">zsh</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#80A665;">git</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D;">fetch</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C99076;">--unshallow</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D;">origin</span><span style="color:#DBD7CAEE;">  </span><span style="color:#758575DD;"># 取消浅克隆，拉取完整的仓库</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#59873A;">git</span><span style="color:#393A34;"> </span><span style="color:#B56959;">fetch</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">--unshallow</span><span style="color:#393A34;"> </span><span style="color:#B56959;">origin</span><span style="color:#393A34;">  </span><span style="color:#A0ADA0;"># 取消浅克隆，拉取完整的仓库</span></span></code></pre></div><h2 id="git-module" tabindex="-1">Git Module <a class="header-anchor" href="#git-module" aria-label="Permalink to &quot;Git Module&quot;">​</a></h2><p>拉取依赖其他模块的项目时，需要初始化子模块，下列两种方式均可：</p><ol><li><code>git clone --recursive https://github.com/xxx/yyy.git</code></li><li><code>git clone https://github.com/xxx/yyy.git</code>，<code>git submodule update --init --recursive</code></li></ol></div>`,67),e=[p];function t(c,r,i,y,A,D){return a(),n("div",null,e)}const h=s(o,[["render",t]]);export{g as __pageData,h as default};
